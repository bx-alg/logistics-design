{"remainingRequest":"/Users/bx/logistics-design/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/bx/logistics-design/frontend/src/views/order/forecast.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/bx/logistics-design/frontend/src/views/order/forecast.vue","mtime":1747999544416},{"path":"/Users/bx/logistics-design/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1747185535160},{"path":"/Users/bx/logistics-design/frontend/node_modules/vue-loader/lib/index.js","mtime":1747185534034}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCAqIGFzIGVjaGFydHMgZnJvbSAnZWNoYXJ0cycKaW1wb3J0IEZpbGVTYXZlciBmcm9tICdmaWxlLXNhdmVyJwppbXBvcnQgWExTWCBmcm9tICd4bHN4JwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdPcmRlckZvcmVjYXN0JywKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIGZpbHRlckZvcm06IHsKICAgICAgICBjYXRlZ29yeTogW10sCiAgICAgICAgcGVyaW9kOiAnbW9udGgnLAogICAgICAgIGFsZ29yaXRobTogJ2FyaW1hJywKICAgICAgICBjb25maWRlbmNlOiA5NSwKICAgICAgICBkYXRlUmFuZ2U6IFtdCiAgICAgIH0sCiAgICAgIGNhdGVnb3J5T3B0aW9uczogWwogICAgICAgIHsKICAgICAgICAgIHZhbHVlOiAnZWxlY3Ryb25pY3MnLAogICAgICAgICAgbGFiZWw6ICfnlLXlrZDkuqflk4EnLAogICAgICAgICAgY2hpbGRyZW46IFsKICAgICAgICAgICAgeyB2YWx1ZTogJ3Bob25lJywgbGFiZWw6ICfmiYvmnLonIH0sCiAgICAgICAgICAgIHsgdmFsdWU6ICdsYXB0b3AnLCBsYWJlbDogJ+eslOiusOacrCcgfSwKICAgICAgICAgICAgeyB2YWx1ZTogJ3RhYmxldCcsIGxhYmVsOiAn5bmz5p2/JyB9CiAgICAgICAgICBdCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB2YWx1ZTogJ2FwcGxpYW5jZXMnLAogICAgICAgICAgbGFiZWw6ICflrrbnlKjnlLXlmagnLAogICAgICAgICAgY2hpbGRyZW46IFsKICAgICAgICAgICAgeyB2YWx1ZTogJ3R2JywgbGFiZWw6ICfnlLXop4YnIH0sCiAgICAgICAgICAgIHsgdmFsdWU6ICdmcmlkZ2UnLCBsYWJlbDogJ+WGsOeusScgfSwKICAgICAgICAgICAgeyB2YWx1ZTogJ3dhc2hlcicsIGxhYmVsOiAn5rSX6KGj5py6JyB9CiAgICAgICAgICBdCiAgICAgICAgfQogICAgICBdLAogICAgICBwZXJpb2RPcHRpb25zOiBbCiAgICAgICAgeyBsYWJlbDogJ+acquadpeS4gOWRqCcsIHZhbHVlOiAnd2VlaycgfSwKICAgICAgICB7IGxhYmVsOiAn5pyq5p2l5LiA5Liq5pyIJywgdmFsdWU6ICdtb250aCcgfSwKICAgICAgICB7IGxhYmVsOiAn5pyq5p2l5LiA5Liq5a2j5bqmJywgdmFsdWU6ICdxdWFydGVyJyB9LAogICAgICAgIHsgbGFiZWw6ICfmnKrmnaXkuIDlubQnLCB2YWx1ZTogJ3llYXInIH0KICAgICAgXSwKICAgICAgYWxnb3JpdGhtT3B0aW9uczogWwogICAgICAgIHsgbGFiZWw6ICdBUklNQeaooeWeiycsIHZhbHVlOiAnYXJpbWEnIH0sCiAgICAgICAgeyBsYWJlbDogJ+aMh+aVsOW5s+a7keazlScsIHZhbHVlOiAnZXhwb25lbnRpYWwnIH0sCiAgICAgICAgeyBsYWJlbDogJ+Wto+iKguaAp+WIhuinoycsIHZhbHVlOiAnc2Vhc29uYWwnIH0sCiAgICAgICAgeyBsYWJlbDogJ+elnue7j+e9kee7nCcsIHZhbHVlOiAnbmV1cmFsJyB9CiAgICAgIF0sCiAgICAgIGNvbmZpZGVuY2VPcHRpb25zOiBbCiAgICAgICAgeyBsYWJlbDogJzkwJScsIHZhbHVlOiA5MCB9LAogICAgICAgIHsgbGFiZWw6ICc5NSUnLCB2YWx1ZTogOTUgfSwKICAgICAgICB7IGxhYmVsOiAnOTklJywgdmFsdWU6IDk5IH0KICAgICAgXSwKICAgICAgcGlja2VyT3B0aW9uczogewogICAgICAgIHNob3J0Y3V0czogWwogICAgICAgICAgewogICAgICAgICAgICB0ZXh0OiAn5pyA6L+R5LiA5ZGoJywKICAgICAgICAgICAgb25DbGljayhwaWNrZXIpIHsKICAgICAgICAgICAgICBjb25zdCBlbmQgPSBuZXcgRGF0ZSgpCiAgICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZSgpCiAgICAgICAgICAgICAgc3RhcnQuc2V0VGltZShzdGFydC5nZXRUaW1lKCkgLSAzNjAwICogMTAwMCAqIDI0ICogNykKICAgICAgICAgICAgICBwaWNrZXIuJGVtaXQoJ3BpY2snLCBbc3RhcnQsIGVuZF0pCiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIHRleHQ6ICfmnIDov5HkuIDkuKrmnIgnLAogICAgICAgICAgICBvbkNsaWNrKHBpY2tlcikgewogICAgICAgICAgICAgIGNvbnN0IGVuZCA9IG5ldyBEYXRlKCkKICAgICAgICAgICAgICBjb25zdCBzdGFydCA9IG5ldyBEYXRlKCkKICAgICAgICAgICAgICBzdGFydC5zZXRNb250aChzdGFydC5nZXRNb250aCgpIC0gMSkKICAgICAgICAgICAgICBwaWNrZXIuJGVtaXQoJ3BpY2snLCBbc3RhcnQsIGVuZF0pCiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIHRleHQ6ICfmnIDov5HkuInkuKrmnIgnLAogICAgICAgICAgICBvbkNsaWNrKHBpY2tlcikgewogICAgICAgICAgICAgIGNvbnN0IGVuZCA9IG5ldyBEYXRlKCkKICAgICAgICAgICAgICBjb25zdCBzdGFydCA9IG5ldyBEYXRlKCkKICAgICAgICAgICAgICBzdGFydC5zZXRNb250aChzdGFydC5nZXRNb250aCgpIC0gMykKICAgICAgICAgICAgICBwaWNrZXIuJGVtaXQoJ3BpY2snLCBbc3RhcnQsIGVuZF0pCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICBdCiAgICAgIH0sCiAgICAgIGNoYXJ0VHlwZTogJ2xpbmUnLAogICAgICBzaG93Q29uZmlkZW5jZUludGVydmFsOiB0cnVlLAogICAgICByYW5raW5nVHlwZTogJ3ZvbHVtZScsCiAgICAgIHRvcFByb2R1Y3RzTGlzdDogW10sCiAgICAgIGZvcmVjYXN0QWNjdXJhY3k6IDg1LAogICAgICBhdmVyYWdlRXJyb3I6IDguNSwKICAgICAgdHJlbmQ6IHsKICAgICAgICB0eXBlOiAndXAnLAogICAgICAgIHRleHQ6ICfkuIrljYfotovlir8nCiAgICAgIH0sCiAgICAgIHNlYXNvbmFsaXR5SW5kZXg6IDAuODIsCiAgICAgIHNob3dBZHZhbmNlZFNldHRpbmdzOiBmYWxzZSwKICAgICAgYWR2YW5jZWRTZXR0aW5nczogewogICAgICAgIHNlYXNvbmFsaXR5OiAxMiwKICAgICAgICBkZWNvbXBvc2l0aW9uOiAnbXVsdGlwbGljYXRpdmUnLAogICAgICAgIG91dGxpZXJNZXRob2Q6ICdtb3ZpbmdfYXZlcmFnZScsCiAgICAgICAgZm9yZWNhc3RTdGVwczogMzAKICAgICAgfSwKICAgICAgY2hhcnRzOiB7CiAgICAgICAgZm9yZWNhc3RDaGFydDogbnVsbAogICAgICB9LAogICAgICBhY2N1cmFjeUNvbG9yczogWwogICAgICAgIHtjb2xvcjogJyNGNTZDNkMnLCBwZXJjZW50YWdlOiA2MH0sCiAgICAgICAge2NvbG9yOiAnI0U2QTIzQycsIHBlcmNlbnRhZ2U6IDcwfSwKICAgICAgICB7Y29sb3I6ICcjNjdDMjNBJywgcGVyY2VudGFnZTogODB9LAogICAgICAgIHtjb2xvcjogJyM0MDlFRkYnLCBwZXJjZW50YWdlOiA5MH0KICAgICAgXQogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuaW5pdENoYXJ0cygpCiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5yZXNpemVDaGFydHMpCiAgICB0aGlzLmdlbmVyYXRlTW9ja0RhdGEoKQogIH0sCiAgYmVmb3JlRGVzdHJveSgpIHsKICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLnJlc2l6ZUNoYXJ0cykKICAgIHRoaXMuZGVzdHJveUNoYXJ0cygpCiAgfSwKICBtZXRob2RzOiB7CiAgICBpbml0Q2hhcnRzKCkgewogICAgICB0aGlzLmNoYXJ0cy5mb3JlY2FzdENoYXJ0ID0gZWNoYXJ0cy5pbml0KHRoaXMuJHJlZnMuZm9yZWNhc3RDaGFydCkKICAgICAgdGhpcy51cGRhdGVGb3JlY2FzdENoYXJ0KCkKICAgIH0sCiAgICBnZW5lcmF0ZU1vY2tEYXRhKCkgewogICAgICAvLyDnlJ/miJDmqKHmi5/nmoTkuqflk4HmjpLlkI3mlbDmja4KICAgICAgdGhpcy50b3BQcm9kdWN0c0xpc3QgPSBbCiAgICAgICAgeyByYW5rOiAxLCBwcm9kdWN0TmFtZTogJ+aZuuiDveaJi+acukEnLCBmb3JlY2FzdDogMTI1MDAsIGdyb3d0aDogMTUuMyB9LAogICAgICAgIHsgcmFuazogMiwgcHJvZHVjdE5hbWU6ICfnrJTorrDmnKznlLXohJFCJywgZm9yZWNhc3Q6IDg2MDAsIGdyb3d0aDogOC4yIH0sCiAgICAgICAgeyByYW5rOiAzLCBwcm9kdWN0TmFtZTogJ+W5s+adv+eUteiEkUMnLCBmb3JlY2FzdDogNzIwMCwgZ3Jvd3RoOiA1LjcgfSwKICAgICAgICB7IHJhbms6IDQsIHByb2R1Y3ROYW1lOiAn5pm66IO95omL6KGoRCcsIGZvcmVjYXN0OiA1ODAwLCBncm93dGg6IDEyLjEgfSwKICAgICAgICB7IHJhbms6IDUsIHByb2R1Y3ROYW1lOiAn5pm66IO96Z+z566xRScsIGZvcmVjYXN0OiA0NTAwLCBncm93dGg6IDkuNSB9LAogICAgICAgIHsgcmFuazogNiwgcHJvZHVjdE5hbWU6ICfogLPmnLpGJywgZm9yZWNhc3Q6IDM5MDAsIGdyb3d0aDogLTIuOCB9LAogICAgICAgIHsgcmFuazogNywgcHJvZHVjdE5hbWU6ICfmmL7npLrlmahHJywgZm9yZWNhc3Q6IDMyMDAsIGdyb3d0aDogMS41IH0sCiAgICAgICAgeyByYW5rOiA4LCBwcm9kdWN0TmFtZTogJ+mUruebmEgnLCBmb3JlY2FzdDogMjgwMCwgZ3Jvd3RoOiAtMS4yIH0KICAgICAgXQogICAgfSwKICAgIHVwZGF0ZUZvcmVjYXN0Q2hhcnQoKSB7CiAgICAgIGNvbnN0IGRhdGVzID0gW10KICAgICAgY29uc3QgaGlzdG9yaWNhbERhdGEgPSBbXQogICAgICBjb25zdCBmb3JlY2FzdERhdGEgPSBbXQogICAgICBjb25zdCBjb25maWRlbmNlVXBwZXIgPSBbXQogICAgICBjb25zdCBjb25maWRlbmNlTG93ZXIgPSBbXQogICAgICAKICAgICAgLy8g55Sf5oiQ5pel5pyf5ZKM5pWw5o2uCiAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkKICAgICAgbGV0IGRhdGVGb3JtYXQgPSAnTU0tZGQnCiAgICAgIGxldCBkYXlzID0gMzAKICAgICAgCiAgICAgIHN3aXRjaCAodGhpcy5maWx0ZXJGb3JtLnBlcmlvZCkgewogICAgICAgIGNhc2UgJ3dlZWsnOgogICAgICAgICAgZGF5cyA9IDcKICAgICAgICAgIGRhdGVGb3JtYXQgPSAnTU0tZGQnCiAgICAgICAgICBicmVhawogICAgICAgIGNhc2UgJ21vbnRoJzoKICAgICAgICAgIGRheXMgPSAzMAogICAgICAgICAgZGF0ZUZvcm1hdCA9ICdNTS1kZCcKICAgICAgICAgIGJyZWFrCiAgICAgICAgY2FzZSAncXVhcnRlcic6CiAgICAgICAgICBkYXlzID0gOTAKICAgICAgICAgIGRhdGVGb3JtYXQgPSAnTU0tZGQnCiAgICAgICAgICBicmVhawogICAgICAgIGNhc2UgJ3llYXInOgogICAgICAgICAgZGF5cyA9IDM2NQogICAgICAgICAgZGF0ZUZvcm1hdCA9ICd5eXl5LU1NJwogICAgICAgICAgYnJlYWsKICAgICAgfQogICAgICAKICAgICAgLy8g55Sf5oiQ5Y6G5Y+y5pWw5o2u5ZKM6aKE5rWL5pWw5o2uCiAgICAgIGZvciAobGV0IGkgPSAzMDsgaSA+IDA7IGktLSkgewogICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShub3cuZ2V0VGltZSgpIC0gaSAqIDI0ICogNjAgKiA2MCAqIDEwMDApCiAgICAgICAgY29uc3QgYmFzZVZhbHVlID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNTAwICsgNTAwKQogICAgICAgIGhpc3RvcmljYWxEYXRhLnB1c2goYmFzZVZhbHVlKQogICAgICAgIAogICAgICAgIGlmIChpIDw9IGRheXMpIHsKICAgICAgICAgIGRhdGVzLnB1c2godGhpcy5mb3JtYXREYXRlKGRhdGUsIGRhdGVGb3JtYXQpKQogICAgICAgIH0KICAgICAgfQogICAgICAKICAgICAgLy8g55Sf5oiQ6aKE5rWL5pWw5o2u5ZKM572u5L+h5Yy66Ze0CiAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IGRheXM7IGkrKykgewogICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShub3cuZ2V0VGltZSgpICsgaSAqIDI0ICogNjAgKiA2MCAqIDEwMDApCiAgICAgICAgZGF0ZXMucHVzaCh0aGlzLmZvcm1hdERhdGUoZGF0ZSwgZGF0ZUZvcm1hdCkpCiAgICAgICAgCiAgICAgICAgY29uc3QgYmFzZVZhbHVlID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMjAwICsgNjAwKQogICAgICAgIGZvcmVjYXN0RGF0YS5wdXNoKGJhc2VWYWx1ZSkKICAgICAgICAKICAgICAgICBpZiAodGhpcy5zaG93Q29uZmlkZW5jZUludGVydmFsKSB7CiAgICAgICAgICBjb25zdCBpbnRlcnZhbCA9IGJhc2VWYWx1ZSAqIDAuMQogICAgICAgICAgY29uZmlkZW5jZVVwcGVyLnB1c2goYmFzZVZhbHVlICsgaW50ZXJ2YWwpCiAgICAgICAgICBjb25maWRlbmNlTG93ZXIucHVzaChiYXNlVmFsdWUgLSBpbnRlcnZhbCkKICAgICAgICB9CiAgICAgIH0KICAgICAgCiAgICAgIC8vIOmFjee9ruWbvuihqOmAiemhuQogICAgICBjb25zdCBvcHRpb24gPSB7CiAgICAgICAgdG9vbHRpcDogewogICAgICAgICAgdHJpZ2dlcjogJ2F4aXMnLAogICAgICAgICAgYXhpc1BvaW50ZXI6IHsKICAgICAgICAgICAgdHlwZTogJ2Nyb3NzJwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgbGVnZW5kOiB7CiAgICAgICAgICBkYXRhOiBbJ+WOhuWPsumUgOmHjycsICfpooTmtYvplIDph48nXS5jb25jYXQodGhpcy5zaG93Q29uZmlkZW5jZUludGVydmFsID8gWyfnva7kv6HljLrpl7QnXSA6IFtdKQogICAgICAgIH0sCiAgICAgICAgZ3JpZDogewogICAgICAgICAgbGVmdDogJzMlJywKICAgICAgICAgIHJpZ2h0OiAnNCUnLAogICAgICAgICAgYm90dG9tOiAnMyUnLAogICAgICAgICAgY29udGFpbkxhYmVsOiB0cnVlCiAgICAgICAgfSwKICAgICAgICB4QXhpczogewogICAgICAgICAgdHlwZTogJ2NhdGVnb3J5JywKICAgICAgICAgIGJvdW5kYXJ5R2FwOiB0aGlzLmNoYXJ0VHlwZSA9PT0gJ2JhcicsCiAgICAgICAgICBkYXRhOiBkYXRlcywKICAgICAgICAgIGF4aXNMYWJlbDogewogICAgICAgICAgICByb3RhdGU6IDQ1CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICB5QXhpczogewogICAgICAgICAgdHlwZTogJ3ZhbHVlJywKICAgICAgICAgIG5hbWU6ICfplIDph48nCiAgICAgICAgfSwKICAgICAgICBzZXJpZXM6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgbmFtZTogJ+WOhuWPsumUgOmHjycsCiAgICAgICAgICAgIHR5cGU6IHRoaXMuY2hhcnRUeXBlLAogICAgICAgICAgICBkYXRhOiBoaXN0b3JpY2FsRGF0YS5zbGljZSgtZGF5cyksCiAgICAgICAgICAgIGl0ZW1TdHlsZTogewogICAgICAgICAgICAgIGNvbG9yOiAnIzQwOUVGRicKICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgbmFtZTogJ+mihOa1i+mUgOmHjycsCiAgICAgICAgICAgIHR5cGU6IHRoaXMuY2hhcnRUeXBlLAogICAgICAgICAgICBkYXRhOiBmb3JlY2FzdERhdGEsCiAgICAgICAgICAgIGl0ZW1TdHlsZTogewogICAgICAgICAgICAgIGNvbG9yOiAnIzY3QzIzQScKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIF0uY29uY2F0KHRoaXMuc2hvd0NvbmZpZGVuY2VJbnRlcnZhbCA/IFsKICAgICAgICAgIHsKICAgICAgICAgICAgbmFtZTogJ+e9ruS/oeWMuumXtCcsCiAgICAgICAgICAgIHR5cGU6ICdsaW5lJywKICAgICAgICAgICAgZGF0YTogY29uZmlkZW5jZVVwcGVyLAogICAgICAgICAgICBsaW5lU3R5bGU6IHsKICAgICAgICAgICAgICBvcGFjaXR5OiAwLjMsCiAgICAgICAgICAgICAgdHlwZTogJ2Rhc2hlZCcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYXJlYVN0eWxlOiB7CiAgICAgICAgICAgICAgb3BhY2l0eTogMC4xCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHN0YWNrOiAnY29uZmlkZW5jZScsCiAgICAgICAgICAgIHN5bWJvbDogJ25vbmUnCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBuYW1lOiAn572u5L+h5Yy66Ze0JywKICAgICAgICAgICAgdHlwZTogJ2xpbmUnLAogICAgICAgICAgICBkYXRhOiBjb25maWRlbmNlTG93ZXIsCiAgICAgICAgICAgIGxpbmVTdHlsZTogewogICAgICAgICAgICAgIG9wYWNpdHk6IDAuMywKICAgICAgICAgICAgICB0eXBlOiAnZGFzaGVkJwogICAgICAgICAgICB9LAogICAgICAgICAgICBhcmVhU3R5bGU6IHsKICAgICAgICAgICAgICBvcGFjaXR5OiAwLjEKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc3RhY2s6ICdjb25maWRlbmNlJywKICAgICAgICAgICAgc3ltYm9sOiAnbm9uZScKICAgICAgICAgIH0KICAgICAgICBdIDogW10pCiAgICAgIH0KICAgICAgCiAgICAgIHRoaXMuY2hhcnRzLmZvcmVjYXN0Q2hhcnQuc2V0T3B0aW9uKG9wdGlvbikKICAgIH0sCiAgICBmb3JtYXREYXRlKGRhdGUsIGZvcm1hdCkgewogICAgICBjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpCiAgICAgIGNvbnN0IG1vbnRoID0gZGF0ZS5nZXRNb250aCgpICsgMQogICAgICBjb25zdCBkYXkgPSBkYXRlLmdldERhdGUoKQogICAgICAKICAgICAgaWYgKGZvcm1hdCA9PT0gJ3l5eXktTU0nKSB7CiAgICAgICAgcmV0dXJuIGAke3llYXJ9LSR7bW9udGggPCAxMCA/ICcwJyArIG1vbnRoIDogbW9udGh9YAogICAgICB9CiAgICAgIAogICAgICByZXR1cm4gYCR7bW9udGggPCAxMCA/ICcwJyArIG1vbnRoIDogbW9udGh9LSR7ZGF5IDwgMTAgPyAnMCcgKyBkYXkgOiBkYXl9YAogICAgfSwKICAgIGhhbmRsZUZvcmVjYXN0KCkgewogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlCiAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIHRoaXMudXBkYXRlRm9yZWNhc3RDaGFydCgpCiAgICAgICAgdGhpcy5nZW5lcmF0ZU1vY2tEYXRhKCkKICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn6aKE5rWL5pWw5o2u5bey5pu05pawJykKICAgICAgfSwgMTUwMCkKICAgIH0sCiAgICBoYW5kbGVBZHZhbmNlZFNldHRpbmdzU2F2ZSgpIHsKICAgICAgdGhpcy5zaG93QWR2YW5jZWRTZXR0aW5ncyA9IGZhbHNlCiAgICAgIHRoaXMuaGFuZGxlRm9yZWNhc3QoKQogICAgfSwKICAgIGV4cG9ydERhdGEoKSB7CiAgICAgIGNvbnN0IGRhdGEgPSBbCiAgICAgICAgWyfkuqflk4HlkI3np7AnLCAn6aKE5rWL6ZSA6YePJywgJ+WinumVv+eOhyddLAogICAgICAgIC4uLnRoaXMudG9wUHJvZHVjdHNMaXN0Lm1hcChpdGVtID0+IFsKICAgICAgICAgIGl0ZW0ucHJvZHVjdE5hbWUsCiAgICAgICAgICBpdGVtLmZvcmVjYXN0LAogICAgICAgICAgYCR7aXRlbS5ncm93dGh9JWAKICAgICAgICBdKQogICAgICBdCiAgICAgIAogICAgICBjb25zdCB3cyA9IFhMU1gudXRpbHMuYW9hX3RvX3NoZWV0KGRhdGEpCiAgICAgIGNvbnN0IHdiID0gWExTWC51dGlscy5ib29rX25ldygpCiAgICAgIFhMU1gudXRpbHMuYm9va19hcHBlbmRfc2hlZXQod2IsIHdzLCAn6ZSA6YeP6aKE5rWL5pWw5o2uJykKICAgICAgCiAgICAgIGNvbnN0IHdib3V0ID0gWExTWC53cml0ZSh3YiwgeyBib29rVHlwZTogJ3hsc3gnLCB0eXBlOiAnYXJyYXknIH0pCiAgICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbd2JvdXRdLCB7IHR5cGU6ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nIH0pCiAgICAgIEZpbGVTYXZlci5zYXZlQXMoYmxvYiwgYOmUgOmHj+mihOa1i+aKpeWRil8ke25ldyBEYXRlKCkudG9Mb2NhbGVEYXRlU3RyaW5nKCl9Lnhsc3hgKQogICAgfSwKICAgIHJlc2l6ZUNoYXJ0cygpIHsKICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGhpcy5jaGFydHMpIHsKICAgICAgICBpZiAodGhpcy5jaGFydHNba2V5XSkgewogICAgICAgICAgdGhpcy5jaGFydHNba2V5XS5yZXNpemUoKQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGRlc3Ryb3lDaGFydHMoKSB7CiAgICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMuY2hhcnRzKSB7CiAgICAgICAgaWYgKHRoaXMuY2hhcnRzW2tleV0pIHsKICAgICAgICAgIHRoaXMuY2hhcnRzW2tleV0uZGlzcG9zZSgpCiAgICAgICAgICB0aGlzLmNoYXJ0c1trZXldID0gbnVsbAogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGNoYXJ0VHlwZSgpIHsKICAgICAgdGhpcy51cGRhdGVGb3JlY2FzdENoYXJ0KCkKICAgIH0sCiAgICBzaG93Q29uZmlkZW5jZUludGVydmFsKCkgewogICAgICB0aGlzLnVwZGF0ZUZvcmVjYXN0Q2hhcnQoKQogICAgfSwKICAgIHJhbmtpbmdUeXBlKCkgewogICAgICAvLyDmoLnmja7mjpLlkI3nsbvlnovph43mlrDmjpLluo8KICAgICAgdGhpcy50b3BQcm9kdWN0c0xpc3Quc29ydCgoYSwgYikgPT4gewogICAgICAgIHJldHVybiB0aGlzLnJhbmtpbmdUeXBlID09PSAndm9sdW1lJwogICAgICAgICAgPyBiLmZvcmVjYXN0IC0gYS5mb3JlY2FzdAogICAgICAgICAgOiBiLmdyb3d0aCAtIGEuZ3Jvd3RoCiAgICAgIH0pCiAgICAgIAogICAgICAvLyDmm7TmlrDmjpLlkI0KICAgICAgdGhpcy50b3BQcm9kdWN0c0xpc3QuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHsKICAgICAgICBpdGVtLnJhbmsgPSBpbmRleCArIDEKICAgICAgfSkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["forecast.vue"],"names":[],"mappings":";AAyKA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"forecast.vue","sourceRoot":"src/views/order","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-card class=\"filter-container\">\n      <div slot=\"header\">\n        <span>销量预测</span>\n        <el-button style=\"float: right; margin-left: 10px;\" type=\"success\" icon=\"el-icon-download\" @click=\"exportData\">导出预测数据</el-button>\n      </div>\n      <div class=\"filter-item-container\">\n        <div class=\"filter-item\">\n          <span class=\"label\">产品类别：</span>\n          <el-cascader\n            v-model=\"filterForm.category\"\n            :options=\"categoryOptions\"\n            :props=\"{ checkStrictly: true }\"\n            clearable\n            placeholder=\"请选择产品类别\"\n            style=\"width: 220px\"\n          />\n        </div>\n        <div class=\"filter-item\">\n          <span class=\"label\">预测周期：</span>\n          <el-select v-model=\"filterForm.period\" placeholder=\"请选择\" style=\"width: 180px\">\n            <el-option v-for=\"item in periodOptions\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\" />\n          </el-select>\n        </div>\n        <div class=\"filter-item\">\n          <span class=\"label\">预测算法：</span>\n          <el-select v-model=\"filterForm.algorithm\" placeholder=\"请选择\" style=\"width: 180px\">\n            <el-option v-for=\"item in algorithmOptions\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\" />\n          </el-select>\n        </div>\n        <div class=\"filter-item\">\n          <span class=\"label\">置信区间：</span>\n          <el-select v-model=\"filterForm.confidence\" placeholder=\"请选择\" style=\"width: 140px\">\n            <el-option v-for=\"item in confidenceOptions\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\" />\n          </el-select>\n        </div>\n        <div class=\"filter-item\">\n          <span class=\"label\">历史数据：</span>\n          <el-date-picker\n            v-model=\"filterForm.dateRange\"\n            type=\"daterange\"\n            range-separator=\"至\"\n            start-placeholder=\"开始日期\"\n            end-placeholder=\"结束日期\"\n            :picker-options=\"pickerOptions\"\n            style=\"width: 320px\"\n          />\n        </div>\n      </div>\n      <div class=\"filter-item-container\" style=\"margin-top: 10px;\">\n        <el-button type=\"primary\" icon=\"el-icon-refresh\" @click=\"handleForecast\">生成预测</el-button>\n        <el-button type=\"info\" icon=\"el-icon-setting\" @click=\"showAdvancedSettings = true\">高级设置</el-button>\n      </div>\n    </el-card>\n\n    <div class=\"chart-container\" v-loading=\"loading\">\n      <el-row :gutter=\"20\">\n        <el-col :span=\"24\">\n          <el-card shadow=\"hover\">\n            <div slot=\"header\">\n              <span>销量预测图表</span>\n              <div style=\"float: right;\">\n                <el-radio-group v-model=\"chartType\" size=\"mini\" style=\"margin-right: 15px;\">\n                  <el-radio-button label=\"line\">折线图</el-radio-button>\n                  <el-radio-button label=\"bar\">柱状图</el-radio-button>\n                </el-radio-group>\n                <el-switch\n                  v-model=\"showConfidenceInterval\"\n                  active-text=\"显示置信区间\"\n                  inactive-text=\"\"\n                />\n              </div>\n            </div>\n            <div ref=\"forecastChart\" style=\"height: 400px;\"></div>\n          </el-card>\n        </el-col>\n      </el-row>\n\n      <el-row :gutter=\"20\" style=\"margin-top: 20px;\">\n        <el-col :span=\"12\">\n          <el-card shadow=\"hover\">\n            <div slot=\"header\">\n              <span>产品预测排行</span>\n              <el-select v-model=\"rankingType\" size=\"mini\" style=\"float: right; width: 120px\">\n                <el-option label=\"销量排名\" value=\"volume\" />\n                <el-option label=\"增长率排名\" value=\"growth\" />\n              </el-select>\n            </div>\n            <el-table :data=\"topProductsList\" border style=\"width: 100%\">\n              <el-table-column prop=\"rank\" label=\"排名\" width=\"80\" align=\"center\" />\n              <el-table-column prop=\"productName\" label=\"产品名称\" align=\"center\" />\n              <el-table-column prop=\"forecast\" label=\"预测销量\" align=\"center\">\n                <template slot-scope=\"scope\">\n                  {{ scope.row.forecast.toLocaleString() }}\n                </template>\n              </el-table-column>\n              <el-table-column prop=\"growth\" label=\"增长率\" align=\"center\">\n                <template slot-scope=\"scope\">\n                  <span :class=\"['growth-rate', scope.row.growth >= 0 ? 'positive' : 'negative']\">\n                    {{ scope.row.growth >= 0 ? '+' : '' }}{{ scope.row.growth }}%\n                  </span>\n                </template>\n              </el-table-column>\n            </el-table>\n          </el-card>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-card shadow=\"hover\">\n            <div slot=\"header\">\n              <span>预测分析报告</span>\n            </div>\n            <div class=\"analysis-container\">\n              <div class=\"analysis-item\">\n                <div class=\"analysis-label\">预测准确率</div>\n                <el-progress type=\"circle\" :percentage=\"forecastAccuracy\" :color=\"accuracyColors\"></el-progress>\n              </div>\n              <div class=\"analysis-stats\">\n                <div class=\"stat-item\">\n                  <div class=\"stat-label\">平均误差率</div>\n                  <div class=\"stat-value\">{{ averageError }}%</div>\n                </div>\n                <div class=\"stat-item\">\n                  <div class=\"stat-label\">预测趋势</div>\n                  <div class=\"stat-value\" :class=\"trend.type\">{{ trend.text }}</div>\n                </div>\n                <div class=\"stat-item\">\n                  <div class=\"stat-label\">季节性指数</div>\n                  <div class=\"stat-value\">{{ seasonalityIndex }}</div>\n                </div>\n              </div>\n            </div>\n          </el-card>\n        </el-col>\n      </el-row>\n    </div>\n\n    <!-- 高级设置对话框 -->\n    <el-dialog title=\"预测高级设置\" :visible.sync=\"showAdvancedSettings\" width=\"600px\">\n      <el-form :model=\"advancedSettings\" label-width=\"140px\">\n        <el-form-item label=\"季节性周期\">\n          <el-input-number v-model=\"advancedSettings.seasonality\" :min=\"1\" :max=\"52\"></el-input-number>\n        </el-form-item>\n        <el-form-item label=\"趋势分解方法\">\n          <el-select v-model=\"advancedSettings.decomposition\" style=\"width: 100%\">\n            <el-option label=\"加法模型\" value=\"additive\" />\n            <el-option label=\"乘法模型\" value=\"multiplicative\" />\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"异常值处理\">\n          <el-select v-model=\"advancedSettings.outlierMethod\" style=\"width: 100%\">\n            <el-option label=\"移动平均\" value=\"moving_average\" />\n            <el-option label=\"中位数替换\" value=\"median\" />\n            <el-option label=\"保持原值\" value=\"keep\" />\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"预测步长\">\n          <el-input-number v-model=\"advancedSettings.forecastSteps\" :min=\"1\" :max=\"365\"></el-input-number>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\">\n        <el-button @click=\"showAdvancedSettings = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"handleAdvancedSettingsSave\">确定</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport * as echarts from 'echarts'\nimport FileSaver from 'file-saver'\nimport XLSX from 'xlsx'\n\nexport default {\n  name: 'OrderForecast',\n  data() {\n    return {\n      loading: false,\n      filterForm: {\n        category: [],\n        period: 'month',\n        algorithm: 'arima',\n        confidence: 95,\n        dateRange: []\n      },\n      categoryOptions: [\n        {\n          value: 'electronics',\n          label: '电子产品',\n          children: [\n            { value: 'phone', label: '手机' },\n            { value: 'laptop', label: '笔记本' },\n            { value: 'tablet', label: '平板' }\n          ]\n        },\n        {\n          value: 'appliances',\n          label: '家用电器',\n          children: [\n            { value: 'tv', label: '电视' },\n            { value: 'fridge', label: '冰箱' },\n            { value: 'washer', label: '洗衣机' }\n          ]\n        }\n      ],\n      periodOptions: [\n        { label: '未来一周', value: 'week' },\n        { label: '未来一个月', value: 'month' },\n        { label: '未来一个季度', value: 'quarter' },\n        { label: '未来一年', value: 'year' }\n      ],\n      algorithmOptions: [\n        { label: 'ARIMA模型', value: 'arima' },\n        { label: '指数平滑法', value: 'exponential' },\n        { label: '季节性分解', value: 'seasonal' },\n        { label: '神经网络', value: 'neural' }\n      ],\n      confidenceOptions: [\n        { label: '90%', value: 90 },\n        { label: '95%', value: 95 },\n        { label: '99%', value: 99 }\n      ],\n      pickerOptions: {\n        shortcuts: [\n          {\n            text: '最近一周',\n            onClick(picker) {\n              const end = new Date()\n              const start = new Date()\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 7)\n              picker.$emit('pick', [start, end])\n            }\n          },\n          {\n            text: '最近一个月',\n            onClick(picker) {\n              const end = new Date()\n              const start = new Date()\n              start.setMonth(start.getMonth() - 1)\n              picker.$emit('pick', [start, end])\n            }\n          },\n          {\n            text: '最近三个月',\n            onClick(picker) {\n              const end = new Date()\n              const start = new Date()\n              start.setMonth(start.getMonth() - 3)\n              picker.$emit('pick', [start, end])\n            }\n          }\n        ]\n      },\n      chartType: 'line',\n      showConfidenceInterval: true,\n      rankingType: 'volume',\n      topProductsList: [],\n      forecastAccuracy: 85,\n      averageError: 8.5,\n      trend: {\n        type: 'up',\n        text: '上升趋势'\n      },\n      seasonalityIndex: 0.82,\n      showAdvancedSettings: false,\n      advancedSettings: {\n        seasonality: 12,\n        decomposition: 'multiplicative',\n        outlierMethod: 'moving_average',\n        forecastSteps: 30\n      },\n      charts: {\n        forecastChart: null\n      },\n      accuracyColors: [\n        {color: '#F56C6C', percentage: 60},\n        {color: '#E6A23C', percentage: 70},\n        {color: '#67C23A', percentage: 80},\n        {color: '#409EFF', percentage: 90}\n      ]\n    }\n  },\n  mounted() {\n    this.initCharts()\n    window.addEventListener('resize', this.resizeCharts)\n    this.generateMockData()\n  },\n  beforeDestroy() {\n    window.removeEventListener('resize', this.resizeCharts)\n    this.destroyCharts()\n  },\n  methods: {\n    initCharts() {\n      this.charts.forecastChart = echarts.init(this.$refs.forecastChart)\n      this.updateForecastChart()\n    },\n    generateMockData() {\n      // 生成模拟的产品排名数据\n      this.topProductsList = [\n        { rank: 1, productName: '智能手机A', forecast: 12500, growth: 15.3 },\n        { rank: 2, productName: '笔记本电脑B', forecast: 8600, growth: 8.2 },\n        { rank: 3, productName: '平板电脑C', forecast: 7200, growth: 5.7 },\n        { rank: 4, productName: '智能手表D', forecast: 5800, growth: 12.1 },\n        { rank: 5, productName: '智能音箱E', forecast: 4500, growth: 9.5 },\n        { rank: 6, productName: '耳机F', forecast: 3900, growth: -2.8 },\n        { rank: 7, productName: '显示器G', forecast: 3200, growth: 1.5 },\n        { rank: 8, productName: '键盘H', forecast: 2800, growth: -1.2 }\n      ]\n    },\n    updateForecastChart() {\n      const dates = []\n      const historicalData = []\n      const forecastData = []\n      const confidenceUpper = []\n      const confidenceLower = []\n      \n      // 生成日期和数据\n      const now = new Date()\n      let dateFormat = 'MM-dd'\n      let days = 30\n      \n      switch (this.filterForm.period) {\n        case 'week':\n          days = 7\n          dateFormat = 'MM-dd'\n          break\n        case 'month':\n          days = 30\n          dateFormat = 'MM-dd'\n          break\n        case 'quarter':\n          days = 90\n          dateFormat = 'MM-dd'\n          break\n        case 'year':\n          days = 365\n          dateFormat = 'yyyy-MM'\n          break\n      }\n      \n      // 生成历史数据和预测数据\n      for (let i = 30; i > 0; i--) {\n        const date = new Date(now.getTime() - i * 24 * 60 * 60 * 1000)\n        const baseValue = Math.floor(Math.random() * 500 + 500)\n        historicalData.push(baseValue)\n        \n        if (i <= days) {\n          dates.push(this.formatDate(date, dateFormat))\n        }\n      }\n      \n      // 生成预测数据和置信区间\n      for (let i = 1; i <= days; i++) {\n        const date = new Date(now.getTime() + i * 24 * 60 * 60 * 1000)\n        dates.push(this.formatDate(date, dateFormat))\n        \n        const baseValue = Math.floor(Math.random() * 200 + 600)\n        forecastData.push(baseValue)\n        \n        if (this.showConfidenceInterval) {\n          const interval = baseValue * 0.1\n          confidenceUpper.push(baseValue + interval)\n          confidenceLower.push(baseValue - interval)\n        }\n      }\n      \n      // 配置图表选项\n      const option = {\n        tooltip: {\n          trigger: 'axis',\n          axisPointer: {\n            type: 'cross'\n          }\n        },\n        legend: {\n          data: ['历史销量', '预测销量'].concat(this.showConfidenceInterval ? ['置信区间'] : [])\n        },\n        grid: {\n          left: '3%',\n          right: '4%',\n          bottom: '3%',\n          containLabel: true\n        },\n        xAxis: {\n          type: 'category',\n          boundaryGap: this.chartType === 'bar',\n          data: dates,\n          axisLabel: {\n            rotate: 45\n          }\n        },\n        yAxis: {\n          type: 'value',\n          name: '销量'\n        },\n        series: [\n          {\n            name: '历史销量',\n            type: this.chartType,\n            data: historicalData.slice(-days),\n            itemStyle: {\n              color: '#409EFF'\n            }\n          },\n          {\n            name: '预测销量',\n            type: this.chartType,\n            data: forecastData,\n            itemStyle: {\n              color: '#67C23A'\n            }\n          }\n        ].concat(this.showConfidenceInterval ? [\n          {\n            name: '置信区间',\n            type: 'line',\n            data: confidenceUpper,\n            lineStyle: {\n              opacity: 0.3,\n              type: 'dashed'\n            },\n            areaStyle: {\n              opacity: 0.1\n            },\n            stack: 'confidence',\n            symbol: 'none'\n          },\n          {\n            name: '置信区间',\n            type: 'line',\n            data: confidenceLower,\n            lineStyle: {\n              opacity: 0.3,\n              type: 'dashed'\n            },\n            areaStyle: {\n              opacity: 0.1\n            },\n            stack: 'confidence',\n            symbol: 'none'\n          }\n        ] : [])\n      }\n      \n      this.charts.forecastChart.setOption(option)\n    },\n    formatDate(date, format) {\n      const year = date.getFullYear()\n      const month = date.getMonth() + 1\n      const day = date.getDate()\n      \n      if (format === 'yyyy-MM') {\n        return `${year}-${month < 10 ? '0' + month : month}`\n      }\n      \n      return `${month < 10 ? '0' + month : month}-${day < 10 ? '0' + day : day}`\n    },\n    handleForecast() {\n      this.loading = true\n      setTimeout(() => {\n        this.updateForecastChart()\n        this.generateMockData()\n        this.loading = false\n        this.$message.success('预测数据已更新')\n      }, 1500)\n    },\n    handleAdvancedSettingsSave() {\n      this.showAdvancedSettings = false\n      this.handleForecast()\n    },\n    exportData() {\n      const data = [\n        ['产品名称', '预测销量', '增长率'],\n        ...this.topProductsList.map(item => [\n          item.productName,\n          item.forecast,\n          `${item.growth}%`\n        ])\n      ]\n      \n      const ws = XLSX.utils.aoa_to_sheet(data)\n      const wb = XLSX.utils.book_new()\n      XLSX.utils.book_append_sheet(wb, ws, '销量预测数据')\n      \n      const wbout = XLSX.write(wb, { bookType: 'xlsx', type: 'array' })\n      const blob = new Blob([wbout], { type: 'application/octet-stream' })\n      FileSaver.saveAs(blob, `销量预测报告_${new Date().toLocaleDateString()}.xlsx`)\n    },\n    resizeCharts() {\n      for (const key in this.charts) {\n        if (this.charts[key]) {\n          this.charts[key].resize()\n        }\n      }\n    },\n    destroyCharts() {\n      for (const key in this.charts) {\n        if (this.charts[key]) {\n          this.charts[key].dispose()\n          this.charts[key] = null\n        }\n      }\n    }\n  },\n  watch: {\n    chartType() {\n      this.updateForecastChart()\n    },\n    showConfidenceInterval() {\n      this.updateForecastChart()\n    },\n    rankingType() {\n      // 根据排名类型重新排序\n      this.topProductsList.sort((a, b) => {\n        return this.rankingType === 'volume'\n          ? b.forecast - a.forecast\n          : b.growth - a.growth\n      })\n      \n      // 更新排名\n      this.topProductsList.forEach((item, index) => {\n        item.rank = index + 1\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n.filter-container {\n  margin-bottom: 20px;\n}\n.filter-item-container {\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n}\n.filter-item {\n  display: flex;\n  align-items: center;\n  margin-right: 30px;\n  margin-bottom: 10px;\n}\n.label {\n  margin-right: 10px;\n  white-space: nowrap;\n}\n.chart-container {\n  margin-top: 20px;\n}\n.analysis-container {\n  display: flex;\n  padding: 20px;\n}\n.analysis-item {\n  text-align: center;\n  margin-right: 40px;\n}\n.analysis-label {\n  margin-bottom: 10px;\n  font-size: 14px;\n  color: #606266;\n}\n.analysis-stats {\n  flex: 1;\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 20px;\n}\n.stat-item {\n  text-align: center;\n}\n.stat-label {\n  font-size: 14px;\n  color: #606266;\n  margin-bottom: 5px;\n}\n.stat-value {\n  font-size: 20px;\n  font-weight: bold;\n  color: #303133;\n}\n.stat-value.up {\n  color: #67C23A;\n}\n.stat-value.down {\n  color: #F56C6C;\n}\n.growth-rate {\n  font-weight: bold;\n}\n.growth-rate.positive {\n  color: #67C23A;\n}\n.growth-rate.negative {\n  color: #F56C6C;\n}\n</style> "]}]}