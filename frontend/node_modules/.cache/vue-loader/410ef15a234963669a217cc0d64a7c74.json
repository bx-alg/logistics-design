{"remainingRequest":"/Users/bx/logistics-design/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/bx/logistics-design/frontend/src/views/dashboard/index.vue?vue&type=style&index=0&id=106c86ed&scoped=true&lang=css","dependencies":[{"path":"/Users/bx/logistics-design/frontend/src/views/dashboard/index.vue","mtime":1748570317843},{"path":"/Users/bx/logistics-design/frontend/node_modules/css-loader/dist/cjs.js","mtime":1747185535288},{"path":"/Users/bx/logistics-design/frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1747185534140},{"path":"/Users/bx/logistics-design/frontend/node_modules/postcss-loader/src/index.js","mtime":1747185535100},{"path":"/Users/bx/logistics-design/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1747185535160},{"path":"/Users/bx/logistics-design/frontend/node_modules/vue-loader/lib/index.js","mtime":1747185534034}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5ib2FyZC1jb250YWluZXIgewogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogMTAwdmg7CiAgYmFja2dyb3VuZC1jb2xvcjogIzBkMWM0MjsKICBjb2xvcjogI2ZmZjsKICBwb3NpdGlvbjogcmVsYXRpdmU7Cn0KCi5iYWNrLWJ0biB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIGxlZnQ6IDIuNSU7CiAgdG9wOiA1JTsKICBoZWlnaHQ6IDMlOwogIGNvbG9yOiAjMDBkMGZmOwogIGZvbnQtc2l6ZTogMTdweDsKICBkaXNwbGF5OiBmbGV4OwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgY3Vyc29yOiBwb2ludGVyOwp9CgouYmFjay1idG4gaW1nIHsKICBoZWlnaHQ6IDEwMCU7CiAgbWFyZ2luLXJpZ2h0OiA2cHg7Cn0KCi5mdWxsc2NyZWVuLWltZyB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIGxlZnQ6IDIuNSU7CiAgdG9wOiA1JTsKICBoZWlnaHQ6IDMlOwogIGN1cnNvcjogcG9pbnRlcjsKfQoKLnRpbWUtc3RhbXAgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICByaWdodDogMi41JTsKICB0b3A6IDUlOwogIGNvbG9yOiAjMDBkMWZmOwogIGZvbnQtc2l6ZTogMjBweDsKfQoKLmJvYXJkLXRpdGxlIHsKICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQodG8gdG9wLCAjMjU3MWU5LCAjMDBlN2ZmKTsKICBiYWNrZ3JvdW5kLWNsaXA6IHRleHQ7CiAgLXdlYmtpdC1iYWNrZ3JvdW5kLWNsaXA6IHRleHQ7CiAgY29sb3I6IHRyYW5zcGFyZW50OwogIGZvbnQtc2l6ZTogNDBweDsKICBmb250LXdlaWdodDogYm9sZDsKICBsZXR0ZXItc3BhY2luZzogOHB4OwogIGhlaWdodDogOSU7CiAgZGlzcGxheTogZmxleDsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIGp1c3RpZnktY29udGVudDogY2VudGVyOwp9CgouYm9hcmQtY29udGVudCB7CiAgaGVpZ2h0OiA4NiU7CiAgd2lkdGg6IDk1JTsKICBtYXJnaW46IDZweCBhdXRvIDA7Cn0KCi5jb250ZW50LWxlZnQgewogIHdpZHRoOiBjYWxjKDI1JSAtIDEycHgpOwogIG1hcmdpbi1yaWdodDogMTJweDsKfQoKLmNvbnRlbnQtb3ZlcnZpZXcsCi5jb250ZW50LXN0YXR1cywKLmNvbnRlbnQtYWxhcm0sCi5jb250ZW50LXN0YXRpc3RpY3MsCi5jb250ZW50LXRyZW5kLAouY29udGVudC1jYXJib24sCi5jb250ZW50LWNoYXJ0IHsKICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDE0LCAzNiwgODQsIDAuOCk7CiAgYm9yZGVyOiAxcHggc29saWQgIzFkMzY2NjsKICBib3JkZXItcmFkaXVzOiA0cHg7Cn0KCi5jb250ZW50LW92ZXJ2aWV3IHsKICBoZWlnaHQ6IDIwJTsKICBtYXJnaW4tYm90dG9tOiAxMnB4OwogIHBhZGRpbmc6IDEycHggMTZweDsKfQoKLmJveC10aXRsZSB7CiAgaGVpZ2h0OiAyMHB4OwogIG1hcmdpbi1sZWZ0OiAxMnB4OwogIGRpc3BsYXk6IGZsZXg7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBjb2xvcjogIzAxZDFmZjsKfQoKLmJveC10aXRsZTo6YmVmb3JlIHsKICBjb250ZW50OiAiICI7CiAgd2lkdGg6IDZweDsKICBoZWlnaHQ6IDEwMCU7CiAgYm9yZGVyLXJhZGl1czogMTBweDsKICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgbWFyZ2luLXJpZ2h0OiA2cHg7CiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSwgIzAwZDFmZiwgIzI4NjllOCk7Cn0KCi5ib3gtY29udGVudCB7CiAgaGVpZ2h0OiBjYWxjKDEwMCUgLSAyMHB4KTsKICBvdmVyZmxvdzogaGlkZGVuOwogIHBhZGRpbmc6IDIwcHggMTBweDsKfQoKLm92ZXJ2aWV3LW9iamVjdCwKLm92ZXJ2aWV3LW1ldGVyLAoub3ZlcnZpZXctYWxhcm0gewogIHdpZHRoOiBjYWxjKDMzJSAtIDEwcHgpOwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgdGV4dC1hbGlnbjogY2VudGVyOwp9Cgoub2JqZWN0LWNvdW50IHsKICBjb2xvcjogIzFiZTVlNzsKICBmb250LXNpemU6IDM1cHg7CiAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgbWFyZ2luLWJvdHRvbTogNnB4Owp9Cgoub2JqZWN0LW5hbWUgewogIGZvbnQtc2l6ZTogMTJweDsKfQoKLmNvbnRlbnQtc3RhdHVzIHsKICBoZWlnaHQ6IGNhbGMoNDAlIC0gMTJweCk7CiAgbWFyZ2luLWJvdHRvbTogMTJweDsKICBwYWRkaW5nOiAyMHB4IDE2cHg7Cn0KCi5jb250ZW50LWFsYXJtIHsKICBoZWlnaHQ6IGNhbGMoNDAlIC0gMTJweCk7CiAgcGFkZGluZzogMTZweCAxNnB4Owp9CgouY29udGVudC1taWRkbGUgewogIHdpZHRoOiA1MCU7CiAgbWFyZ2luLXJpZ2h0OiAxMnB4Owp9CgouY29udGVudC1tYXAgewogIGhlaWdodDogNjUlOwogIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMTQsIDM2LCA4NCwgMC44KTsKICBib3JkZXI6IDFweCBzb2xpZCAjMWQzNjY2OwogIGJvcmRlci1yYWRpdXM6IDRweDsKICBtYXJnaW4tYm90dG9tOiAxMnB4Owp9CgouY29udGVudC1jaGFydCB7CiAgaGVpZ2h0OiBjYWxjKDM1JSAtIDEycHgpOwogIHBhZGRpbmc6IDE4cHggMzBweDsKfQoKLmNvbnRlbnQtcmlnaHQgewogIHdpZHRoOiBjYWxjKDI1JSAtIDEycHgpOwp9CgouY29udGVudC1zdGF0aXN0aWNzIHsKICBoZWlnaHQ6IDIwJTsKICBwYWRkaW5nOiAxMnB4IDE2cHg7CiAgbWFyZ2luLWJvdHRvbTogMTJweDsKfQoKLmNvbnRlbnQtdHJlbmQgewogIGhlaWdodDogY2FsYyg0MCUgLSAxMnB4KTsKICBwYWRkaW5nOiAxOHB4IDE2cHg7Cn0KCi5jb250ZW50LWNhcmJvbiB7CiAgaGVpZ2h0OiBjYWxjKDQwJSAtIDEycHgpOwogIHBhZGRpbmc6IDE4cHggMTZweDsKfQoKLnN0YXRpc3RpY3MtaXRlbSB7CiAgd2lkdGg6IGNhbGMoMzMlIC0gOHB4KTsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIGZvbnQtc2l6ZTogMTJweDsKfQoKLml0ZW0tY291bnQgewogIHRleHQtYWxpZ246IGNlbnRlcjsKICBmb250LXNpemU6IDI4cHg7CiAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgY29sb3I6ICMxYmU1ZTc7CiAgbWFyZ2luOiA2cHggMCA2cHg7Cn0KCi50cmVuZC10YWJzIHsKICBoZWlnaHQ6IDEwMCU7Cn0KCi5mbGV4LWJldHdlZW4gewogIGRpc3BsYXk6IGZsZXg7CiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwp9CgouZmxleC1jb2x1bW4tYmV0d2VlbiB7CiAgZGlzcGxheTogZmxleDsKICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKfQoKLmZsZXgtY29sdW1uLWNlbnRlciB7CiAgZGlzcGxheTogZmxleDsKICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAmpBA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/dashboard","sourcesContent":["<template>\n  <div class=\"board-container\">\n    <div v-if=\"showWhich\" class=\"back-btn\" @click=\"backHome\"><img src=\"../../assets/images/home.png\">返回</div>\n    <img v-else src=\"../../assets/images/fullscreen.png\" alt=\"\" class=\"fullscreen-img\" @click=\"toDataBoard\" >\n    <div class=\"time-stamp\">{{ nowTime }}</div>\n    <div class=\"board-title\"><span>智慧物流平台 - 首页</span></div>\n    <div class=\"board-content flex-between\">\n      <div class=\"content-left flex-column-between\">\n        <div class=\"content-overview\">\n          <div class=\"box-title\">库存总览</div>\n          <div class=\"box-content flex-between\">\n            <div class=\"overview-object flex-column-center\">\n              <div class=\"object-count\">5</div>\n              <div class=\"object-name\">仓库总数</div>\n            </div>\n            <div class=\"overview-meter flex-column-center\">\n              <div class=\"object-count\">981</div>\n              <div class=\"object-name\">库位总数</div>\n            </div>\n            <div class=\"overview-alarm flex-column-center\">\n              <div class=\"object-count\">4</div>\n              <div class=\"object-name\">异常库位</div>\n            </div>\n          </div>\n        </div>\n        <div class=\"content-status\">\n          <div class=\"box-title\">监控设备状态</div>\n          <div class=\"box-content\">\n            <CirclePieChart height=\"100%\" :pieData=\"pieData\"/>\n          </div>\n        </div>\n        <div class=\"content-alarm\">\n          <div class=\"box-title\">报警信息</div>\n          <div class=\"box-content\">\n            <alarmInfo/>\n          </div>\n        </div>\n      </div>\n      <div class=\"content-middle flex-column-between\">\n        <div class=\"content-map\" id=\"boardMap\"></div>\n        <div class=\"content-chart\">\n          <div class=\"box-title\">今日仓库耗能</div>\n          <div class=\"box-content\">\n            <el-tabs\n              v-model=\"activeName\"\n              @tab-click=\"handleClick\"\n              class=\"trend-tabs\"\n            >\n              <el-tab-pane label=\"综合能耗\" name=\"total\">\n                <TrendLineChart\n                  v-if=\"activeName === 'total'\"\n                  :height=\"'100%'\"\n                  :yName=\"'kgce'\"\n                  :xData=\"xData\"\n                  :yData=\"energyData\"\n                />\n              </el-tab-pane>\n              <el-tab-pane label=\"电\" name=\"electricity\">\n                <TrendLineChart\n                  v-if=\"activeName === 'electricity'\"\n                  :height=\"'100%'\"\n                  :yName=\"'kM·h'\"\n                  :xData=\"xData\"\n                  :yData=\"electricityData\"\n                />\n              </el-tab-pane>\n              <el-tab-pane label=\"水\" name=\"water\">\n                <TrendLineChart\n                  v-if=\"activeName === 'water'\"\n                  :height=\"'100%'\"\n                  :yName=\"'t'\"\n                  :xData=\"xData\"\n                  :yData=\"waterData\"\n                />\n              </el-tab-pane>\n            </el-tabs>\n          </div>\n        </div>\n      </div>\n      <div class=\"content-right flex-column-between\">\n        <div class=\"content-statistics\">\n          <div class=\"box-title\">入库统计</div>\n          <div class=\"box-content flex-between\">\n            <div class=\"statistics-item flex-column-center\">\n              <div class=\"item-count\">58</div>\n              <div style=\"text-align: center\">待入库</div>\n            </div>\n            <div class=\"statistics-item flex-column-center\">\n              <div class=\"item-count\">10</div>\n              <div style=\"text-align: center\">待质检</div>\n            </div>\n            <div class=\"statistics-item flex-column-center\">\n              <div class=\"item-count\">5</div>\n              <div style=\"text-align: center\">待上架</div>\n            </div>\n          </div>\n        </div>\n        <div class=\"content-statistics\">\n          <div class=\"box-title\">出库统计</div>\n          <div class=\"box-content flex-between\">\n            <div class=\"statistics-item flex-column-center\">\n              <div class=\"item-count\">15</div>\n              <div style=\"text-align: center\">待配货</div>\n            </div>\n            <div class=\"statistics-item flex-column-center\">\n              <div class=\"item-count\">10</div>\n              <div style=\"text-align: center\">待拣货</div>\n            </div>\n            <div class=\"statistics-item flex-column-center\">\n              <div class=\"item-count\">5</div>\n              <div style=\"text-align: center\">待出库</div>\n            </div>\n          </div>\n        </div>\n        <div class=\"content-statistics\">\n          <div class=\"box-title\">其他</div>\n          <div class=\"box-content flex-between\">\n            <div class=\"statistics-item flex-column-center\">\n              <div class=\"item-count\">15</div>\n              <div style=\"text-align: center\">待截单</div>\n            </div>\n            <div class=\"statistics-item flex-column-center\">\n              <div class=\"item-count\">10</div>\n              <div style=\"text-align: center\">异常单</div>\n            </div>\n            <div class=\"statistics-item flex-column-center\">\n              <div class=\"item-count\">5</div>\n              <div style=\"text-align: center\">今日到货</div>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"content-carbon\">\n          <div class=\"box-title\">今日出入库流水</div>\n          <div class=\"box-content\">\n            <barChart\n              :height=\"'100%'\"\n              :barColor=\"['#1c508e', '#1be5e7']\"\n              :yName=\"'件'\"\n              :xData=\"xData\"\n              :yData=\"carbonData\"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport CirclePieChart from './components/dashboard/CirclePieChart.vue'\nimport alarmInfo from './components/dashboard/alarmInfo.vue'\nimport LineChart from './components/dashboard/LineChart.vue'\nimport barChart from './components/dashboard/BarChart.vue'\nimport TrendLineChart from './components/dashboard/TrendLineChart.vue'\nimport { computed, nextTick, onBeforeUnmount, onMounted, ref, getCurrentInstance } from 'vue'\n\nconst map = ref()\nconst showWhich = computed(() => {\n  return router.currentRoute.path === '/system/dashboard'\n})\nconst activeName = ref('total')\nconst nowTime = ref()\nconst timer = ref()  //定时任务\nconst pieData = ref([])\nconst deviceTotal = ref(0)\nconst alarmTotal = ref(0)\nconst energyType = ref('0')\nconst areaId = ref(1)\nconst xData = ref([])\nconst electricityData = ref([])\nconst waterData = ref([])\nconst energyData = ref([])\nconst carbonData = ref([])\nconst electricityTotal = ref(0)\nconst powerTotal = ref(0)\nconst carbonTotal = ref(0)\nconst dailyP = ref({})\n\nconst router = getCurrentInstance().proxy.$router;\n\nfunction toDataBoard() {\n  router.push('/system/dashboard')\n}\n\nfunction backHome() {\n  router.push('/dashboard')\n}\n\nfunction getEquipmentData() {\n  const res = [\n    {\n      'id': null,\n      'name': null,\n      'sn': null,\n      'model': null,\n      'description': null,\n      'img': null,\n      'qrCode': null,\n      'factory': null,\n      'type': null,\n      'status': '0',\n      'count': 10,\n      'proportion': '71.43%',\n      'imgOss': null,\n      'areaName': null\n    },\n    {\n      'id': null,\n      'name': null,\n      'sn': null,\n      'model': null,\n      'description': null,\n      'img': null,\n      'qrCode': null,\n      'factory': null,\n      'type': null,\n      'status': '1',\n      'count': 1,\n      'proportion': '7.14%',\n      'imgOss': null,\n      'areaName': null\n    },\n    {\n      'id': null,\n      'name': null,\n      'sn': null,\n      'model': null,\n      'description': null,\n      'img': null,\n      'qrCode': null,\n      'factory': null,\n      'type': null,\n      'status': '2',\n      'count': 3,\n      'proportion': '21.43%',\n      'imgOss': null,\n      'areaName': null\n    }\n  ]\n  pieData.value = [\n    { value: res[0].count, name: '正常', itemStyle: { color: '#6be6c3' } },\n    { value: res[1].count, name: '报警', itemStyle: { color: '#e0c464' } },\n    { value: res[2].count, name: '离线', itemStyle: { color: '#297ef8' } }\n  ]\n  res.forEach(item => {\n    deviceTotal.value = item.count + deviceTotal.value\n  })\n}\n\n/** 查询历史报警列表 */\nfunction getAlarmList() {\n  alarmTotal.value = 4\n}\n\n// 获取区域拓扑\nfunction getAreaList() {\n  const res = [\n    {\n      'id': 1,\n      'parentId': 0,\n      'label': '科研楼',\n      'weight': 0,\n      'children': [\n        {\n          'id': '1646408966204309506',\n          'parentId': 1,\n          'label': '一层',\n          'weight': 31,\n          'children': [\n            {\n              'id': '1646408966204309505',\n              'parentId': '1646408966204309506',\n              'label': '101',\n              'weight': 1\n            },\n            {\n              'id': '1646422704076713985',\n              'parentId': '1646408966204309506',\n              'label': '102',\n              'weight': 2\n            },\n            {\n              'id': '1717771706262138881',\n              'parentId': '1646408966204309506',\n              'label': '103',\n              'weight': 3\n            }\n          ]\n        },\n        {\n          'id': '1648325981443239938',\n          'parentId': 1,\n          'label': '二层',\n          'weight': 32,\n          'children': [\n            {\n              'id': '1648326036518645761',\n              'parentId': '1648325981443239938',\n              'label': '201',\n              'weight': 1\n            },\n            {\n              'id': '1648326088922279937',\n              'parentId': '1648325981443239938',\n              'label': '202',\n              'weight': 2\n            },\n            {\n              'id': '1717771752927965186',\n              'parentId': '1648325981443239938',\n              'label': '203',\n              'weight': 3\n            },\n            {\n              'id': '1717771794132807682',\n              'parentId': '1648325981443239938',\n              'label': '204',\n              'weight': 4\n            }\n          ]\n        }\n      ]\n    },\n    {\n      'id': 3454657657688,\n      'parentId': 0,\n      'label': '能源分项',\n      'weight': 0,\n      'children': [\n        {\n          'id': '1698583616605478914',\n          'parentId': 3454657657688,\n          'label': '电',\n          'weight': 0,\n          'children': [\n            {\n              'id': '1698584115568271361',\n              'parentId': '1698583616605478914',\n              'label': '插座用电',\n              'weight': 0\n            },\n            {\n              'id': '1698584207037652993',\n              'parentId': '1698583616605478914',\n              'label': '空调用电',\n              'weight': 1\n            },\n            {\n              'id': '1698585341307478017',\n              'parentId': '1698583616605478914',\n              'label': '照明用电',\n              'weight': 2\n            },\n            {\n              'id': '1698585419581579266',\n              'parentId': '1698583616605478914',\n              'label': '特殊用电',\n              'weight': 3\n            }\n          ]\n        },\n        {\n          'id': '1698583808511664130',\n          'parentId': 3454657657688,\n          'label': '水',\n          'weight': 1\n        }\n      ]\n    }\n  ]\n  areaId.value = res[0].id\n}\n\n//根据能源类型查询\nfunction getEnergyType() {\n  xData.value = []\n  electricityData.value = []\n  waterData.value = []\n  let data = {\n    energyType: energyType.value,\n    areaId: areaId.value\n  }\n  let res = []\n  if (energyType.value == 0) {\n    res = [\n      '18.61',\n      '21.70',\n      '22.30',\n      '18.20',\n      '26.80',\n      '21.70',\n      '15.49',\n      '18.60',\n      '25.40',\n      '20.50',\n      '23.00',\n      '26.41',\n      '23.40',\n      '16.00',\n      '21.40',\n      '--'\n    ]\n  } else if (energyType.value == 1) {\n    res = [\n      '1.09',\n      '1.15',\n      '0.99',\n      '1.11',\n      '1.16',\n      '1.19',\n      '1.08',\n      '1.14',\n      '1.00',\n      '1.12',\n      '1.13',\n      '0.99',\n      '1.12',\n      '0.79',\n      '1.10',\n      '--'\n    ]\n  }\n  if (res.length <= 0) {\n    xData.value = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23]\n    return\n  }\n  res.forEach((item, index) => {\n    xData.value.push(index)\n  })\n  if (energyType.value == 0) {\n    electricityData.value = res\n  } else if (energyType.value == 1) {\n    waterData.value = res\n  }\n}\n\n// 获取总能耗\nfunction getConsumption() {\n  const res = {\n    'electricity': '319.51',\n    'kgce': '46.97',\n    'kg': '265.52'\n  }\n  electricityTotal.value = res.electricity\n  powerTotal.value = res.kgce\n  carbonTotal.value = res.kg\n\n}\n\n//综合能耗\nfunction getEnergy() {\n  xData.value = []\n  energyData.value = []\n  carbonData.value = []\n  electricityData.value = []\n  waterData.value = []\n  let data = {\n    energyType: '0',\n    areaId: areaId.value\n  }\n  const res = [\n    '18.61',\n    '21.70',\n    '22.30',\n    '18.20',\n    '26.80',\n    '21.70',\n    '15.49',\n    '18.60',\n    '25.40',\n    '20.50',\n    '23.00',\n    '26.41',\n    '23.40',\n    '16.00',\n    '21.40',\n    '9.40'\n  ]\n  if (res.length <= 0) {\n    xData.value = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23]\n    return\n  }\n  res.forEach((item, index) => {\n    xData.value.push(index)\n  })\n  electricityData.value = res\n  let query = {\n    energyType: '1',\n    areaId: areaId.value\n  }\n  const request = [\n    '1.09',\n    '1.15',\n    '0.99',\n    '1.11',\n    '1.16',\n    '1.19',\n    '1.08',\n    '1.14',\n    '1.00',\n    '1.12',\n    '1.13',\n    '0.99',\n    '1.12',\n    '0.79',\n    '1.10',\n    '0.30'\n  ]\n  waterData.value = request\n  xData.value.forEach((item, index) => {\n    energyData.value.push((parseFloat(electricityData.value[index]) / 8.167 + parseFloat(waterData.value[index]) * 0.4857).toFixed(2))\n    carbonData.value.push((parseFloat(electricityData.value[index]) * 0.785 + parseFloat(waterData.value[index]) * 0.91).toFixed(2))\n  })\n}\n\n// 获取当日-昨日电功率曲线\nfunction getDailyPData() {\n  let param = {\n    areaId: areaId.value,\n    energyType: '0'\n  }\n  const res = {\n    'todayData': [\n      '2815.90',\n      '2882.20',\n      '2981.20',\n      '2993.20',\n      '2752.70',\n      '2995.30',\n      '2982.00',\n      '2947.30',\n      '2995.80',\n      '2897.10',\n      '2555.60',\n      '2693.90',\n      '2907.60',\n      '2812.70',\n      '2621.80',\n      '2838.80'\n    ],\n    'yesterdayData': [\n      '2863.40',\n      '2962.80',\n      '2651.20',\n      '2939.00',\n      '2520.30',\n      '2992.60',\n      '2793.20',\n      '2927.30',\n      '2933.40',\n      '2695.40',\n      '2916.00',\n      '2755.60',\n      '2439.30',\n      '2793.10',\n      '2990.00',\n      '2677.70',\n      '2748.30',\n      '2588.80',\n      '2848.50',\n      '2751.60',\n      '2965.90',\n      '2978.20',\n      '2945.60',\n      '2931.20'\n    ],\n    'yesterdayMax': {\n      'createBy': null,\n      'createTime': '2024-09-28 05:05:02',\n      'updateBy': null,\n      'updateTime': '2024-09-28 05:55:02',\n      'id': '1839773264591237125',\n      'equipmentSn': '47HO3C3UCS',\n      'energyType': '0',\n      'time': '2024-09-28 05:00:00',\n      'min': '131.70',\n      'max': '2992.60',\n      'ave': '1555.73'\n    },\n    'todayMax': {\n      'createBy': null,\n      'createTime': '2024-09-29 08:05:02',\n      'updateBy': null,\n      'updateTime': '2024-09-29 08:55:02',\n      'id': '1840180950864539650',\n      'equipmentSn': 'S5N5D8L9PE',\n      'energyType': '0',\n      'time': '2024-09-29 08:00:00',\n      'min': '223.70',\n      'max': '2995.80',\n      'ave': '1183.52'\n    }\n  }\n  let result = {\n    todayData: res.todayData,\n    yesterdayData: res.yesterdayData\n  }\n  dailyP.value = result\n}\n\nfunction initMap() {\n  // 简化地图初始化，避免使用百度地图API\n  const mapElement = document.getElementById('boardMap');\n  if (mapElement) {\n    mapElement.innerHTML = '<div style=\"width:100%;height:100%;display:flex;justify-content:center;align-items:center;color:#00d0ff;font-size:20px;\">地图加载中...</div>';\n  }\n}\n\nfunction handleClick(tab, event) {\n  if (tab.index == '0') {\n    getEnergy()\n  } else if (tab.index == '1') {\n    energyType.value = '0'\n    getEnergyType()\n  } else if (tab.index == '2') {\n    energyType.value = '1'\n    getEnergyType()\n  }\n}\n\nfunction getNowTime() {\n  // 使用原生Date对象替代moment\n  const now = new Date();\n  const year = now.getFullYear();\n  const month = String(now.getMonth() + 1).padStart(2, '0');\n  const day = String(now.getDate()).padStart(2, '0');\n  const hours = String(now.getHours()).padStart(2, '0');\n  const minutes = String(now.getMinutes()).padStart(2, '0');\n  const seconds = String(now.getSeconds()).padStart(2, '0');\n  \n  nowTime.value = `${year}-${month}-${day} ${hours}:${minutes}:${seconds}`;\n}\n\nonMounted((() => {\n  if (timer.value) {\n    clearInterval(timer.value)\n  }\n  timer.value = setInterval(getNowTime, 1000)\n\n  getEquipmentData()\n  getAlarmList()\n  getAreaList()\n  nextTick((() => {\n    initMap()\n    getConsumption()\n    getEnergy()\n    getDailyPData()\n  }))\n}))\n\nonBeforeUnmount(() => {\n  clearInterval(timer.value)\n  map.value = null\n})\n\n</script>\n\n<style scoped>\n.board-container {\n  width: 100%;\n  height: 100vh;\n  background-color: #0d1c42;\n  color: #fff;\n  position: relative;\n}\n\n.back-btn {\n  position: absolute;\n  left: 2.5%;\n  top: 5%;\n  height: 3%;\n  color: #00d0ff;\n  font-size: 17px;\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n}\n\n.back-btn img {\n  height: 100%;\n  margin-right: 6px;\n}\n\n.fullscreen-img {\n  position: absolute;\n  left: 2.5%;\n  top: 5%;\n  height: 3%;\n  cursor: pointer;\n}\n\n.time-stamp {\n  position: absolute;\n  right: 2.5%;\n  top: 5%;\n  color: #00d1ff;\n  font-size: 20px;\n}\n\n.board-title {\n  background-image: linear-gradient(to top, #2571e9, #00e7ff);\n  background-clip: text;\n  -webkit-background-clip: text;\n  color: transparent;\n  font-size: 40px;\n  font-weight: bold;\n  letter-spacing: 8px;\n  height: 9%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.board-content {\n  height: 86%;\n  width: 95%;\n  margin: 6px auto 0;\n}\n\n.content-left {\n  width: calc(25% - 12px);\n  margin-right: 12px;\n}\n\n.content-overview,\n.content-status,\n.content-alarm,\n.content-statistics,\n.content-trend,\n.content-carbon,\n.content-chart {\n  background-color: rgba(14, 36, 84, 0.8);\n  border: 1px solid #1d3666;\n  border-radius: 4px;\n}\n\n.content-overview {\n  height: 20%;\n  margin-bottom: 12px;\n  padding: 12px 16px;\n}\n\n.box-title {\n  height: 20px;\n  margin-left: 12px;\n  display: flex;\n  align-items: center;\n  color: #01d1ff;\n}\n\n.box-title::before {\n  content: \" \";\n  width: 6px;\n  height: 100%;\n  border-radius: 10px;\n  display: inline-block;\n  margin-right: 6px;\n  background: linear-gradient(to bottom, #00d1ff, #2869e8);\n}\n\n.box-content {\n  height: calc(100% - 20px);\n  overflow: hidden;\n  padding: 20px 10px;\n}\n\n.overview-object,\n.overview-meter,\n.overview-alarm {\n  width: calc(33% - 10px);\n  align-items: center;\n  text-align: center;\n}\n\n.object-count {\n  color: #1be5e7;\n  font-size: 35px;\n  font-weight: bold;\n  margin-bottom: 6px;\n}\n\n.object-name {\n  font-size: 12px;\n}\n\n.content-status {\n  height: calc(40% - 12px);\n  margin-bottom: 12px;\n  padding: 20px 16px;\n}\n\n.content-alarm {\n  height: calc(40% - 12px);\n  padding: 16px 16px;\n}\n\n.content-middle {\n  width: 50%;\n  margin-right: 12px;\n}\n\n.content-map {\n  height: 65%;\n  background-color: rgba(14, 36, 84, 0.8);\n  border: 1px solid #1d3666;\n  border-radius: 4px;\n  margin-bottom: 12px;\n}\n\n.content-chart {\n  height: calc(35% - 12px);\n  padding: 18px 30px;\n}\n\n.content-right {\n  width: calc(25% - 12px);\n}\n\n.content-statistics {\n  height: 20%;\n  padding: 12px 16px;\n  margin-bottom: 12px;\n}\n\n.content-trend {\n  height: calc(40% - 12px);\n  padding: 18px 16px;\n}\n\n.content-carbon {\n  height: calc(40% - 12px);\n  padding: 18px 16px;\n}\n\n.statistics-item {\n  width: calc(33% - 8px);\n  align-items: center;\n  font-size: 12px;\n}\n\n.item-count {\n  text-align: center;\n  font-size: 28px;\n  font-weight: bold;\n  color: #1be5e7;\n  margin: 6px 0 6px;\n}\n\n.trend-tabs {\n  height: 100%;\n}\n\n.flex-between {\n  display: flex;\n  justify-content: space-between;\n}\n\n.flex-column-between {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n}\n\n.flex-column-center {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n</style>\n<style>\n.trend-tabs,\n.trend-tabs .el-tabs__content .el-tab-pane {\n  height: 100%;\n}\n\n.trend-tabs .el-tabs__item {\n  color: #fff;\n}\n\n.trend-tabs .el-tabs__item:hover,\n.trend-tabs .el-tabs__item.is-active {\n  color: #00d0fe;\n}\n\n.trend-tabs .el-tabs__active-bar {\n  background-color: #00d0fe;\n}\n\n.trend-tabs .el-tabs__nav-wrap::after {\n  background-color: #1d3666;\n}\n\n.trend-tabs .el-tabs__content {\n  height: calc(100% - 55px);\n}\n</style>\n\n<template>\n  <div class=\"app-container home\">\n    <div class=\"station-top\">\n      <el-row :gutter=\"12\" class=\"mt5\">\n        <el-col :span=\"6\">\n          <div class=\"top-item-box item-box-one\" style=\"display: flex;\">\n            <div style=\"flex:2;height:100%;\">\n              <div>入库</div>\n              <div style=\"text-align:center;margin-top:30px;\"><span style=\"font-size:26px;font-weight:bold;\">33</span>\n              </div>\n            </div>\n            <div style=\"flex:3;display: flex;flex-direction:column;justify-content:space-evenly\">\n              <div>待入库：15</div>\n              <div>待质检：15</div>\n              <div>待上架：2</div>\n              <div>待完成：1 </div>\n            </div>\n          </div>\n        </el-col>\n        <el-col :span=\"6\">\n          <div class=\"top-item-box item-box-two\" style=\"display: flex;\">\n            <div style=\"flex:2;height:100%;\">\n              <div>出库</div>\n              <div style=\"text-align:center;margin-top:30px;\"><span style=\"font-size:26px;font-weight:bold;\"\n              >20</span></div>\n            </div>\n            <div style=\"flex:3;display: flex;flex-direction:column;justify-content:space-evenly\">\n              <div>待配货：5</div>\n              <div>待波次：5</div>\n              <div>待拣货：5</div>\n              <div>待出库：5</div>\n            </div>\n          </div>\n        </el-col>\n        <el-col :span=\"6\">\n          <div class=\"top-item-box item-box-three\" style=\"display: flex;\">\n            <div style=\"flex:2;height:100%;\">\n              <div>其他</div>\n              <div style=\"text-align:center;margin-top:30px;\"><span style=\"font-size:26px;font-weight:bold;\"\n              >15</span></div>\n            </div>\n            <div style=\"flex:3;display: flex;flex-direction:column;justify-content:space-evenly\">\n              <div>待截单：5</div>\n              <div>异常单：5</div>\n              <div>今日到货：5</div>\n            </div>\n          </div>\n        </el-col>\n        <el-col :span=\"6\">\n          <div class=\"top-item-box item-box-four\" style=\"display: flex;\">\n            <div style=\"flex:2;height:100%;\">\n              <div>库存预警</div>\n              <div style=\"text-align:center;margin-top:30px;\"><span style=\"font-size:26px;font-weight:bold;\">5</span>\n              </div>\n            </div>\n            <div style=\"flex:3;display: flex;flex-direction:column;justify-content:space-evenly\">\n              <div>松陵仓：1</div>\n              <div>盛泽仓：2</div>\n              <div>园区仓：2</div>\n            </div>\n          </div>\n        </el-col>\n      </el-row>\n    </div>\n    <div class=\"station-middle\">\n      <el-row :gutter=\"12\">\n        <el-col :span=\"6\">\n          <el-card class=\"box-card\" shadow=\"never\">\n            <div class=\"card-title\">仓库货物占比</div>\n            <div style=\"height: calc(100% - 30px);\">\n              <CirclePieChart height=\"100%\" :pieData=\"pieData\"></CirclePieChart>\n            </div>\n          </el-card>\n        </el-col>\n        <el-col :span=\"18\">\n          <el-card class=\"box-card\" shadow=\"never\">\n            <div style=\"display:flex;justify-content: space-between;align-items: center;\">\n              <div class=\"card-title\">生产入库趋势</div>\n              <el-radio-group v-model=\"tabPosition\" @change=\"dateChange\">\n                <el-radio-button label=\"month\">本月</el-radio-button>\n                <el-radio-button label=\"year\">今年</el-radio-button>\n              </el-radio-group>\n            </div>\n            <div style=\"height: calc(100% - 30px);\">\n              <BarChart height=\"100%\" :xData=\"barChartData.xData\" :yData=\"barChartData.yData\" :yName=\"barXName\"/>\n            </div>\n          </el-card>\n        </el-col>\n      </el-row>\n    </div>\n    <div class=\"station-bottom\">\n      <el-row :gutter=\"12\">\n        <el-col :span=\"6\">\n          <el-card class=\"box-card\" shadow=\"never\">\n            <div class=\"card-title\">近7日销售出库</div>\n            <div style=\"height: calc(100% - 30px);\">\n              <TrendLineChart height=\"100%\" itemColor=\"#ee4368\" yName=\"件\" :xData=\"lineDataOne.xData\" :yData=\"lineDataOne.yData\"/>\n            </div>\n          </el-card>\n        </el-col>\n        <el-col :span=\"6\">\n          <el-card class=\"box-card\" shadow=\"never\">\n            <div class=\"card-title\">近7日领料出库</div>\n            <div style=\"height: calc(100% - 30px);\">\n              <TrendLineChart height=\"100%\" :xData=\"lineDataTwo.xData\" :yData=\"lineDataTwo.yData\" yName=\"件\" itemColor=\"#5470c6\"/>\n            </div>\n          </el-card>\n        </el-col>\n        <el-col :span=\"6\">\n          <el-card class=\"box-card\" shadow=\"never\">\n            <div class=\"card-title\">近7日移库</div>\n            <div style=\"height: calc(100% - 30px);\">\n              <TrendLineChart height=\"100%\" :xData=\"lineDataThree.xData\" :yData=\"lineDataThree.yData\" yName=\"件\" itemColor=\"#c58bea\"/>\n            </div>\n          </el-card>\n        </el-col>\n        <el-col :span=\"6\">\n          <el-card class=\"box-card\" shadow=\"never\">\n            <div class=\"card-title\">近7日退货入库</div>\n            <div style=\"height: calc(100% - 30px);\">\n              <TrendLineChart height=\"100%\" yName=\"件\" :xData=\"lineDataFour.xData\" :yData=\"lineDataFour.yData\" itemColor=\"#c7a428\"/>\n            </div>\n          </el-card>\n        </el-col>\n      </el-row>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.home {\n  padding: 20px;\n  background-color: #f5f7f9;\n  height: calc(100vh - 50px);\n  overflow: auto;\n}\n\n.station-top {\n  margin-bottom: 12px;\n}\n\n.station-middle {\n  margin-bottom: 12px;\n}\n\n.mt5 {\n  margin-top: 5px;\n}\n\n.top-item-box {\n  height: 120px;\n  padding: 15px;\n  border-radius: 4px;\n  color: #fff;\n}\n\n.item-box-one {\n  background: linear-gradient(to right, #36a3f7, #7dc2ff);\n}\n\n.item-box-two {\n  background: linear-gradient(to right, #ffb88c, #de6262);\n}\n\n.item-box-three {\n  background: linear-gradient(to right, #834d9b, #d04ed6);\n}\n\n.item-box-four {\n  background: linear-gradient(to right, #4ecdc4, #26a69a);\n}\n\n.box-card {\n  height: 350px;\n  margin-bottom: 12px;\n}\n\n.card-title {\n  font-size: 16px;\n  font-weight: bold;\n  margin-bottom: 10px;\n}\n\n.el-card__body {\n  height: 100%;\n  padding: 15px;\n}\n</style>"]}]}