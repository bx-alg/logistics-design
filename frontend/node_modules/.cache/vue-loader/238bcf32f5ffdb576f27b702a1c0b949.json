{"remainingRequest":"/Users/bx/logistics-design/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/bx/logistics-design/frontend/src/views/production/productionPlan.vue?vue&type=style&index=0&id=61f0ba24&scoped=true&lang=css","dependencies":[{"path":"/Users/bx/logistics-design/frontend/src/views/production/productionPlan.vue","mtime":1748598037235},{"path":"/Users/bx/logistics-design/frontend/node_modules/css-loader/dist/cjs.js","mtime":1747185535288},{"path":"/Users/bx/logistics-design/frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1747185534140},{"path":"/Users/bx/logistics-design/frontend/node_modules/postcss-loader/src/index.js","mtime":1747185535100},{"path":"/Users/bx/logistics-design/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1747185535160},{"path":"/Users/bx/logistics-design/frontend/node_modules/vue-loader/lib/index.js","mtime":1747185534034}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5hcHAtY29udGFpbmVyIHsKICBwYWRkaW5nOiAyNHB4OwogIGJhY2tncm91bmQtY29sb3I6ICNmNWY3ZmE7CiAgbWluLWhlaWdodDogY2FsYygxMDB2aCAtIDg0cHgpOwp9CgovKiDnu5/kuIDljaHniYfmoLflvI8gKi8KLmVsLWNhcmQgewogIG1hcmdpbi1ib3R0b206IDI0cHg7CiAgYm9yZGVyLXJhZGl1czogOHB4OwogIGJveC1zaGFkb3c6IDAgMXB4IDRweCByZ2JhKDAsMCwwLDAuMDUpICFpbXBvcnRhbnQ7CiAgdHJhbnNpdGlvbjogYm94LXNoYWRvdyAwLjNzIGVhc2U7Cn0KCi5lbC1jYXJkOmhvdmVyIHsKICBib3gtc2hhZG93OiAwIDRweCAxMnB4IHJnYmEoMCwwLDAsMC4wOCkgIWltcG9ydGFudDsKfQoKLyog5aS06YOo57uf6K6h5Y2h54mH5qC35byPICovCi5kYXNoYm9hcmQtaGVhZGVyIHsKICBtYXJnaW4tYm90dG9tOiAyNHB4Owp9CgouZGFzaGJvYXJkLWNhcmQgewogIGhlaWdodDogMTIwcHg7CiAgYmFja2dyb3VuZDogI2ZmZjsKICBib3JkZXItcmFkaXVzOiA4cHg7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIG92ZXJmbG93OiBoaWRkZW47CiAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTsKICBwYWRkaW5nOiAyNHB4OwogIGRpc3BsYXk6IGZsZXg7CiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47Cn0KCi5kYXNoYm9hcmQtY2FyZDpob3ZlciB7CiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0ycHgpOwp9CgouY2FyZC1oZWFkZXIgewogIGRpc3BsYXk6IGZsZXg7CiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0OwogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICB6LWluZGV4OiAxOwp9CgouY2FyZC1udW1iZXIgewogIGZvbnQtc2l6ZTogMjhweDsKICBmb250LXdlaWdodDogNjAwOwogIGNvbG9yOiAjMzAzMTMzOwogIG1hcmdpbi1ib3R0b206IDhweDsKICBsaW5lLWhlaWdodDogMS4yOwp9CgouY2FyZC10aXRsZSB7CiAgZm9udC1zaXplOiAxNHB4OwogIGNvbG9yOiAjOTA5Mzk5OwogIG1hcmdpbi10b3A6IDRweDsKfQoKLmNhcmQtaWNvbiB7CiAgZm9udC1zaXplOiA0MnB4OwogIGNvbG9yOiByZ2JhKDAsMCwwLDAuMDgpOwogIG1hcmdpbi1sZWZ0OiBhdXRvOwp9CgovKiDnrZvpgInlmajmoLflvI/kvJjljJYgKi8KLmZpbHRlci1jb250YWluZXIgewogIGJhY2tncm91bmQtY29sb3I6ICNmZmY7CiAgcGFkZGluZzogMjBweCAyNHB4Owp9CgouZmlsdGVyLWl0ZW0tY29udGFpbmVyIHsKICBkaXNwbGF5OiBncmlkOwogIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZmlsbCwgbWlubWF4KDI4MHB4LCAxZnIpKTsKICBnYXA6IDIwcHg7CiAgbWFyZ2luLWJvdHRvbTogMjBweDsKfQoKLmZpbHRlci1pdGVtIHsKICBkaXNwbGF5OiBmbGV4OwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7Cn0KCi5maWx0ZXItaXRlbSAubGFiZWwgewogIG1pbi13aWR0aDogODBweDsKICBtYXJnaW4tcmlnaHQ6IDEycHg7CiAgY29sb3I6ICM2MDYyNjY7CiAgZm9udC1zaXplOiAxNHB4Owp9CgouZmlsdGVyLWl0ZW0gLmVsLWlucHV0LAouZmlsdGVyLWl0ZW0gLmVsLXNlbGVjdCwKLmZpbHRlci1pdGVtIC5lbC1kYXRlLWVkaXRvciB7CiAgZmxleDogMTsKfQoKLmZpbHRlci1idXR0b25zIHsKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7CiAgZ2FwOiAxMnB4OwogIHBhZGRpbmctdG9wOiA4cHg7CiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlYmVlZjU7Cn0KCi8qIOihqOagvOWuueWZqOagt+W8j+S8mOWMliAqLwoudGFibGUtY29udGFpbmVyIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOwogIGJvcmRlci1yYWRpdXM6IDhweDsKfQoKLnRhYmxlLWhlYWRlciB7CiAgcGFkZGluZzogMjBweCAyNHB4OwogIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZWJlZWY1OwogIGRpc3BsYXk6IGZsZXg7CiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7Cn0KCi5oZWFkZXItdGl0bGUgewogIGZvbnQtc2l6ZTogMTZweDsKICBmb250LXdlaWdodDogNTAwOwogIGNvbG9yOiAjMzAzMTMzOwogIGRpc3BsYXk6IGZsZXg7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKfQoKLmhlYWRlci10aXRsZTo6YmVmb3JlIHsKICBjb250ZW50OiAnJzsKICB3aWR0aDogM3B4OwogIGhlaWdodDogMTZweDsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDA5RUZGOwogIG1hcmdpbi1yaWdodDogOHB4OwogIGJvcmRlci1yYWRpdXM6IDJweDsKfQoKLmhlYWRlci1vcGVyYXRpb25zIHsKICBkaXNwbGF5OiBmbGV4OwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgZ2FwOiAxMnB4Owp9CgoudGFibGUtY29udGVudCB7CiAgcGFkZGluZzogMCAyNHB4Owp9CgovKiDooajmoLzmoLflvI/kvJjljJYgKi8KLmVsLXRhYmxlIHsKICBtYXJnaW46IDE2cHggMDsKfQoKLmVsLXRhYmxlIHRoIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjVmN2ZhOwogIGNvbG9yOiAjNjA2MjY2OwogIGZvbnQtd2VpZ2h0OiA1MDA7CiAgaGVpZ2h0OiA0OHB4Owp9CgouZWwtdGFibGUgdGQgewogIHBhZGRpbmc6IDEycHggMDsKfQoKLmVsLXRhYmxlLS1zdHJpcGVkIC5lbC10YWJsZV9fcm93LS1zdHJpcGVkIHRkIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmFmYWZhOwp9CgovKiDov5vluqbmnaHmoLflvI8gKi8KLmVsLXByb2dyZXNzLWJhcl9fb3V0ZXIgewogIGJhY2tncm91bmQtY29sb3I6ICNmMGYyZjU7CiAgYm9yZGVyLXJhZGl1czogNHB4Owp9CgouZWwtcHJvZ3Jlc3MtYmFyX19pbm5lciB7CiAgYm9yZGVyLXJhZGl1czogNHB4Owp9CgovKiDmjInpkq7moLflvI/nu5/kuIAgKi8KLmVsLWJ1dHRvbi0tbWluaSB7CiAgcGFkZGluZzogNnB4IDEycHg7CiAgZm9udC1zaXplOiAxMnB4OwogIGJvcmRlci1yYWRpdXM6IDRweDsKfQoKLmVsLWJ1dHRvbi1ncm91cCAuZWwtYnV0dG9uLS1taW5pIHsKICBwYWRkaW5nOiA2cHggMTJweDsKfQoKLyog5qCH562+5qC35byP5LyY5YyWICovCi5lbC10YWctLW1pbmkgewogIGhlaWdodDogMjJweDsKICBsaW5lLWhlaWdodDogMjBweDsKICBwYWRkaW5nOiAwIDhweDsKICBib3JkZXItcmFkaXVzOiA0cHg7CiAgZm9udC1zaXplOiAxMnB4Owp9CgovKiDliIbpobXmoLflvI/kvJjljJYgKi8KLnBhZ2luYXRpb24tY29udGFpbmVyIHsKICBwYWRkaW5nOiAxNnB4IDI0cHg7CiAgdGV4dC1hbGlnbjogcmlnaHQ7CiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlYmVlZjU7CiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsKfQoKLyog5a+56K+d5qGG5qC35byPICovCi5lbC1kaWFsb2cgewogIGJvcmRlci1yYWRpdXM6IDhweDsKfQoKLmVsLWRpYWxvZ19faGVhZGVyIHsKICBwYWRkaW5nOiAyMHB4IDI0cHg7CiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlYmVlZjU7Cn0KCi5lbC1kaWFsb2dfX2JvZHkgewogIHBhZGRpbmc6IDI0cHg7Cn0KCi5lbC1kaWFsb2dfX2Zvb3RlciB7CiAgcGFkZGluZzogMTZweCAyNHB4OwogIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZWJlZWY1Owp9CgovKiDooajljZXmoLflvI/kvJjljJYgKi8KLmVsLWZvcm0taXRlbSB7CiAgbWFyZ2luLWJvdHRvbTogMjRweDsKfQoKLmVsLWZvcm0taXRlbV9fbGFiZWwgewogIGZvbnQtd2VpZ2h0OiBub3JtYWw7CiAgY29sb3I6ICM2MDYyNjY7Cn0KCi8qIOS4i+aLieiPnOWNleagt+W8j+S8mOWMliAqLwouZWwtZHJvcGRvd24tbWVudSB7CiAgcGFkZGluZzogOHB4IDA7CiAgYm9yZGVyLXJhZGl1czogNHB4OwogIGJveC1zaGFkb3c6IDAgMnB4IDEycHggcmdiYSgwLDAsMCwwLjEpOwp9CgouZWwtZHJvcGRvd24tbWVudV9faXRlbSB7CiAgbGluZS1oZWlnaHQ6IDMycHg7CiAgcGFkZGluZzogMCAxNnB4OwogIGZvbnQtc2l6ZTogMTNweDsKfQoKLmVsLWRyb3Bkb3duLW1lbnVfX2l0ZW06aG92ZXIgewogIGJhY2tncm91bmQtY29sb3I6ICNmNWY3ZmE7Cn0KCi8qIOinhuWbvuWIh+aNouagt+W8jyAqLwoudmlldy1zd2l0Y2gtY29udGFpbmVyIHsKICBtYXJnaW4tYm90dG9tOiAyNHB4OwogIHBhZGRpbmc6IDE2cHggMjRweDsKfQoKLnZpZXctc3dpdGNoIHsKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7Cn0KCi8qIOWTjeW6lOW8j+S8mOWMliAqLwpAbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA3NjhweCkgewogIC5hcHAtY29udGFpbmVyIHsKICAgIHBhZGRpbmc6IDE2cHg7CiAgfQogIAogIC5maWx0ZXItaXRlbS1jb250YWluZXIgewogICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnI7CiAgfQogIAogIC5kYXNoYm9hcmQtY2FyZCB7CiAgICBoZWlnaHQ6IDEwMHB4OwogICAgcGFkZGluZzogMTZweDsKICB9CiAgCiAgLmNhcmQtbnVtYmVyIHsKICAgIGZvbnQtc2l6ZTogMjRweDsKICB9CiAgCiAgLmNhcmQtaWNvbiB7CiAgICBmb250LXNpemU6IDM2cHg7CiAgfQp9CgovKiDooajmoLzmk43kvZzliJfmoLflvI/kvJjljJYgKi8KLnRhYmxlLWFjdGlvbnMgewogIGRpc3BsYXk6IGZsZXg7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICB3aGl0ZS1zcGFjZTogbm93cmFwOwp9CgoudGFibGUtYWN0aW9ucyAuZWwtYnV0dG9uIHsKICBwYWRkaW5nOiAwIDhweDsKICBmb250LXNpemU6IDEzcHg7CiAgY29sb3I6ICM0MDlFRkY7Cn0KCi50YWJsZS1hY3Rpb25zIC5lbC1idXR0b246aG92ZXIgewogIGNvbG9yOiAjNjZiMWZmOwogIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50Owp9CgoudGFibGUtYWN0aW9ucyAuZWwtYnV0dG9uIFtjbGFzcyo9ImVsLWljb24tIl0gKyBzcGFuIHsKICBtYXJnaW4tbGVmdDogNHB4Owp9CgoudGFibGUtYWN0aW9ucyAuZWwtZGl2aWRlci0tdmVydGljYWwgewogIGhlaWdodDogMWVtOwogIG1hcmdpbjogMCA4cHg7Cn0KCi5lbC1kcm9wZG93bi1tZW51X19pdGVtIFtjbGFzcyo9ImVsLWljb24tIl0gewogIG1hcmdpbi1yaWdodDogOHB4OwogIGZvbnQtc2l6ZTogMTRweDsKfQoKLmVsLWRyb3Bkb3duLW1lbnVfX2l0ZW0uaXMtZGlzYWJsZWQgewogIGNvbG9yOiAjYzBjNGNjOwp9CgovKiDooajmoLzlm7rlrprliJfpmLTlvbHkvJjljJYgKi8KLmVsLXRhYmxlX19maXhlZC1yaWdodCB7CiAgYm94LXNoYWRvdzogLTJweCAwIDhweCByZ2JhKDAsIDAsIDAsIDAuMDUpOwp9CgovKiDkuIvmi4noj5zljZXpobnmoLflvI/kvJjljJYgKi8KLmVsLWRyb3Bkb3duLW1lbnVfX2l0ZW0gewogIGRpc3BsYXk6IGZsZXg7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBwYWRkaW5nOiA4cHggMTZweDsKfQoKLmVsLWRyb3Bkb3duLW1lbnVfX2l0ZW0uZGl2aWRlZCB7CiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlYmVlZjU7CiAgbWFyZ2luLXRvcDogNHB4OwogIHBhZGRpbmctdG9wOiA4cHg7Cn0K"},{"version":3,"sources":["productionPlan.vue"],"names":[],"mappings":";AAyoCA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"productionPlan.vue","sourceRoot":"src/views/production","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <!-- 头部统计卡片 -->\n    <el-row :gutter=\"20\" class=\"dashboard-header\">\n      <el-col :span=\"6\" v-for=\"(item, index) in statistics\" :key=\"index\">\n        <el-card shadow=\"hover\" class=\"dashboard-card\">\n          <div class=\"card-header\">\n            <count-to\n              class=\"card-number\"\n              :start-val=\"0\"\n              :end-val=\"item.value\"\n              :duration=\"2000\"\n              :decimals=\"item.decimals || 0\"\n            />\n            <div class=\"card-title\">{{ item.title }}</div>\n          </div>\n          <div class=\"card-icon\">\n            <i :class=\"item.icon\"></i>\n          </div>\n        </el-card>\n      </el-col>\n    </el-row>\n\n    <!-- 筛选器卡片 -->\n    <el-card class=\"filter-container\">\n      <div slot=\"header\" class=\"card-header\">\n        <span class=\"header-title\">排产计划管理</span>\n        <div class=\"header-operations\">\n          <el-button-group>\n            <el-button \n              type=\"primary\" \n              icon=\"el-icon-plus\" \n              size=\"small\"\n              @click=\"handleCreatePlan\">创建计划</el-button>\n            <el-button \n              type=\"success\" \n              icon=\"el-icon-download\" \n              size=\"small\"\n              @click=\"handleExport\">导出数据</el-button>\n          </el-button-group>\n        </div>\n      </div>\n      <div class=\"filter-item-container\">\n        <div class=\"filter-item\">\n          <span class=\"label\">计划编号：</span>\n          <el-input \n            v-model=\"filterForm.planNo\" \n            placeholder=\"请输入计划编号\" \n            clearable\n            size=\"small\"\n            prefix-icon=\"el-icon-search\"\n            @keyup.enter.native=\"handleFilter\"\n          />\n        </div>\n        <div class=\"filter-item\">\n          <span class=\"label\">订单编号：</span>\n          <el-input \n            v-model=\"filterForm.orderNo\" \n            placeholder=\"请输入订单编号\" \n            clearable\n            size=\"small\"\n            prefix-icon=\"el-icon-search\"\n            @keyup.enter.native=\"handleFilter\"\n          />\n        </div>\n        <div class=\"filter-item\">\n          <span class=\"label\">计划状态：</span>\n          <el-select \n            v-model=\"filterForm.status\" \n            placeholder=\"请选择\" \n            clearable\n            size=\"small\"\n          >\n            <el-option\n              v-for=\"item in statusOptions\"\n              :key=\"item.value\"\n              :label=\"item.label\"\n              :value=\"item.value\"\n            >\n              <el-tag \n                :type=\"getStatusType(item.value)\" \n                size=\"mini\"\n                effect=\"dark\"\n              >{{ item.label }}</el-tag>\n            </el-option>\n          </el-select>\n        </div>\n        <div class=\"filter-item\">\n          <span class=\"label\">生产日期：</span>\n          <el-date-picker\n            v-model=\"dateRange\"\n            type=\"daterange\"\n            align=\"right\"\n            unlink-panels\n            range-separator=\"至\"\n            start-placeholder=\"开始日期\"\n            end-placeholder=\"结束日期\"\n            size=\"small\"\n            value-format=\"yyyy-MM-dd\"\n            :picker-options=\"pickerOptions\"\n          />\n        </div>\n        <div class=\"filter-buttons\">\n          <el-button \n            type=\"primary\" \n            icon=\"el-icon-search\" \n            size=\"small\"\n            @click=\"handleFilter\">查询</el-button>\n          <el-button \n            icon=\"el-icon-refresh\" \n            size=\"small\"\n            @click=\"resetFilter\">重置</el-button>\n        </div>\n      </div>\n    </el-card>\n\n    <!-- 视图切换卡片 -->\n    <el-card class=\"view-switch-container\">\n      <div class=\"view-switch\">\n        <el-radio-group v-model=\"currentView\" size=\"small\">\n          <el-radio-button label=\"table\">\n            <i class=\"el-icon-tickets\"></i> 列表视图\n          </el-radio-button>\n        </el-radio-group>\n      </div>\n    </el-card>\n\n    <!-- 列表视图 -->\n    <el-card class=\"table-container\">\n      <div class=\"table-header\">\n        <span class=\"header-title\">排产计划列表</span>\n        <div class=\"header-operations\">\n          <el-button-group>\n            <el-button \n              type=\"primary\" \n              icon=\"el-icon-plus\" \n              size=\"small\"\n              @click=\"handleCreatePlan\">创建计划</el-button>\n            <el-button \n              type=\"success\" \n              icon=\"el-icon-download\" \n              size=\"small\"\n              @click=\"handleExport\">导出数据</el-button>\n          </el-button-group>\n        </div>\n      </div>\n\n      <div class=\"table-content\">\n        <el-table\n          ref=\"productionTable\"\n          v-loading=\"loading\"\n          :data=\"tableData\"\n          border\n          stripe\n          :size=\"tableSize\"\n          style=\"width: 100%\"\n          @selection-change=\"handleSelectionChange\"\n        >\n          <el-table-column type=\"selection\" width=\"50\" align=\"center\" />\n          <el-table-column prop=\"planNo\" label=\"计划编号\" min-width=\"130\">\n            <template slot-scope=\"scope\">\n              <el-link type=\"primary\" @click=\"handleDetail(scope.row)\">{{ scope.row.planNo }}</el-link>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"orderNo\" label=\"关联订单\" min-width=\"130\" show-overflow-tooltip />\n          <el-table-column prop=\"productName\" label=\"产品名称\" min-width=\"150\" show-overflow-tooltip />\n          <el-table-column label=\"生产数量\" min-width=\"180\">\n            <template slot-scope=\"scope\">\n              <el-progress \n                :percentage=\"calculateProgress(scope.row)\"\n                :format=\"percentFormat\"\n                :status=\"getProgressStatus(scope.row)\"\n              >\n                <el-tooltip slot=\"format\" placement=\"top\">\n                  <div slot=\"content\">\n                    计划：{{ scope.row.planQuantity }}<br>\n                    实际：{{ scope.row.actualQuantity }}\n                  </div>\n                  {{ scope.row.actualQuantity }}/{{ scope.row.planQuantity }}\n                </el-tooltip>\n              </el-progress>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"生产日期\" min-width=\"180\">\n            <template slot-scope=\"scope\">\n              <i class=\"el-icon-time\"></i>\n              {{ scope.row.startDate }} 至 {{ scope.row.endDate }}\n            </template>\n          </el-table-column>\n          <el-table-column label=\"状态\" width=\"80\" align=\"center\">\n            <template slot-scope=\"scope\">\n              <el-tag\n                :type=\"getStatusType(scope.row.status)\"\n                effect=\"dark\"\n                size=\"mini\"\n              >{{ getStatusName(scope.row.status) }}</el-tag>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"优先级\" width=\"80\" align=\"center\">\n            <template slot-scope=\"scope\">\n              <el-tag\n                :type=\"getPriorityType(scope.row.priority)\"\n                size=\"mini\"\n              >{{ getPriorityName(scope.row.priority) }}</el-tag>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"操作\" width=\"180\" align=\"center\" fixed=\"right\">\n            <template slot-scope=\"scope\">\n              <div class=\"table-actions\">\n                <el-tooltip content=\"查看详情\" placement=\"top\">\n                  <el-button \n                    type=\"text\"\n                    icon=\"el-icon-view\"\n                    @click=\"handleDetail(scope.row)\">详情</el-button>\n                </el-tooltip>\n                \n                <el-divider direction=\"vertical\"></el-divider>\n                \n                <el-dropdown \n                  trigger=\"click\"\n                  @command=\"(command) => handleCommand(command, scope.row)\"\n                >\n                  <el-button type=\"text\">\n                    更多<i class=\"el-icon-arrow-down el-icon--right\"></i>\n                  </el-button>\n                  <el-dropdown-menu slot=\"dropdown\">\n                    <el-dropdown-item \n                      v-if=\"scope.row.status === 0\" \n                      command=\"edit\">\n                      <i class=\"el-icon-edit\"></i> 编辑\n                    </el-dropdown-item>\n                    <el-dropdown-item \n                      v-if=\"scope.row.status === 0\" \n                      command=\"start\">\n                      <i class=\"el-icon-video-play\"></i> 开始生产\n                    </el-dropdown-item>\n                    <el-dropdown-item \n                      v-if=\"scope.row.status === 1\" \n                      command=\"complete\">\n                      <i class=\"el-icon-check\"></i> 完成生产\n                    </el-dropdown-item>\n                    <el-dropdown-item \n                      v-if=\"scope.row.status === 0\" \n                      command=\"cancel\"\n                      divided>\n                      <i class=\"el-icon-close\"></i> 取消计划\n                    </el-dropdown-item>\n                  </el-dropdown-menu>\n                </el-dropdown>\n              </div>\n            </template>\n          </el-table-column>\n        </el-table>\n      </div>\n\n      <div class=\"pagination-container\">\n        <el-pagination\n          background\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n          :current-page=\"filterForm.pageNum\"\n          :page-sizes=\"[10, 20, 30, 50]\"\n          :page-size=\"filterForm.pageSize\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          :total=\"total\"\n        />\n      </div>\n    </el-card>\n\n    <!-- 创建/编辑排产计划对话框 -->\n    <el-dialog \n      :title=\"dialogTitle\" \n      :visible.sync=\"dialogVisible\" \n      width=\"600px\"\n      :close-on-click-modal=\"false\"\n      @close=\"resetForm('planForm')\"\n    >\n      <el-form \n        ref=\"planForm\" \n        :model=\"planForm\" \n        :rules=\"planRules\" \n        label-width=\"100px\"\n        size=\"small\"\n      >\n        <el-form-item label=\"关联订单\" prop=\"orderId\">\n          <el-select \n            v-model=\"planForm.orderId\" \n            placeholder=\"请选择关联订单\" \n            filterable\n            style=\"width: 100%\"\n          >\n            <el-option\n              v-for=\"item in orderOptions\"\n              :key=\"item.value\"\n              :label=\"item.label\"\n              :value=\"item.value\"\n            >\n              <span style=\"float: left\">{{ item.label }}</span>\n              <span style=\"float: right; color: #8492a6; font-size: 13px\">{{ item.orderNo }}</span>\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"生产产品\" prop=\"productId\">\n          <el-select \n            v-model=\"planForm.productId\" \n            placeholder=\"请选择生产产品\"\n            filterable\n            style=\"width: 100%\"\n          >\n            <el-option\n              v-for=\"item in productOptions\"\n              :key=\"item.value\"\n              :label=\"item.label\"\n              :value=\"item.value\"\n            />\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"计划数量\" prop=\"planQuantity\">\n          <el-input-number \n            v-model=\"planForm.planQuantity\" \n            :min=\"1\" \n            :max=\"10000\"\n            controls-position=\"right\"\n            style=\"width: 100%\" \n          />\n        </el-form-item>\n        <el-form-item label=\"生产日期\" prop=\"dateRange\">\n          <el-date-picker\n            v-model=\"planForm.dateRange\"\n            type=\"daterange\"\n            range-separator=\"至\"\n            start-placeholder=\"开始日期\"\n            end-placeholder=\"结束日期\"\n            style=\"width: 100%\"\n            value-format=\"yyyy-MM-dd\"\n            :picker-options=\"pickerOptions\"\n          />\n        </el-form-item>\n        <el-form-item label=\"优先级\" prop=\"priority\">\n          <el-select \n            v-model=\"planForm.priority\" \n            placeholder=\"请选择优先级\"\n            style=\"width: 100%\"\n          >\n            <el-option \n              v-for=\"(label, value) in priorityOptions\" \n              :key=\"value\"\n              :label=\"label\"\n              :value=\"Number(value)\"\n            >\n              <el-tag \n                :type=\"getPriorityType(Number(value))\"\n                size=\"mini\"\n              >{{ label }}</el-tag>\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"备注\" prop=\"remark\">\n          <el-input \n            type=\"textarea\" \n            v-model=\"planForm.remark\" \n            rows=\"3\"\n            maxlength=\"200\"\n            show-word-limit\n          />\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"submitPlan\" :loading=\"submitLoading\">确 定</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport CountTo from 'vue-count-to'\nimport { productionApi } from '@/utils/mockUtils'\nimport { getConstants } from '@/utils/mockUtils'\nimport moment from 'moment'\n\nexport default {\n  name: 'ProductionPlan',\n  components: {\n    CountTo\n  },\n  data() {\n    return {\n      // 查询参数\n      queryParams: {\n        pageNum: 1,\n        pageSize: 10,\n        orderNo: '',\n        customerName: '',\n        status: '',\n        dateRange: []\n      },\n      // 状态选项\n      statusOptions: [\n        { value: 0, label: '待生产' },\n        { value: 1, label: '生产中' },\n        { value: 2, label: '已完成' },\n        { value: 3, label: '已取消' }\n      ],\n      // 表格数据\n      tableData: [\n        {\n          id: 1,\n          planNo: 'PP20240501001',\n          orderNo: 'ORD20240301001',\n          productName: '2024夏季女童公主裙',\n          planQuantity: 2000,\n          actualQuantity: 800,\n          startDate: '2024-05-01',\n          endDate: '2024-05-10',\n          startTime: '08:00',\n          endTime: '18:00',\n          status: 1,\n          priority: 2,\n          remark: '织里童装厂重点订单，面料采用优质棉，做工精细'\n        },\n        {\n          id: 2,\n          planNo: 'PP20240502001',\n          orderNo: 'ORD20240302001',\n          productName: '男童运动套装2024新款',\n          planQuantity: 3000,\n          actualQuantity: 3000,\n          startDate: '2024-05-02',\n          endDate: '2024-05-12',\n          startTime: '08:00',\n          endTime: '18:00',\n          status: 2,\n          priority: 1,\n          remark: '织里童装批发市场热销款，采用速干面料'\n        },\n        {\n          id: 3,\n          planNo: 'PP20240503001',\n          orderNo: 'ORD20240303001',\n          productName: '儿童汉服夏季系列',\n          planQuantity: 1500,\n          actualQuantity: 0,\n          startDate: '2024-05-15',\n          endDate: '2024-05-25',\n          startTime: '08:00',\n          endTime: '18:00',\n          status: 0,\n          priority: 2,\n          remark: '织里特色童装，采用传统工艺制作'\n        },\n        {\n          id: 4,\n          planNo: 'PP20240504001',\n          orderNo: 'ORD20240304001',\n          productName: '婴幼儿连体爬服',\n          planQuantity: 5000,\n          actualQuantity: 2000,\n          startDate: '2024-05-05',\n          endDate: '2024-05-20',\n          startTime: '08:00',\n          endTime: '18:00',\n          status: 1,\n          priority: 3,\n          remark: '织里婴童专区畅销款，采用有机棉材质'\n        },\n        {\n          id: 5,\n          planNo: 'PP20240505001',\n          orderNo: 'ORD20240305001',\n          productName: '儿童防晒衣套装',\n          planQuantity: 2500,\n          actualQuantity: 0,\n          startDate: '2024-05-20',\n          endDate: '2024-05-30',\n          startTime: '08:00',\n          endTime: '18:00',\n          status: 0,\n          priority: 1,\n          remark: '织里夏季新品，采用UPF50+防晒面料'\n        },\n        {\n          id: 6,\n          planNo: 'PP20240506001',\n          orderNo: 'ORD20240306001',\n          productName: '儿童牛仔背带裤',\n          planQuantity: 3000,\n          actualQuantity: 1200,\n          startDate: '2024-05-08',\n          endDate: '2024-05-18',\n          startTime: '08:00',\n          endTime: '18:00',\n          status: 1,\n          priority: 2,\n          remark: '织里童装市场经典款式，耐磨耐穿'\n        },\n        {\n          id: 7,\n          planNo: 'PP20240507001',\n          orderNo: 'ORD20240307001',\n          productName: '女童纱纱裙套装',\n          planQuantity: 1800,\n          actualQuantity: 1800,\n          startDate: '2024-05-01',\n          endDate: '2024-05-10',\n          startTime: '08:00',\n          endTime: '18:00',\n          status: 2,\n          priority: 2,\n          remark: '织里高端童装定制，采用进口面料'\n        },\n        {\n          id: 8,\n          planNo: 'PP20240508001',\n          orderNo: 'ORD20240308001',\n          productName: '儿童校服套装',\n          planQuantity: 4000,\n          actualQuantity: 0,\n          startDate: '2024-05-25',\n          endDate: '2024-06-10',\n          startTime: '08:00',\n          endTime: '18:00',\n          status: 0,\n          priority: 3,\n          remark: '织里学校定制校服，采用环保面料'\n        },\n        {\n          id: 9,\n          planNo: 'PP20240509001',\n          orderNo: 'ORD20240309001',\n          productName: '亲子装夏季系列',\n          planQuantity: 1200,\n          actualQuantity: 500,\n          startDate: '2024-05-15',\n          endDate: '2024-05-25',\n          startTime: '08:00',\n          endTime: '18:00',\n          status: 1,\n          priority: 1,\n          remark: '织里特色亲子装，情侣装定制'\n        },\n        {\n          id: 10,\n          planNo: 'PP20240510001',\n          orderNo: 'ORD20240310001',\n          productName: '儿童民族服装系列',\n          planQuantity: 1000,\n          actualQuantity: 1000,\n          startDate: '2024-05-05',\n          endDate: '2024-05-15',\n          startTime: '08:00',\n          endTime: '18:00',\n          status: 2,\n          priority: 2,\n          remark: '织里特色民族风童装，采用传统工艺'\n        }\n      ],\n      // 加载状态\n      loading: false,\n      // 总数\n      total: 10,\n      // 编辑对话框\n      editDialog: {\n        visible: false,\n        loading: false,\n        form: {\n          id: null,\n          orderNo: '',\n          customerName: '',\n          productName: '',\n          startTime: '',\n          endTime: '',\n          status: '',\n          remark: ''\n        },\n        rules: {\n          startTime: [\n            { required: true, message: '请选择开始时间', trigger: 'change' }\n          ],\n          endTime: [\n            { required: true, message: '请选择结束时间', trigger: 'change' }\n          ]\n        }\n      },\n      // 筛选表单\n      filterForm: {\n        planNo: '',\n        orderNo: '',\n        status: '',\n        startDate: '',\n        endDate: '',\n        pageNum: 1,\n        pageSize: 10\n      },\n      dateRange: [],\n      // 对话框设置\n      dialogVisible: false,\n      dialogTitle: '创建排产计划',\n      planForm: {\n        id: null,\n        orderId: '',\n        productId: '',\n        planQuantity: 1,\n        dateRange: [],\n        priority: 1,\n        remark: ''\n      },\n      planRules: {\n        orderId: [{ required: true, message: '请选择关联订单', trigger: 'change' }],\n        productId: [{ required: true, message: '请选择生产产品', trigger: 'change' }],\n        planQuantity: [{ required: true, message: '请输入计划数量', trigger: 'blur' }],\n        dateRange: [{ required: true, message: '请选择生产日期', trigger: 'change' }],\n        priority: [{ required: true, message: '请选择优先级', trigger: 'change' }]\n      },\n      submitLoading: false,\n      // 选项数据\n      orderOptions: [\n        { value: 1, label: '湖州织里童泰童装有限公司', orderNo: 'ORD20240301001' },\n        { value: 2, label: '织里镇巴拉巴拉服饰有限公司', orderNo: 'ORD20240302001' },\n        { value: 3, label: '织里镇安奈儿童装有限公司', orderNo: 'ORD20240303001' },\n        { value: 4, label: '湖州织里咔咔童装有限公司', orderNo: 'ORD20240304001' },\n        { value: 5, label: '织里镇小猪班纳童装有限公司', orderNo: 'ORD20240305001' },\n        { value: 6, label: '湖州织里贝贝依童装有限公司', orderNo: 'ORD20240306001' },\n        { value: 7, label: '织里镇巴布豆童装有限公司', orderNo: 'ORD20240307001' },\n        { value: 8, label: '湖州织里哈利玛童装有限公司', orderNo: 'ORD20240308001' },\n        { value: 9, label: '织里镇青蛙皇子童装有限公司', orderNo: 'ORD20240309001' },\n        { value: 10, label: '湖州织里米乐熊童装有限公司', orderNo: 'ORD20240310001' }\n      ],\n      productOptions: [\n        { value: 1, label: '2024夏季女童公主裙' },\n        { value: 2, label: '男童运动套装2024新款' },\n        { value: 3, label: '儿童汉服夏季系列' },\n        { value: 4, label: '婴幼儿连体爬服' },\n        { value: 5, label: '儿童防晒衣套装' },\n        { value: 6, label: '儿童牛仔背带裤' },\n        { value: 7, label: '女童纱纱裙套装' },\n        { value: 8, label: '儿童校服套装' },\n        { value: 9, label: '亲子装夏季系列' },\n        { value: 10, label: '儿童民族服装系列' },\n        { value: 11, label: '儿童泳装系列' },\n        { value: 12, label: '儿童睡衣套装' },\n        { value: 13, label: '儿童内衣套装' },\n        { value: 14, label: '儿童演出服系列' },\n        { value: 15, label: '儿童礼服系列' }\n      ],\n      currentView: 'table',\n      pickerOptions: {\n        shortcuts: [{\n          text: '最近一周',\n          onClick(picker) {\n            const end = new Date()\n            const start = new Date()\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 7)\n            picker.$emit('pick', [start, end])\n          }\n        }, {\n          text: '最近一个月',\n          onClick(picker) {\n            const end = new Date()\n            const start = new Date()\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 30)\n            picker.$emit('pick', [start, end])\n          }\n        }, {\n          text: '最近三个月',\n          onClick(picker) {\n            const end = new Date()\n            const start = new Date()\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 90)\n            picker.$emit('pick', [start, end])\n          }\n        }]\n      },\n      tableSize: 'medium',\n      statistics: [\n        {\n          title: '总计划数',\n          value: 0,\n          icon: 'el-icon-s-order'\n        },\n        {\n          title: '生产中',\n          value: 0,\n          icon: 'el-icon-loading'\n        },\n        {\n          title: '已完成',\n          value: 0,\n          icon: 'el-icon-success'\n        },\n        {\n          title: '生产效率',\n          value: 0,\n          icon: 'el-icon-data-line'\n        }\n      ],\n      priorityOptions: {\n        0: '低',\n        1: '中',\n        2: '高',\n        3: '紧急'\n      }\n    }\n  },\n  computed: {\n    // 计算已选择的行数\n    hasSelected() {\n      return this.selectedRows.length > 0\n    }\n  },\n  watch: {\n    dateRange(val) {\n      if (val && val.length === 2) {\n        this.filterForm.startDate = val[0]\n        this.filterForm.endDate = val[1]\n      } else {\n        this.filterForm.startDate = ''\n        this.filterForm.endDate = ''\n      }\n    },\n    tableData: {\n      handler(val) {\n        this.calculateStatistics()\n      },\n      deep: true\n    }\n  },\n  created() {\n    this.initData()\n  },\n  methods: {\n    /** 初始化数据 */\n    initData() {\n      console.log('Initializing data...')\n      this.loading = true\n      this.error = null // 清除之前的错误\n      try {\n        // 计算统计数据\n        const total = this.tableData.length\n        const inProgress = this.tableData.filter(item => item.status === 1).length\n        const completed = this.tableData.filter(item => item.status === 2).length\n        const efficiency = completed > 0 ? (completed / total * 100).toFixed(2) : 0\n\n        this.statistics = [\n          {\n            title: '总计划数',\n            value: total,\n            icon: 'el-icon-s-order'\n          },\n          {\n            title: '生产中',\n            value: inProgress,\n            icon: 'el-icon-loading'\n          },\n          {\n            title: '已完成',\n            value: completed,\n            icon: 'el-icon-success'\n          },\n          {\n            title: '生产效率',\n            value: parseFloat(efficiency),\n            decimals: 2,\n            icon: 'el-icon-data-line'\n          }\n        ]\n\n        this.loading = false\n      } catch (error) {\n        console.error('初始化数据失败:', error)\n        this.error = error.toString()\n        this.$message.error('初始化数据失败')\n        this.loading = false\n      }\n    },\n\n    /** 获取生产计划列表 */\n    async getList() {\n      try {\n        // 直接使用本地数据，不调用API\n        setTimeout(() => {\n          this.loading = false\n        }, 500)\n      } catch (error) {\n        console.error('获取生产计划列表失败:', error)\n        this.$message.error('获取生产计划列表失败')\n        this.loading = false\n      }\n    },\n\n    /** 搜索按钮操作 */\n    handleQuery() {\n      this.queryParams.pageNum = 1\n      this.getList()\n    },\n\n    /** 重置按钮操作 */\n    resetQuery() {\n      this.queryParams = {\n        pageNum: 1,\n        pageSize: 10,\n        orderNo: '',\n        customerName: '',\n        status: '',\n        dateRange: []\n      }\n      this.getList()\n    },\n\n    /** 编辑按钮操作 */\n    handleEdit(row) {\n      this.editDialog.form = {\n        id: row.id,\n        orderNo: row.orderNo,\n        customerName: row.customerName,\n        productName: row.productName,\n        startTime: row.startTime,\n        endTime: row.estimatedEndTime,\n        status: row.status,\n        remark: row.description\n      }\n      this.editDialog.visible = true\n    },\n\n    /** 提交编辑 */\n    async submitEdit() {\n      this.$refs.editForm.validate(async valid => {\n        if (valid) {\n          this.editDialog.loading = true\n          try {\n            await productionApi.updatePlan(this.editDialog.form)\n            this.$message.success('更新成功')\n            this.editDialog.visible = false\n            this.getList()\n          } catch (error) {\n            console.error('更新生产计划失败:', error)\n            this.$message.error('更新生产计划失败')\n          } finally {\n            this.editDialog.loading = false\n          }\n        }\n      })\n    },\n\n    /** 取消编辑 */\n    cancelEdit() {\n      this.editDialog.visible = false\n      this.editDialog.form = {\n        id: null,\n        orderNo: '',\n        customerName: '',\n        productName: '',\n        startTime: '',\n        endTime: '',\n        status: '',\n        remark: ''\n      }\n    },\n\n    /** 每页显示条数改变 */\n    handleSizeChange(val) {\n      this.queryParams.pageSize = val\n      this.getList()\n    },\n\n    /** 当前页改变 */\n    handleCurrentChange(val) {\n      this.queryParams.pageNum = val\n      this.getList()\n    },\n\n    // 格式化日期\n    formatDateTime(date) {\n      return date ? moment(date).format('YYYY-MM-DD HH:mm:ss') : '-'\n    },\n\n    // 格式化状态\n    formatStatus(status) {\n      const statusMap = this.statusOptions.reduce((acc, curr) => {\n        acc[curr.value] = curr.label\n        return acc\n      }, {})\n      return statusMap[status] || '未知'\n    },\n\n    // 获取状态标签类型\n    getStatusType(status) {\n      const typeMap = {\n        0: 'info',\n        1: 'warning',\n        2: 'primary',\n        3: 'success',\n        4: 'success'\n      }\n      return typeMap[status] || 'info'\n    },\n\n    // 查询\n    handleFilter() {\n      this.filterForm.pageNum = 1\n      this.getList()\n    },\n    // 重置筛选条件\n    resetFilter() {\n      this.filterForm = {\n        planNo: '',\n        orderNo: '',\n        status: '',\n        startDate: '',\n        endDate: '',\n        pageNum: 1,\n        pageSize: 10\n      }\n      this.dateRange = []\n      this.getList()\n    },\n    // 查看详情\n    handleDetail(row) {\n      this.$router.push({\n        name: 'ProductionPlanDetail',\n        params: { id: row.id }\n      })\n    },\n    // 开始生产\n    handleStart(row) {\n      this.$confirm('确认开始生产该计划?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        // 模拟请求\n        const index = this.tableData.findIndex(item => item.id === row.id)\n        if (index !== -1) {\n          this.tableData[index].status = 1\n          this.$message.success('已开始生产')\n          \n          this.getList()\n        }\n      }).catch(() => {})\n    },\n    // 完成生产\n    handleComplete(row) {\n      this.$confirm('确认完成该生产计划?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        // 模拟请求\n        const index = this.tableData.findIndex(item => item.id === row.id)\n        if (index !== -1) {\n          this.tableData[index].status = 2\n          this.tableData[index].actualQuantity = this.tableData[index].planQuantity\n          this.$message.success('生产计划已完成')\n          \n          this.getList()\n        }\n      }).catch(() => {})\n    },\n    // 取消计划\n    handleCancel(row) {\n      this.$confirm('确认取消该生产计划?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        // 模拟请求\n        const index = this.tableData.findIndex(item => item.id === row.id)\n        if (index !== -1) {\n          this.tableData[index].status = 3\n          this.$message.success('生产计划已取消')\n          \n          this.getList()\n        }\n      }).catch(() => {})\n    },\n    // 创建排产计划\n    handleCreatePlan() {\n      this.dialogTitle = '创建排产计划'\n      this.planForm = {\n        id: null,\n        orderId: '',\n        productId: '',\n        planQuantity: 1,\n        dateRange: [],\n        priority: 1,\n        remark: ''\n      }\n      this.dialogVisible = true\n      this.$nextTick(() => {\n        this.$refs.planForm && this.$refs.planForm.clearValidate()\n      })\n    },\n    // 提交排产计划\n    submitPlan() {\n      this.$refs.planForm.validate(valid => {\n        if (!valid) return\n        \n        this.submitLoading = true\n        \n        // 模拟提交请求\n        setTimeout(() => {\n          if (this.planForm.id) {\n            // 更新\n            const index = this.tableData.findIndex(item => item.id === this.planForm.id)\n            if (index !== -1) {\n              const orderInfo = this.orderOptions.find(o => o.value === this.planForm.orderId)\n              const productInfo = this.productOptions.find(p => p.value === this.planForm.productId)\n              \n              this.tableData[index] = {\n                ...this.tableData[index],\n                orderNo: orderInfo ? orderInfo.orderNo : '',\n                productName: productInfo ? productInfo.label : '',\n                planQuantity: this.planForm.planQuantity,\n                startDate: this.planForm.dateRange[0],\n                endDate: this.planForm.dateRange[1],\n                priority: this.planForm.priority,\n                remark: this.planForm.remark\n              }\n            }\n            this.$message.success('排产计划更新成功')\n          } else {\n            // 创建\n            const orderInfo = this.orderOptions.find(o => o.value === this.planForm.orderId)\n            const productInfo = this.productOptions.find(p => p.value === this.planForm.productId)\n            \n            const newPlan = {\n              id: Date.now(),\n              planNo: 'PP' + new Date().getTime().toString().substring(3),\n              orderNo: orderInfo ? orderInfo.orderNo : '',\n              productName: productInfo ? productInfo.label : '',\n              planQuantity: this.planForm.planQuantity,\n              actualQuantity: 0,\n              startDate: this.planForm.dateRange[0],\n              endDate: this.planForm.dateRange[1],\n              status: 0,\n              priority: this.planForm.priority,\n              remark: this.planForm.remark\n            }\n            \n            this.tableData.unshift(newPlan)\n            this.total += 1\n            this.$message.success('排产计划创建成功')\n          }\n          \n          this.dialogVisible = false\n          this.submitLoading = false\n          \n          this.getList()\n        }, 1000)\n      })\n    },\n    // 获取进度状态\n    getProgressStatus(row) {\n      const progress = this.calculateProgress(row)\n      if (progress >= 100) return 'success'\n      if (progress >= 80) return 'warning'\n      return ''\n    },\n    // 获取优先级类型\n    getPriorityType(priority) {\n      const typeMap = {\n        0: 'info',\n        1: 'success',\n        2: 'warning',\n        3: 'danger'\n      }\n      return typeMap[priority] || 'info'\n    },\n    // 获取优先级名称\n    getPriorityName(priority) {\n      return this.priorityOptions[priority] || '未知'\n    },\n    // 获取表格大小\n    getTableSize() {\n      return this.tableSize\n    },\n    // 处理表格选择\n    handleSelectionChange(val) {\n      this.selectedRows = val\n    },\n    // 刷新表格\n    refreshTable() {\n      this.getList()\n    },\n    // 导出数据\n    handleExport() {\n      this.$message.success('正在导出数据，请稍候...')\n      // TODO: 实现导出逻辑\n    },\n    // 处理命令\n    handleCommand(command, row) {\n      switch (command) {\n        case 'start':\n          this.handleStart(row)\n          break\n        case 'complete':\n          this.handleComplete(row)\n          break\n        case 'cancel':\n          this.handleCancel(row)\n          break\n      }\n    },\n    // 重置表单\n    resetForm(formName) {\n      this.$refs[formName].resetFields()\n    },\n    // 计算完成百分比\n    calculateProgress(row) {\n      if (row.planQuantity === 0) return 0\n      return Math.round((row.actualQuantity / row.planQuantity) * 100)\n    },\n    // 百分比格式化\n    percentFormat(percent) {\n      return percent + '%'\n    },\n    // 获取状态名称\n    getStatusName(status) {\n      const nameMap = {\n        0: '待生产',\n        1: '生产中',\n        2: '已完成',\n        3: '已取消'\n      }\n      return nameMap[status] || '未知'\n    },\n    // 计算统计数据\n    calculateStatistics() {\n      const total = this.tableData.length\n      const inProgress = this.tableData.filter(item => item.status === 1).length\n      const completed = this.tableData.filter(item => item.status === 2).length\n      const efficiency = completed > 0 ? (completed / total * 100) : 0\n\n      this.statistics = [\n        {\n          title: '总计划数',\n          value: total,\n          icon: 'el-icon-s-order'\n        },\n        {\n          title: '生产中',\n          value: inProgress,\n          icon: 'el-icon-loading'\n        },\n        {\n          title: '已完成',\n          value: completed,\n          icon: 'el-icon-success'\n        },\n        {\n          title: '生产效率',\n          value: parseFloat(efficiency.toFixed(2)),\n          icon: 'el-icon-data-line'\n        }\n      ]\n    }\n  }\n}\n</script>\n\n<style scoped>\n.app-container {\n  padding: 24px;\n  background-color: #f5f7fa;\n  min-height: calc(100vh - 84px);\n}\n\n/* 统一卡片样式 */\n.el-card {\n  margin-bottom: 24px;\n  border-radius: 8px;\n  box-shadow: 0 1px 4px rgba(0,0,0,0.05) !important;\n  transition: box-shadow 0.3s ease;\n}\n\n.el-card:hover {\n  box-shadow: 0 4px 12px rgba(0,0,0,0.08) !important;\n}\n\n/* 头部统计卡片样式 */\n.dashboard-header {\n  margin-bottom: 24px;\n}\n\n.dashboard-card {\n  height: 120px;\n  background: #fff;\n  border-radius: 8px;\n  position: relative;\n  overflow: hidden;\n  transition: all 0.3s ease;\n  padding: 24px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n}\n\n.dashboard-card:hover {\n  transform: translateY(-2px);\n}\n\n.card-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  position: relative;\n  z-index: 1;\n}\n\n.card-number {\n  font-size: 28px;\n  font-weight: 600;\n  color: #303133;\n  margin-bottom: 8px;\n  line-height: 1.2;\n}\n\n.card-title {\n  font-size: 14px;\n  color: #909399;\n  margin-top: 4px;\n}\n\n.card-icon {\n  font-size: 42px;\n  color: rgba(0,0,0,0.08);\n  margin-left: auto;\n}\n\n/* 筛选器样式优化 */\n.filter-container {\n  background-color: #fff;\n  padding: 20px 24px;\n}\n\n.filter-item-container {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));\n  gap: 20px;\n  margin-bottom: 20px;\n}\n\n.filter-item {\n  display: flex;\n  align-items: center;\n}\n\n.filter-item .label {\n  min-width: 80px;\n  margin-right: 12px;\n  color: #606266;\n  font-size: 14px;\n}\n\n.filter-item .el-input,\n.filter-item .el-select,\n.filter-item .el-date-editor {\n  flex: 1;\n}\n\n.filter-buttons {\n  display: flex;\n  justify-content: flex-end;\n  gap: 12px;\n  padding-top: 8px;\n  border-top: 1px solid #ebeef5;\n}\n\n/* 表格容器样式优化 */\n.table-container {\n  background-color: #fff;\n  border-radius: 8px;\n}\n\n.table-header {\n  padding: 20px 24px;\n  border-bottom: 1px solid #ebeef5;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.header-title {\n  font-size: 16px;\n  font-weight: 500;\n  color: #303133;\n  display: flex;\n  align-items: center;\n}\n\n.header-title::before {\n  content: '';\n  width: 3px;\n  height: 16px;\n  background-color: #409EFF;\n  margin-right: 8px;\n  border-radius: 2px;\n}\n\n.header-operations {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.table-content {\n  padding: 0 24px;\n}\n\n/* 表格样式优化 */\n.el-table {\n  margin: 16px 0;\n}\n\n.el-table th {\n  background-color: #f5f7fa;\n  color: #606266;\n  font-weight: 500;\n  height: 48px;\n}\n\n.el-table td {\n  padding: 12px 0;\n}\n\n.el-table--striped .el-table__row--striped td {\n  background-color: #fafafa;\n}\n\n/* 进度条样式 */\n.el-progress-bar__outer {\n  background-color: #f0f2f5;\n  border-radius: 4px;\n}\n\n.el-progress-bar__inner {\n  border-radius: 4px;\n}\n\n/* 按钮样式统一 */\n.el-button--mini {\n  padding: 6px 12px;\n  font-size: 12px;\n  border-radius: 4px;\n}\n\n.el-button-group .el-button--mini {\n  padding: 6px 12px;\n}\n\n/* 标签样式优化 */\n.el-tag--mini {\n  height: 22px;\n  line-height: 20px;\n  padding: 0 8px;\n  border-radius: 4px;\n  font-size: 12px;\n}\n\n/* 分页样式优化 */\n.pagination-container {\n  padding: 16px 24px;\n  text-align: right;\n  border-top: 1px solid #ebeef5;\n  background-color: #fff;\n}\n\n/* 对话框样式 */\n.el-dialog {\n  border-radius: 8px;\n}\n\n.el-dialog__header {\n  padding: 20px 24px;\n  border-bottom: 1px solid #ebeef5;\n}\n\n.el-dialog__body {\n  padding: 24px;\n}\n\n.el-dialog__footer {\n  padding: 16px 24px;\n  border-top: 1px solid #ebeef5;\n}\n\n/* 表单样式优化 */\n.el-form-item {\n  margin-bottom: 24px;\n}\n\n.el-form-item__label {\n  font-weight: normal;\n  color: #606266;\n}\n\n/* 下拉菜单样式优化 */\n.el-dropdown-menu {\n  padding: 8px 0;\n  border-radius: 4px;\n  box-shadow: 0 2px 12px rgba(0,0,0,0.1);\n}\n\n.el-dropdown-menu__item {\n  line-height: 32px;\n  padding: 0 16px;\n  font-size: 13px;\n}\n\n.el-dropdown-menu__item:hover {\n  background-color: #f5f7fa;\n}\n\n/* 视图切换样式 */\n.view-switch-container {\n  margin-bottom: 24px;\n  padding: 16px 24px;\n}\n\n.view-switch {\n  display: flex;\n  justify-content: flex-end;\n}\n\n/* 响应式优化 */\n@media screen and (max-width: 768px) {\n  .app-container {\n    padding: 16px;\n  }\n  \n  .filter-item-container {\n    grid-template-columns: 1fr;\n  }\n  \n  .dashboard-card {\n    height: 100px;\n    padding: 16px;\n  }\n  \n  .card-number {\n    font-size: 24px;\n  }\n  \n  .card-icon {\n    font-size: 36px;\n  }\n}\n\n/* 表格操作列样式优化 */\n.table-actions {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  white-space: nowrap;\n}\n\n.table-actions .el-button {\n  padding: 0 8px;\n  font-size: 13px;\n  color: #409EFF;\n}\n\n.table-actions .el-button:hover {\n  color: #66b1ff;\n  background: transparent;\n}\n\n.table-actions .el-button [class*=\"el-icon-\"] + span {\n  margin-left: 4px;\n}\n\n.table-actions .el-divider--vertical {\n  height: 1em;\n  margin: 0 8px;\n}\n\n.el-dropdown-menu__item [class*=\"el-icon-\"] {\n  margin-right: 8px;\n  font-size: 14px;\n}\n\n.el-dropdown-menu__item.is-disabled {\n  color: #c0c4cc;\n}\n\n/* 表格固定列阴影优化 */\n.el-table__fixed-right {\n  box-shadow: -2px 0 8px rgba(0, 0, 0, 0.05);\n}\n\n/* 下拉菜单项样式优化 */\n.el-dropdown-menu__item {\n  display: flex;\n  align-items: center;\n  padding: 8px 16px;\n}\n\n.el-dropdown-menu__item.divided {\n  border-top: 1px solid #ebeef5;\n  margin-top: 4px;\n  padding-top: 8px;\n}\n</style> "]}]}