{"remainingRequest":"/Users/bx/logistics-design/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/bx/logistics-design/frontend/src/views/order/productionPlan.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/bx/logistics-design/frontend/src/views/order/productionPlan.vue","mtime":1747836160169},{"path":"/Users/bx/logistics-design/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1747185535160},{"path":"/Users/bx/logistics-design/frontend/node_modules/vue-loader/lib/index.js","mtime":1747185534034}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci8vIGltcG9ydCB7IGdldFByb2R1Y3Rpb25QbGFuTGlzdCwgdXBkYXRlUHJvZHVjdGlvblBsYW4gfSBmcm9tICdAL2FwaS9wcm9kdWN0aW9uUGxhbicKaW1wb3J0IHsgcHJvZHVjdGlvbkFwaSB9IGZyb20gJ0AvdXRpbHMvbW9ja1V0aWxzJwppbXBvcnQgeyBnZXRDb25zdGFudHMgfSBmcm9tICdAL3V0aWxzL21vY2tVdGlscycKaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1Byb2R1Y3Rpb25QbGFuJywKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8g5p+l6K+i5Y+C5pWwCiAgICAgIHF1ZXJ5UGFyYW1zOiB7CiAgICAgICAgcGFnZU51bTogMSwKICAgICAgICBwYWdlU2l6ZTogMTAsCiAgICAgICAgb3JkZXJObzogJycsCiAgICAgICAgY3VzdG9tZXJOYW1lOiAnJywKICAgICAgICBzdGF0dXM6ICcnLAogICAgICAgIGRhdGVSYW5nZTogW10KICAgICAgfSwKICAgICAgLy8g54q25oCB6YCJ6aG5CiAgICAgIHN0YXR1c09wdGlvbnM6IGdldENvbnN0YW50cygpLm9yZGVyU3RhdHVzLAogICAgICAvLyDooajmoLzmlbDmja4KICAgICAgdGFibGVEYXRhOiBbXSwKICAgICAgLy8g5Yqg6L2954q25oCBCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICAvLyDmgLvmlbAKICAgICAgdG90YWw6IDAsCiAgICAgIC8vIOe8lui+keWvueivneahhgogICAgICBlZGl0RGlhbG9nOiB7CiAgICAgICAgdmlzaWJsZTogZmFsc2UsCiAgICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgICAgZm9ybTogewogICAgICAgICAgaWQ6IG51bGwsCiAgICAgICAgICBvcmRlck5vOiAnJywKICAgICAgICAgIGN1c3RvbWVyTmFtZTogJycsCiAgICAgICAgICBwcm9kdWN0TmFtZTogJycsCiAgICAgICAgICBzdGFydFRpbWU6ICcnLAogICAgICAgICAgZW5kVGltZTogJycsCiAgICAgICAgICBzdGF0dXM6ICcnLAogICAgICAgICAgcmVtYXJrOiAnJwogICAgICAgIH0sCiAgICAgICAgcnVsZXM6IHsKICAgICAgICAgIHN0YXJ0VGltZTogWwogICAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36YCJ5oup5byA5aeL5pe26Ze0JywgdHJpZ2dlcjogJ2NoYW5nZScgfQogICAgICAgICAgXSwKICAgICAgICAgIGVuZFRpbWU6IFsKICAgICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+mAieaLqee7k+adn+aXtumXtCcsIHRyaWdnZXI6ICdjaGFuZ2UnIH0KICAgICAgICAgIF0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIC8vIOetm+mAieihqOWNlQogICAgICBmaWx0ZXJGb3JtOiB7CiAgICAgICAgcGxhbk5vOiAnJywKICAgICAgICBvcmRlck5vOiAnJywKICAgICAgICBzdGF0dXM6ICcnLAogICAgICAgIHN0YXJ0RGF0ZTogJycsCiAgICAgICAgZW5kRGF0ZTogJycsCiAgICAgICAgcGFnZU51bTogMSwKICAgICAgICBwYWdlU2l6ZTogMTAKICAgICAgfSwKICAgICAgZGF0ZVJhbmdlOiBbXSwKICAgICAgLy8g5pel5Y6G6KeG5Zu+6K6+572uCiAgICAgIGNhbGVuZGFyVmlldzogJ21vbnRoJywKICAgICAgd2Vla0RheXM6IFtdLAogICAgICAvLyDlr7nor53moYborr7nva4KICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIGRpYWxvZ1RpdGxlOiAn5Yib5bu65o6S5Lqn6K6h5YiSJywKICAgICAgcGxhbkZvcm06IHsKICAgICAgICBpZDogbnVsbCwKICAgICAgICBvcmRlcklkOiAnJywKICAgICAgICBwcm9kdWN0SWQ6ICcnLAogICAgICAgIHBsYW5RdWFudGl0eTogMSwKICAgICAgICBkYXRlUmFuZ2U6IFtdLAogICAgICAgIHByaW9yaXR5OiAxLAogICAgICAgIHJlbWFyazogJycKICAgICAgfSwKICAgICAgcGxhblJ1bGVzOiB7CiAgICAgICAgb3JkZXJJZDogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fpgInmi6nlhbPogZTorqLljZUnLCB0cmlnZ2VyOiAnY2hhbmdlJyB9XSwKICAgICAgICBwcm9kdWN0SWQ6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36YCJ5oup55Sf5Lqn5Lqn5ZOBJywgdHJpZ2dlcjogJ2NoYW5nZScgfV0sCiAgICAgICAgcGxhblF1YW50aXR5OiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeiuoeWIkuaVsOmHjycsIHRyaWdnZXI6ICdibHVyJyB9XSwKICAgICAgICBkYXRlUmFuZ2U6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36YCJ5oup55Sf5Lqn5pel5pyfJywgdHJpZ2dlcjogJ2NoYW5nZScgfV0KICAgICAgfSwKICAgICAgc3VibWl0TG9hZGluZzogZmFsc2UsCiAgICAgIC8vIOmAiemhueaVsOaNrgogICAgICBvcmRlck9wdGlvbnM6IFsKICAgICAgICB7IHZhbHVlOiAxLCBsYWJlbDogJ+S4iua1t+afkOenkeaKgOaciemZkOWFrOWPuCcsIG9yZGVyTm86ICdERDIwMjMxMDAxMDAxJyB9LAogICAgICAgIHsgdmFsdWU6IDIsIGxhYmVsOiAn5YyX5Lqs5p+Q6LS45piT5pyJ6ZmQ5YWs5Y+4Jywgb3JkZXJObzogJ0REMjAyMzEwMDUwMDInIH0sCiAgICAgICAgeyB2YWx1ZTogMywgbGFiZWw6ICflub/lt57mn5DnlLXlrZDnp5HmioDlhazlj7gnLCBvcmRlck5vOiAnREQyMDIzMDkyNTAwMycgfQogICAgICBdLAogICAgICBwcm9kdWN0T3B0aW9uczogWwogICAgICAgIHsgdmFsdWU6IDEsIGxhYmVsOiAn5pm66IO95omL5py6QScgfSwKICAgICAgICB7IHZhbHVlOiAyLCBsYWJlbDogJ+eslOiusOacrOeUteiEkUInIH0sCiAgICAgICAgeyB2YWx1ZTogMywgbGFiZWw6ICflubPmnb/nlLXohJFDJyB9LAogICAgICAgIHsgdmFsdWU6IDQsIGxhYmVsOiAn5pm66IO95omL6KGoRCcgfSwKICAgICAgICB7IHZhbHVlOiA1LCBsYWJlbDogJ+aZuuiDvemfs+eusUUnIH0KICAgICAgXSwKICAgICAgY2FsZW5kYXJQbGFuczogW10KICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBkYXRlUmFuZ2UodmFsKSB7CiAgICAgIGlmICh2YWwgJiYgdmFsLmxlbmd0aCA9PT0gMikgewogICAgICAgIHRoaXMuZmlsdGVyRm9ybS5zdGFydERhdGUgPSB2YWxbMF0KICAgICAgICB0aGlzLmZpbHRlckZvcm0uZW5kRGF0ZSA9IHZhbFsxXQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZmlsdGVyRm9ybS5zdGFydERhdGUgPSAnJwogICAgICAgIHRoaXMuZmlsdGVyRm9ybS5lbmREYXRlID0gJycKICAgICAgfQogICAgfSwKICAgIGNhbGVuZGFyVmlldygpIHsKICAgICAgaWYgKHRoaXMuY2FsZW5kYXJWaWV3ID09PSAnd2VlaycpIHsKICAgICAgICB0aGlzLmdlbmVyYXRlV2Vla0RheXMoKQogICAgICB9CiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRMaXN0KCkKICAgIHRoaXMuZ2VuZXJhdGVXZWVrRGF5cygpCiAgfSwKICBtZXRob2RzOiB7CiAgICAvKiog6I635Y+W55Sf5Lqn6K6h5YiS5YiX6KGoICovCiAgICBhc3luYyBnZXRMaXN0KCkgewogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlCiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgcHJvZHVjdGlvbkFwaS5saXN0KHsKICAgICAgICAgIGZpbHRlcnM6IHsKICAgICAgICAgICAgb3JkZXJObzogdGhpcy5xdWVyeVBhcmFtcy5vcmRlck5vLAogICAgICAgICAgICBjdXN0b21lck5hbWU6IHRoaXMucXVlcnlQYXJhbXMuY3VzdG9tZXJOYW1lLAogICAgICAgICAgICBzdGF0dXM6IHRoaXMucXVlcnlQYXJhbXMuc3RhdHVzLAogICAgICAgICAgICBkYXRlUmFuZ2U6IHRoaXMucXVlcnlQYXJhbXMuZGF0ZVJhbmdlCiAgICAgICAgICB9LAogICAgICAgICAgcGFnaW5hdGlvbjogewogICAgICAgICAgICBwYWdlTnVtOiB0aGlzLnF1ZXJ5UGFyYW1zLnBhZ2VOdW0sCiAgICAgICAgICAgIHBhZ2VTaXplOiB0aGlzLnF1ZXJ5UGFyYW1zLnBhZ2VTaXplCiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICB0aGlzLnRhYmxlRGF0YSA9IHJlcy5yZWNvcmRzCiAgICAgICAgdGhpcy50b3RhbCA9IHJlcy50b3RhbAogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+iOt+WPlueUn+S6p+iuoeWIkuWIl+ihqOWksei0pTonLCBlcnJvcikKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfojrflj5bnlJ/kuqforqHliJLliJfooajlpLHotKUnKQogICAgICB9IGZpbmFsbHkgewogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICAgIH0KICAgIH0sCgogICAgLyoqIOaQnOe0ouaMiemSruaTjeS9nCAqLwogICAgaGFuZGxlUXVlcnkoKSB7CiAgICAgIHRoaXMucXVlcnlQYXJhbXMucGFnZU51bSA9IDEKICAgICAgdGhpcy5nZXRMaXN0KCkKICAgIH0sCgogICAgLyoqIOmHjee9ruaMiemSruaTjeS9nCAqLwogICAgcmVzZXRRdWVyeSgpIHsKICAgICAgdGhpcy5xdWVyeVBhcmFtcyA9IHsKICAgICAgICBwYWdlTnVtOiAxLAogICAgICAgIHBhZ2VTaXplOiAxMCwKICAgICAgICBvcmRlck5vOiAnJywKICAgICAgICBjdXN0b21lck5hbWU6ICcnLAogICAgICAgIHN0YXR1czogJycsCiAgICAgICAgZGF0ZVJhbmdlOiBbXQogICAgICB9CiAgICAgIHRoaXMuZ2V0TGlzdCgpCiAgICB9LAoKICAgIC8qKiDnvJbovpHmjInpkq7mk43kvZwgKi8KICAgIGhhbmRsZUVkaXQocm93KSB7CiAgICAgIHRoaXMuZWRpdERpYWxvZy5mb3JtID0gewogICAgICAgIGlkOiByb3cuaWQsCiAgICAgICAgb3JkZXJObzogcm93Lm9yZGVyTm8sCiAgICAgICAgY3VzdG9tZXJOYW1lOiByb3cuY3VzdG9tZXJOYW1lLAogICAgICAgIHByb2R1Y3ROYW1lOiByb3cucHJvZHVjdE5hbWUsCiAgICAgICAgc3RhcnRUaW1lOiByb3cuc3RhcnRUaW1lLAogICAgICAgIGVuZFRpbWU6IHJvdy5lc3RpbWF0ZWRFbmRUaW1lLAogICAgICAgIHN0YXR1czogcm93LnN0YXR1cywKICAgICAgICByZW1hcms6IHJvdy5kZXNjcmlwdGlvbgogICAgICB9CiAgICAgIHRoaXMuZWRpdERpYWxvZy52aXNpYmxlID0gdHJ1ZQogICAgfSwKCiAgICAvKiog5o+Q5Lqk57yW6L6RICovCiAgICBhc3luYyBzdWJtaXRFZGl0KCkgewogICAgICB0aGlzLiRyZWZzLmVkaXRGb3JtLnZhbGlkYXRlKGFzeW5jIHZhbGlkID0+IHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIHRoaXMuZWRpdERpYWxvZy5sb2FkaW5nID0gdHJ1ZQogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgYXdhaXQgcHJvZHVjdGlvbkFwaS51cGRhdGVQbGFuKHRoaXMuZWRpdERpYWxvZy5mb3JtKQogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+abtOaWsOaIkOWKnycpCiAgICAgICAgICAgIHRoaXMuZWRpdERpYWxvZy52aXNpYmxlID0gZmFsc2UKICAgICAgICAgICAgdGhpcy5nZXRMaXN0KCkKICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+abtOaWsOeUn+S6p+iuoeWIkuWksei0pTonLCBlcnJvcikKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5pu05paw55Sf5Lqn6K6h5YiS5aSx6LSlJykKICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgIHRoaXMuZWRpdERpYWxvZy5sb2FkaW5nID0gZmFsc2UKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pCiAgICB9LAoKICAgIC8qKiDlj5bmtojnvJbovpEgKi8KICAgIGNhbmNlbEVkaXQoKSB7CiAgICAgIHRoaXMuZWRpdERpYWxvZy52aXNpYmxlID0gZmFsc2UKICAgICAgdGhpcy5lZGl0RGlhbG9nLmZvcm0gPSB7CiAgICAgICAgaWQ6IG51bGwsCiAgICAgICAgb3JkZXJObzogJycsCiAgICAgICAgY3VzdG9tZXJOYW1lOiAnJywKICAgICAgICBwcm9kdWN0TmFtZTogJycsCiAgICAgICAgc3RhcnRUaW1lOiAnJywKICAgICAgICBlbmRUaW1lOiAnJywKICAgICAgICBzdGF0dXM6ICcnLAogICAgICAgIHJlbWFyazogJycKICAgICAgfQogICAgfSwKCiAgICAvKiog5q+P6aG15pi+56S65p2h5pWw5pS55Y+YICovCiAgICBoYW5kbGVTaXplQ2hhbmdlKHZhbCkgewogICAgICB0aGlzLnF1ZXJ5UGFyYW1zLnBhZ2VTaXplID0gdmFsCiAgICAgIHRoaXMuZ2V0TGlzdCgpCiAgICB9LAoKICAgIC8qKiDlvZPliY3pobXmlLnlj5ggKi8KICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMucXVlcnlQYXJhbXMucGFnZU51bSA9IHZhbAogICAgICB0aGlzLmdldExpc3QoKQogICAgfSwKCiAgICAvLyDmoLzlvI/ljJbml6XmnJ8KICAgIGZvcm1hdERhdGVUaW1lKGRhdGUpIHsKICAgICAgcmV0dXJuIGRhdGUgPyBtb21lbnQoZGF0ZSkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tOnNzJykgOiAnLScKICAgIH0sCgogICAgLy8g5qC85byP5YyW54q25oCBCiAgICBmb3JtYXRTdGF0dXMoc3RhdHVzKSB7CiAgICAgIGNvbnN0IHN0YXR1c01hcCA9IHRoaXMuc3RhdHVzT3B0aW9ucy5yZWR1Y2UoKGFjYywgY3VycikgPT4gewogICAgICAgIGFjY1tjdXJyLnZhbHVlXSA9IGN1cnIubGFiZWwKICAgICAgICByZXR1cm4gYWNjCiAgICAgIH0sIHt9KQogICAgICByZXR1cm4gc3RhdHVzTWFwW3N0YXR1c10gfHwgJ+acquefpScKICAgIH0sCgogICAgLy8g6I635Y+W54q25oCB5qCH562+57G75Z6LCiAgICBnZXRTdGF0dXNUeXBlKHN0YXR1cykgewogICAgICBjb25zdCB0eXBlTWFwID0gewogICAgICAgIDA6ICdpbmZvJywKICAgICAgICAxOiAnd2FybmluZycsCiAgICAgICAgMjogJ3ByaW1hcnknLAogICAgICAgIDM6ICdzdWNjZXNzJywKICAgICAgICA0OiAnc3VjY2VzcycKICAgICAgfQogICAgICByZXR1cm4gdHlwZU1hcFtzdGF0dXNdIHx8ICdpbmZvJwogICAgfSwKCiAgICAvLyDnlJ/miJDml6XljobmlbDmja4KICAgIGdlbmVyYXRlQ2FsZW5kYXJEYXRhKCkgewogICAgICB0aGlzLmNhbGVuZGFyUGxhbnMgPSB0aGlzLnRhYmxlRGF0YS5maWx0ZXIoaXRlbSA9PiBpdGVtLnN0YXR1cyAhPT0gMykubWFwKGl0ZW0gPT4gewogICAgICAgIGNvbnN0IHN0YXJ0RGF0ZSA9IG5ldyBEYXRlKGl0ZW0uc3RhcnREYXRlKQogICAgICAgIGNvbnN0IGVuZERhdGUgPSBuZXcgRGF0ZShpdGVtLmVuZERhdGUpCiAgICAgICAgY29uc3QgZGF5cyA9IFtdCiAgICAgICAgCiAgICAgICAgbGV0IGN1cnJlbnREYXRlID0gbmV3IERhdGUoc3RhcnREYXRlKQogICAgICAgIHdoaWxlIChjdXJyZW50RGF0ZSA8PSBlbmREYXRlKSB7CiAgICAgICAgICBkYXlzLnB1c2gobmV3IERhdGUoY3VycmVudERhdGUpKQogICAgICAgICAgY3VycmVudERhdGUuc2V0RGF0ZShjdXJyZW50RGF0ZS5nZXREYXRlKCkgKyAxKQogICAgICAgIH0KICAgICAgICAKICAgICAgICByZXR1cm4gewogICAgICAgICAgaWQ6IGl0ZW0uaWQsCiAgICAgICAgICBwbGFuTm86IGl0ZW0ucGxhbk5vLAogICAgICAgICAgcHJvZHVjdE5hbWU6IGl0ZW0ucHJvZHVjdE5hbWUsCiAgICAgICAgICBwbGFuUXVhbnRpdHk6IGl0ZW0ucGxhblF1YW50aXR5LAogICAgICAgICAgZGF5czogZGF5cywKICAgICAgICAgIHN0YXR1czogaXRlbS5zdGF0dXMsCiAgICAgICAgICBzdGFydFRpbWU6ICcwOTowMCcsCiAgICAgICAgICBlbmRUaW1lOiAnMTg6MDAnCiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIC8vIOeUn+aIkOWRqOinhuWbvuaVsOaNrgogICAgZ2VuZXJhdGVXZWVrRGF5cygpIHsKICAgICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpCiAgICAgIGNvbnN0IHdlZWtTdGFydCA9IG5ldyBEYXRlKHRvZGF5KQogICAgICBjb25zdCBkYXlPZldlZWsgPSB0b2RheS5nZXREYXkoKSB8fCA3CiAgICAgIHdlZWtTdGFydC5zZXREYXRlKHRvZGF5LmdldERhdGUoKSAtIGRheU9mV2VlayArIDEpCiAgICAgIAogICAgICB0aGlzLndlZWtEYXlzID0gW10KICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA3OyBpKyspIHsKICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUod2Vla1N0YXJ0KQogICAgICAgIGRhdGUuc2V0RGF0ZSh3ZWVrU3RhcnQuZ2V0RGF0ZSgpICsgaSkKICAgICAgICAKICAgICAgICB0aGlzLndlZWtEYXlzLnB1c2goewogICAgICAgICAgZGF0ZTogdGhpcy5mb3JtYXREYXRlKGRhdGUsICdNTS1kZCcpLAogICAgICAgICAgZGF5TmFtZTogWyflkajkuIAnLCAn5ZGo5LqMJywgJ+WRqOS4iScsICflkajlm5snLCAn5ZGo5LqUJywgJ+WRqOWFrScsICflkajml6UnXVtpXSwKICAgICAgICAgIGZ1bGxEYXRlOiB0aGlzLmZvcm1hdERhdGUoZGF0ZSwgJ3l5eXktTU0tZGQnKSwKICAgICAgICAgIHBsYW5zOiBbXQogICAgICAgIH0pCiAgICAgIH0KICAgICAgCiAgICAgIC8vIOWhq+WFheWRqOinhuWbvuiuoeWIkuaVsOaNrgogICAgICBpZiAodGhpcy5jYWxlbmRhclBsYW5zLmxlbmd0aCA+IDApIHsKICAgICAgICB0aGlzLmNhbGVuZGFyUGxhbnMuZm9yRWFjaChwbGFuID0+IHsKICAgICAgICAgIHBsYW4uZGF5cy5mb3JFYWNoKGRheSA9PiB7CiAgICAgICAgICAgIGNvbnN0IGRheVN0ciA9IHRoaXMuZm9ybWF0RGF0ZShkYXksICd5eXl5LU1NLWRkJykKICAgICAgICAgICAgY29uc3Qgd2Vla0RheSA9IHRoaXMud2Vla0RheXMuZmluZChkID0+IGQuZnVsbERhdGUgPT09IGRheVN0cikKICAgICAgICAgICAgaWYgKHdlZWtEYXkpIHsKICAgICAgICAgICAgICB3ZWVrRGF5LnBsYW5zLnB1c2goewogICAgICAgICAgICAgICAgaWQ6IHBsYW4uaWQsCiAgICAgICAgICAgICAgICBwcm9kdWN0TmFtZTogcGxhbi5wcm9kdWN0TmFtZSwKICAgICAgICAgICAgICAgIHBsYW5RdWFudGl0eTogcGxhbi5wbGFuUXVhbnRpdHksCiAgICAgICAgICAgICAgICBzdGF0dXM6IHBsYW4uc3RhdHVzLAogICAgICAgICAgICAgICAgc3RhcnRUaW1lOiBwbGFuLnN0YXJ0VGltZSwKICAgICAgICAgICAgICAgIGVuZFRpbWU6IHBsYW4uZW5kVGltZQogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgICAgfSkKICAgICAgfQogICAgfSwKICAgIC8vIOiOt+WPluaMh+WumuaXpeacn+eahOiuoeWIkgogICAgZ2V0Q2FsZW5kYXJQbGFucyhkYXRlKSB7CiAgICAgIGNvbnN0IGRhdGVTdHIgPSB0aGlzLmZvcm1hdERhdGUoZGF0ZSwgJ3l5eXktTU0tZGQnKQogICAgICByZXR1cm4gdGhpcy5jYWxlbmRhclBsYW5zLmZpbHRlcihwbGFuID0+IHsKICAgICAgICByZXR1cm4gcGxhbi5kYXlzLnNvbWUoZGF5ID0+IHRoaXMuZm9ybWF0RGF0ZShkYXksICd5eXl5LU1NLWRkJykgPT09IGRhdGVTdHIpCiAgICAgIH0pCiAgICB9LAogICAgLy8g5qC85byP5YyW5pel5pyfCiAgICBmb3JtYXREYXRlKGRhdGUsIGZvcm1hdCkgewogICAgICBjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpCiAgICAgIGNvbnN0IG1vbnRoID0gU3RyaW5nKGRhdGUuZ2V0TW9udGgoKSArIDEpLnBhZFN0YXJ0KDIsICcwJykKICAgICAgY29uc3QgZGF5ID0gU3RyaW5nKGRhdGUuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCAnMCcpCiAgICAgIAogICAgICBpZiAoZm9ybWF0ID09PSAneXl5eS1NTS1kZCcpIHsKICAgICAgICByZXR1cm4gYCR7eWVhcn0tJHttb250aH0tJHtkYXl9YAogICAgICB9IGVsc2UgaWYgKGZvcm1hdCA9PT0gJ01NLWRkJykgewogICAgICAgIHJldHVybiBgJHttb250aH0tJHtkYXl9YAogICAgICB9CiAgICAgIAogICAgICByZXR1cm4gYCR7eWVhcn0tJHttb250aH0tJHtkYXl9YAogICAgfSwKICAgIC8vIOiuoeeul+WujOaIkOeZvuWIhuavlAogICAgY2FsY3VsYXRlUHJvZ3Jlc3Mocm93KSB7CiAgICAgIGlmIChyb3cucGxhblF1YW50aXR5ID09PSAwKSByZXR1cm4gMAogICAgICByZXR1cm4gTWF0aC5yb3VuZCgocm93LmFjdHVhbFF1YW50aXR5IC8gcm93LnBsYW5RdWFudGl0eSkgKiAxMDApCiAgICB9LAogICAgLy8g55m+5YiG5q+U5qC85byP5YyWCiAgICBwZXJjZW50Rm9ybWF0KHBlcmNlbnQpIHsKICAgICAgcmV0dXJuIHBlcmNlbnQgKyAnJScKICAgIH0sCiAgICAvLyDojrflj5bnirbmgIHlkI3np7AKICAgIGdldFN0YXR1c05hbWUoc3RhdHVzKSB7CiAgICAgIGNvbnN0IG5hbWVNYXAgPSB7CiAgICAgICAgMDogJ+W+heeUn+S6pycsCiAgICAgICAgMTogJ+eUn+S6p+S4rScsCiAgICAgICAgMjogJ+W3suWujOaIkCcsCiAgICAgICAgMzogJ+W3suWPlua2iCcKICAgICAgfQogICAgICByZXR1cm4gbmFtZU1hcFtzdGF0dXNdIHx8ICfmnKrnn6UnCiAgICB9LAogICAgLy8g5p+l6K+iCiAgICBoYW5kbGVGaWx0ZXIoKSB7CiAgICAgIHRoaXMuZmlsdGVyRm9ybS5wYWdlTnVtID0gMQogICAgICB0aGlzLmdldExpc3QoKQogICAgfSwKICAgIC8vIOmHjee9ruetm+mAieadoeS7tgogICAgcmVzZXRGaWx0ZXIoKSB7CiAgICAgIHRoaXMuZmlsdGVyRm9ybSA9IHsKICAgICAgICBwbGFuTm86ICcnLAogICAgICAgIG9yZGVyTm86ICcnLAogICAgICAgIHN0YXR1czogJycsCiAgICAgICAgc3RhcnREYXRlOiAnJywKICAgICAgICBlbmREYXRlOiAnJywKICAgICAgICBwYWdlTnVtOiAxLAogICAgICAgIHBhZ2VTaXplOiAxMAogICAgICB9CiAgICAgIHRoaXMuZGF0ZVJhbmdlID0gW10KICAgICAgdGhpcy5nZXRMaXN0KCkKICAgIH0sCiAgICAvLyDmn6XnnIvor6bmg4UKICAgIGhhbmRsZURldGFpbChyb3cpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICdQcm9kdWN0aW9uUGxhbkRldGFpbCcsCiAgICAgICAgcGFyYW1zOiB7IGlkOiByb3cuaWQgfQogICAgICB9KQogICAgfSwKICAgIC8vIOW8gOWni+eUn+S6pwogICAgaGFuZGxlU3RhcnQocm93KSB7CiAgICAgIHRoaXMuJGNvbmZpcm0oJ+ehruiupOW8gOWni+eUn+S6p+ivpeiuoeWIkj8nLCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgLy8g5qih5ouf6K+35rGCCiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLnRhYmxlRGF0YS5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLmlkID09PSByb3cuaWQpCiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkgewogICAgICAgICAgdGhpcy50YWJsZURhdGFbaW5kZXhdLnN0YXR1cyA9IDEKICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5bey5byA5aeL55Sf5LqnJykKICAgICAgICAgIAogICAgICAgICAgLy8g5pu05paw5pel5Y6G5pWw5o2uCiAgICAgICAgICB0aGlzLmdlbmVyYXRlQ2FsZW5kYXJEYXRhKCkKICAgICAgICAgIGlmICh0aGlzLmNhbGVuZGFyVmlldyA9PT0gJ3dlZWsnKSB7CiAgICAgICAgICAgIHRoaXMuZ2VuZXJhdGVXZWVrRGF5cygpCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KS5jYXRjaCgoKSA9PiB7fSkKICAgIH0sCiAgICAvLyDlrozmiJDnlJ/kuqcKICAgIGhhbmRsZUNvbXBsZXRlKHJvdykgewogICAgICB0aGlzLiRjb25maXJtKCfnoa7orqTlrozmiJDor6XnlJ/kuqforqHliJI/JywgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgIC8vIOaooeaLn+ivt+axggogICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy50YWJsZURhdGEuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS5pZCA9PT0gcm93LmlkKQogICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHsKICAgICAgICAgIHRoaXMudGFibGVEYXRhW2luZGV4XS5zdGF0dXMgPSAyCiAgICAgICAgICB0aGlzLnRhYmxlRGF0YVtpbmRleF0uYWN0dWFsUXVhbnRpdHkgPSB0aGlzLnRhYmxlRGF0YVtpbmRleF0ucGxhblF1YW50aXR5CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+eUn+S6p+iuoeWIkuW3suWujOaIkCcpCiAgICAgICAgICAKICAgICAgICAgIC8vIOabtOaWsOaXpeWOhuaVsOaNrgogICAgICAgICAgdGhpcy5nZW5lcmF0ZUNhbGVuZGFyRGF0YSgpCiAgICAgICAgICBpZiAodGhpcy5jYWxlbmRhclZpZXcgPT09ICd3ZWVrJykgewogICAgICAgICAgICB0aGlzLmdlbmVyYXRlV2Vla0RheXMoKQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSkuY2F0Y2goKCkgPT4ge30pCiAgICB9LAogICAgLy8g5Y+W5raI6K6h5YiSCiAgICBoYW5kbGVDYW5jZWwocm93KSB7CiAgICAgIHRoaXMuJGNvbmZpcm0oJ+ehruiupOWPlua2iOivpeeUn+S6p+iuoeWIkj8nLCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgLy8g5qih5ouf6K+35rGCCiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLnRhYmxlRGF0YS5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLmlkID09PSByb3cuaWQpCiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkgewogICAgICAgICAgdGhpcy50YWJsZURhdGFbaW5kZXhdLnN0YXR1cyA9IDMKICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn55Sf5Lqn6K6h5YiS5bey5Y+W5raIJykKICAgICAgICAgIAogICAgICAgICAgLy8g5pu05paw5pel5Y6G5pWw5o2uCiAgICAgICAgICB0aGlzLmdlbmVyYXRlQ2FsZW5kYXJEYXRhKCkKICAgICAgICAgIGlmICh0aGlzLmNhbGVuZGFyVmlldyA9PT0gJ3dlZWsnKSB7CiAgICAgICAgICAgIHRoaXMuZ2VuZXJhdGVXZWVrRGF5cygpCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KS5jYXRjaCgoKSA9PiB7fSkKICAgIH0sCiAgICAvLyDliJvlu7rmjpLkuqforqHliJIKICAgIGhhbmRsZUNyZWF0ZVBsYW4oKSB7CiAgICAgIHRoaXMuZGlhbG9nVGl0bGUgPSAn5Yib5bu65o6S5Lqn6K6h5YiSJwogICAgICB0aGlzLnBsYW5Gb3JtID0gewogICAgICAgIGlkOiBudWxsLAogICAgICAgIG9yZGVySWQ6ICcnLAogICAgICAgIHByb2R1Y3RJZDogJycsCiAgICAgICAgcGxhblF1YW50aXR5OiAxLAogICAgICAgIGRhdGVSYW5nZTogW10sCiAgICAgICAgcHJpb3JpdHk6IDEsCiAgICAgICAgcmVtYXJrOiAnJwogICAgICB9CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWUKICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIHRoaXMuJHJlZnMucGxhbkZvcm0gJiYgdGhpcy4kcmVmcy5wbGFuRm9ybS5jbGVhclZhbGlkYXRlKCkKICAgICAgfSkKICAgIH0sCiAgICAvLyDmj5DkuqTmjpLkuqforqHliJIKICAgIHN1Ym1pdFBsYW4oKSB7CiAgICAgIHRoaXMuJHJlZnMucGxhbkZvcm0udmFsaWRhdGUodmFsaWQgPT4gewogICAgICAgIGlmICghdmFsaWQpIHJldHVybgogICAgICAgIAogICAgICAgIHRoaXMuc3VibWl0TG9hZGluZyA9IHRydWUKICAgICAgICAKICAgICAgICAvLyDmqKHmi5/mj5DkuqTor7fmsYIKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIGlmICh0aGlzLnBsYW5Gb3JtLmlkKSB7CiAgICAgICAgICAgIC8vIOabtOaWsAogICAgICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMudGFibGVEYXRhLmZpbmRJbmRleChpdGVtID0+IGl0ZW0uaWQgPT09IHRoaXMucGxhbkZvcm0uaWQpCiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHsKICAgICAgICAgICAgICBjb25zdCBvcmRlckluZm8gPSB0aGlzLm9yZGVyT3B0aW9ucy5maW5kKG8gPT4gby52YWx1ZSA9PT0gdGhpcy5wbGFuRm9ybS5vcmRlcklkKQogICAgICAgICAgICAgIGNvbnN0IHByb2R1Y3RJbmZvID0gdGhpcy5wcm9kdWN0T3B0aW9ucy5maW5kKHAgPT4gcC52YWx1ZSA9PT0gdGhpcy5wbGFuRm9ybS5wcm9kdWN0SWQpCiAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgdGhpcy50YWJsZURhdGFbaW5kZXhdID0gewogICAgICAgICAgICAgICAgLi4udGhpcy50YWJsZURhdGFbaW5kZXhdLAogICAgICAgICAgICAgICAgb3JkZXJObzogb3JkZXJJbmZvID8gb3JkZXJJbmZvLm9yZGVyTm8gOiAnJywKICAgICAgICAgICAgICAgIHByb2R1Y3ROYW1lOiBwcm9kdWN0SW5mbyA/IHByb2R1Y3RJbmZvLmxhYmVsIDogJycsCiAgICAgICAgICAgICAgICBwbGFuUXVhbnRpdHk6IHRoaXMucGxhbkZvcm0ucGxhblF1YW50aXR5LAogICAgICAgICAgICAgICAgc3RhcnREYXRlOiB0aGlzLnBsYW5Gb3JtLmRhdGVSYW5nZVswXSwKICAgICAgICAgICAgICAgIGVuZERhdGU6IHRoaXMucGxhbkZvcm0uZGF0ZVJhbmdlWzFdLAogICAgICAgICAgICAgICAgcHJpb3JpdHk6IHRoaXMucGxhbkZvcm0ucHJpb3JpdHksCiAgICAgICAgICAgICAgICByZW1hcms6IHRoaXMucGxhbkZvcm0ucmVtYXJrCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5o6S5Lqn6K6h5YiS5pu05paw5oiQ5YqfJykKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIOWIm+W7ugogICAgICAgICAgICBjb25zdCBvcmRlckluZm8gPSB0aGlzLm9yZGVyT3B0aW9ucy5maW5kKG8gPT4gby52YWx1ZSA9PT0gdGhpcy5wbGFuRm9ybS5vcmRlcklkKQogICAgICAgICAgICBjb25zdCBwcm9kdWN0SW5mbyA9IHRoaXMucHJvZHVjdE9wdGlvbnMuZmluZChwID0+IHAudmFsdWUgPT09IHRoaXMucGxhbkZvcm0ucHJvZHVjdElkKQogICAgICAgICAgICAKICAgICAgICAgICAgY29uc3QgbmV3UGxhbiA9IHsKICAgICAgICAgICAgICBpZDogRGF0ZS5ub3coKSwKICAgICAgICAgICAgICBwbGFuTm86ICdQUCcgKyBuZXcgRGF0ZSgpLmdldFRpbWUoKS50b1N0cmluZygpLnN1YnN0cmluZygzKSwKICAgICAgICAgICAgICBvcmRlck5vOiBvcmRlckluZm8gPyBvcmRlckluZm8ub3JkZXJObyA6ICcnLAogICAgICAgICAgICAgIHByb2R1Y3ROYW1lOiBwcm9kdWN0SW5mbyA/IHByb2R1Y3RJbmZvLmxhYmVsIDogJycsCiAgICAgICAgICAgICAgcGxhblF1YW50aXR5OiB0aGlzLnBsYW5Gb3JtLnBsYW5RdWFudGl0eSwKICAgICAgICAgICAgICBhY3R1YWxRdWFudGl0eTogMCwKICAgICAgICAgICAgICBzdGFydERhdGU6IHRoaXMucGxhbkZvcm0uZGF0ZVJhbmdlWzBdLAogICAgICAgICAgICAgIGVuZERhdGU6IHRoaXMucGxhbkZvcm0uZGF0ZVJhbmdlWzFdLAogICAgICAgICAgICAgIHN0YXR1czogMCwKICAgICAgICAgICAgICBwcmlvcml0eTogdGhpcy5wbGFuRm9ybS5wcmlvcml0eSwKICAgICAgICAgICAgICByZW1hcms6IHRoaXMucGxhbkZvcm0ucmVtYXJrCiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIHRoaXMudGFibGVEYXRhLnVuc2hpZnQobmV3UGxhbikKICAgICAgICAgICAgdGhpcy50b3RhbCArPSAxCiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5o6S5Lqn6K6h5YiS5Yib5bu65oiQ5YqfJykKICAgICAgICAgIH0KICAgICAgICAgIAogICAgICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2UKICAgICAgICAgIHRoaXMuc3VibWl0TG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAKICAgICAgICAgIC8vIOabtOaWsOaXpeWOhuaVsOaNrgogICAgICAgICAgdGhpcy5nZW5lcmF0ZUNhbGVuZGFyRGF0YSgpCiAgICAgICAgICBpZiAodGhpcy5jYWxlbmRhclZpZXcgPT09ICd3ZWVrJykgewogICAgICAgICAgICB0aGlzLmdlbmVyYXRlV2Vla0RheXMoKQogICAgICAgICAgfQogICAgICAgIH0sIDEwMDApCiAgICAgIH0pCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["productionPlan.vue"],"names":[],"mappings":";AAgNA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"productionPlan.vue","sourceRoot":"src/views/order","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-card class=\"filter-container\">\n      <div slot=\"header\">\n        <span>排产计划管理</span>\n        <el-button style=\"float: right; padding: 3px 0\" type=\"text\" @click=\"handleCreatePlan\">创建排产计划</el-button>\n      </div>\n      <div class=\"filter-item-container\">\n        <div class=\"filter-item\">\n          <span class=\"label\">计划编号：</span>\n          <el-input v-model=\"filterForm.planNo\" placeholder=\"请输入计划编号\" style=\"width: 150px\" clearable />\n        </div>\n        <div class=\"filter-item\">\n          <span class=\"label\">订单编号：</span>\n          <el-input v-model=\"filterForm.orderNo\" placeholder=\"请输入订单编号\" style=\"width: 150px\" clearable />\n        </div>\n        <div class=\"filter-item\">\n          <span class=\"label\">计划状态：</span>\n          <el-select v-model=\"filterForm.status\" placeholder=\"请选择\" style=\"width: 150px\" clearable>\n            <el-option\n              v-for=\"item in statusOptions\"\n              :key=\"item.value\"\n              :label=\"item.label\"\n              :value=\"item.value\"\n            />\n          </el-select>\n        </div>\n        <div class=\"filter-item\">\n          <span class=\"label\">生产日期：</span>\n          <el-date-picker\n            v-model=\"dateRange\"\n            type=\"daterange\"\n            align=\"right\"\n            unlink-panels\n            range-separator=\"至\"\n            start-placeholder=\"开始日期\"\n            end-placeholder=\"结束日期\"\n            style=\"width: 260px\"\n            value-format=\"yyyy-MM-dd\"\n          />\n        </div>\n        <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"handleFilter\">查询</el-button>\n        <el-button icon=\"el-icon-refresh\" @click=\"resetFilter\">重置</el-button>\n      </div>\n    </el-card>\n\n    <!-- 日历视图 -->\n    <el-card style=\"margin-top: 20px;\">\n      <div slot=\"header\">\n        <span>排产计划日历视图</span>\n        <div style=\"float: right; display: flex; align-items: center;\">\n          <div style=\"margin-right: 20px;\">\n            <el-tag size=\"mini\" type=\"primary\">待生产</el-tag>\n            <el-tag size=\"mini\" type=\"success\">生产中</el-tag>\n            <el-tag size=\"mini\" type=\"warning\">已完成</el-tag>\n            <el-tag size=\"mini\" type=\"danger\">已取消</el-tag>\n          </div>\n          <el-radio-group v-model=\"calendarView\" size=\"mini\">\n            <el-radio-button label=\"month\">月视图</el-radio-button>\n            <el-radio-button label=\"week\">周视图</el-radio-button>\n          </el-radio-group>\n        </div>\n      </div>\n      <div style=\"margin-top: 10px;\">\n        <el-calendar v-if=\"calendarView === 'month'\">\n          <template slot=\"dateCell\" slot-scope=\"{date, data}\">\n            <div class=\"calendar-day\">\n              <div class=\"day-number\">{{ data.day.split('-')[2] }}</div>\n              <div v-for=\"plan in getCalendarPlans(date)\" :key=\"plan.id\" class=\"calendar-event\" :class=\"'status-' + plan.status\">\n                {{ plan.productName }} ({{ plan.planQuantity }}件)\n              </div>\n            </div>\n          </template>\n        </el-calendar>\n        <div v-else class=\"week-view\">\n          <div class=\"week-header\">\n            <div class=\"week-day\" v-for=\"(day, index) in weekDays\" :key=\"index\">\n              <div class=\"day-name\">{{ day.dayName }}</div>\n              <div class=\"day-date\">{{ day.date }}</div>\n            </div>\n          </div>\n          <div class=\"week-body\">\n            <div class=\"week-day-content\" v-for=\"(day, index) in weekDays\" :key=\"index\">\n              <div v-for=\"plan in day.plans\" :key=\"plan.id\" class=\"week-event\" :class=\"'status-' + plan.status\">\n                <div class=\"event-time\">{{ plan.startTime }} - {{ plan.endTime }}</div>\n                <div class=\"event-title\">{{ plan.productName }}</div>\n                <div class=\"event-quantity\">数量: {{ plan.planQuantity }}</div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </el-card>\n\n    <!-- 列表视图 -->\n    <el-card style=\"margin-top: 20px;\">\n      <div slot=\"header\">\n        <span>排产计划列表</span>\n      </div>\n      <el-table\n        v-loading=\"tableLoading\"\n        :data=\"tableData\"\n        border\n        style=\"width: 100%\"\n      >\n        <el-table-column prop=\"planNo\" label=\"计划编号\" width=\"150\" />\n        <el-table-column prop=\"orderNo\" label=\"关联订单\" width=\"150\" />\n        <el-table-column prop=\"productName\" label=\"产品名称\" width=\"150\" />\n        <el-table-column prop=\"planQuantity\" label=\"计划数量\" width=\"100\" />\n        <el-table-column prop=\"actualQuantity\" label=\"实际数量\" width=\"100\" />\n        <el-table-column label=\"完成率\" width=\"150\">\n          <template slot-scope=\"scope\">\n            <el-progress :percentage=\"calculateProgress(scope.row)\" :format=\"percentFormat\" />\n          </template>\n        </el-table-column>\n        <el-table-column label=\"生产日期\" width=\"200\">\n          <template slot-scope=\"scope\">\n            {{ scope.row.startDate }} 至 {{ scope.row.endDate }}\n          </template>\n        </el-table-column>\n        <el-table-column label=\"状态\" width=\"100\">\n          <template slot-scope=\"scope\">\n            <el-tag :type=\"getStatusType(scope.row.status)\">{{ getStatusName(scope.row.status) }}</el-tag>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"操作\" width=\"220\" fixed=\"right\">\n          <template slot-scope=\"scope\">\n            <el-button type=\"text\" @click=\"handleDetail(scope.row)\">详情</el-button>\n            <el-button type=\"text\" v-if=\"scope.row.status === 0\" @click=\"handleEdit(scope.row)\">编辑</el-button>\n            <el-button type=\"text\" v-if=\"scope.row.status === 0\" @click=\"handleStart(scope.row)\">开始生产</el-button>\n            <el-button type=\"text\" v-if=\"scope.row.status === 1\" @click=\"handleComplete(scope.row)\">完成</el-button>\n            <el-button type=\"text\" v-if=\"scope.row.status === 0\" @click=\"handleCancel(scope.row)\">取消</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <div class=\"pagination-container\">\n        <el-pagination\n          background\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n          :current-page=\"filterForm.pageNum\"\n          :page-sizes=\"[10, 20, 30, 50]\"\n          :page-size=\"filterForm.pageSize\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          :total=\"total\"\n        />\n      </div>\n    </el-card>\n\n    <!-- 创建/编辑排产计划对话框 -->\n    <el-dialog :title=\"dialogTitle\" :visible.sync=\"dialogVisible\" width=\"650px\">\n      <el-form :model=\"planForm\" :rules=\"planRules\" ref=\"planForm\" label-width=\"100px\">\n        <el-form-item label=\"关联订单\" prop=\"orderId\">\n          <el-select v-model=\"planForm.orderId\" placeholder=\"请选择订单\" style=\"width: 100%\">\n            <el-option\n              v-for=\"item in orderOptions\"\n              :key=\"item.value\"\n              :label=\"`${item.label} (${item.orderNo})`\"\n              :value=\"item.value\"\n            />\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"生产产品\" prop=\"productId\">\n          <el-select v-model=\"planForm.productId\" placeholder=\"请选择产品\" style=\"width: 100%\">\n            <el-option\n              v-for=\"item in productOptions\"\n              :key=\"item.value\"\n              :label=\"item.label\"\n              :value=\"item.value\"\n            />\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"计划数量\" prop=\"planQuantity\">\n          <el-input-number v-model=\"planForm.planQuantity\" :min=\"1\" style=\"width: 200px\" />\n        </el-form-item>\n        <el-form-item label=\"生产日期\" prop=\"dateRange\">\n          <el-date-picker\n            v-model=\"planForm.dateRange\"\n            type=\"daterange\"\n            range-separator=\"至\"\n            start-placeholder=\"开始日期\"\n            end-placeholder=\"结束日期\"\n            style=\"width: 100%\"\n            value-format=\"yyyy-MM-dd\"\n          />\n        </el-form-item>\n        <el-form-item label=\"优先级\" prop=\"priority\">\n          <el-select v-model=\"planForm.priority\" placeholder=\"请选择优先级\" style=\"width: 200px\">\n            <el-option label=\"低\" :value=\"0\" />\n            <el-option label=\"中\" :value=\"1\" />\n            <el-option label=\"高\" :value=\"2\" />\n            <el-option label=\"紧急\" :value=\"3\" />\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"备注\" prop=\"remark\">\n          <el-input type=\"textarea\" v-model=\"planForm.remark\" rows=\"3\" />\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"submitPlan\" :loading=\"submitLoading\">确 定</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n// import { getProductionPlanList, updateProductionPlan } from '@/api/productionPlan'\nimport { productionApi } from '@/utils/mockUtils'\nimport { getConstants } from '@/utils/mockUtils'\nimport moment from 'moment'\n\nexport default {\n  name: 'ProductionPlan',\n  data() {\n    return {\n      // 查询参数\n      queryParams: {\n        pageNum: 1,\n        pageSize: 10,\n        orderNo: '',\n        customerName: '',\n        status: '',\n        dateRange: []\n      },\n      // 状态选项\n      statusOptions: getConstants().orderStatus,\n      // 表格数据\n      tableData: [],\n      // 加载状态\n      loading: false,\n      // 总数\n      total: 0,\n      // 编辑对话框\n      editDialog: {\n        visible: false,\n        loading: false,\n        form: {\n          id: null,\n          orderNo: '',\n          customerName: '',\n          productName: '',\n          startTime: '',\n          endTime: '',\n          status: '',\n          remark: ''\n        },\n        rules: {\n          startTime: [\n            { required: true, message: '请选择开始时间', trigger: 'change' }\n          ],\n          endTime: [\n            { required: true, message: '请选择结束时间', trigger: 'change' }\n          ]\n        }\n      },\n      // 筛选表单\n      filterForm: {\n        planNo: '',\n        orderNo: '',\n        status: '',\n        startDate: '',\n        endDate: '',\n        pageNum: 1,\n        pageSize: 10\n      },\n      dateRange: [],\n      // 日历视图设置\n      calendarView: 'month',\n      weekDays: [],\n      // 对话框设置\n      dialogVisible: false,\n      dialogTitle: '创建排产计划',\n      planForm: {\n        id: null,\n        orderId: '',\n        productId: '',\n        planQuantity: 1,\n        dateRange: [],\n        priority: 1,\n        remark: ''\n      },\n      planRules: {\n        orderId: [{ required: true, message: '请选择关联订单', trigger: 'change' }],\n        productId: [{ required: true, message: '请选择生产产品', trigger: 'change' }],\n        planQuantity: [{ required: true, message: '请输入计划数量', trigger: 'blur' }],\n        dateRange: [{ required: true, message: '请选择生产日期', trigger: 'change' }]\n      },\n      submitLoading: false,\n      // 选项数据\n      orderOptions: [\n        { value: 1, label: '上海某科技有限公司', orderNo: 'DD20231001001' },\n        { value: 2, label: '北京某贸易有限公司', orderNo: 'DD20231005002' },\n        { value: 3, label: '广州某电子科技公司', orderNo: 'DD20230925003' }\n      ],\n      productOptions: [\n        { value: 1, label: '智能手机A' },\n        { value: 2, label: '笔记本电脑B' },\n        { value: 3, label: '平板电脑C' },\n        { value: 4, label: '智能手表D' },\n        { value: 5, label: '智能音箱E' }\n      ],\n      calendarPlans: []\n    }\n  },\n  watch: {\n    dateRange(val) {\n      if (val && val.length === 2) {\n        this.filterForm.startDate = val[0]\n        this.filterForm.endDate = val[1]\n      } else {\n        this.filterForm.startDate = ''\n        this.filterForm.endDate = ''\n      }\n    },\n    calendarView() {\n      if (this.calendarView === 'week') {\n        this.generateWeekDays()\n      }\n    }\n  },\n  created() {\n    this.getList()\n    this.generateWeekDays()\n  },\n  methods: {\n    /** 获取生产计划列表 */\n    async getList() {\n      this.loading = true\n      try {\n        const res = await productionApi.list({\n          filters: {\n            orderNo: this.queryParams.orderNo,\n            customerName: this.queryParams.customerName,\n            status: this.queryParams.status,\n            dateRange: this.queryParams.dateRange\n          },\n          pagination: {\n            pageNum: this.queryParams.pageNum,\n            pageSize: this.queryParams.pageSize\n          }\n        })\n        this.tableData = res.records\n        this.total = res.total\n      } catch (error) {\n        console.error('获取生产计划列表失败:', error)\n        this.$message.error('获取生产计划列表失败')\n      } finally {\n        this.loading = false\n      }\n    },\n\n    /** 搜索按钮操作 */\n    handleQuery() {\n      this.queryParams.pageNum = 1\n      this.getList()\n    },\n\n    /** 重置按钮操作 */\n    resetQuery() {\n      this.queryParams = {\n        pageNum: 1,\n        pageSize: 10,\n        orderNo: '',\n        customerName: '',\n        status: '',\n        dateRange: []\n      }\n      this.getList()\n    },\n\n    /** 编辑按钮操作 */\n    handleEdit(row) {\n      this.editDialog.form = {\n        id: row.id,\n        orderNo: row.orderNo,\n        customerName: row.customerName,\n        productName: row.productName,\n        startTime: row.startTime,\n        endTime: row.estimatedEndTime,\n        status: row.status,\n        remark: row.description\n      }\n      this.editDialog.visible = true\n    },\n\n    /** 提交编辑 */\n    async submitEdit() {\n      this.$refs.editForm.validate(async valid => {\n        if (valid) {\n          this.editDialog.loading = true\n          try {\n            await productionApi.updatePlan(this.editDialog.form)\n            this.$message.success('更新成功')\n            this.editDialog.visible = false\n            this.getList()\n          } catch (error) {\n            console.error('更新生产计划失败:', error)\n            this.$message.error('更新生产计划失败')\n          } finally {\n            this.editDialog.loading = false\n          }\n        }\n      })\n    },\n\n    /** 取消编辑 */\n    cancelEdit() {\n      this.editDialog.visible = false\n      this.editDialog.form = {\n        id: null,\n        orderNo: '',\n        customerName: '',\n        productName: '',\n        startTime: '',\n        endTime: '',\n        status: '',\n        remark: ''\n      }\n    },\n\n    /** 每页显示条数改变 */\n    handleSizeChange(val) {\n      this.queryParams.pageSize = val\n      this.getList()\n    },\n\n    /** 当前页改变 */\n    handleCurrentChange(val) {\n      this.queryParams.pageNum = val\n      this.getList()\n    },\n\n    // 格式化日期\n    formatDateTime(date) {\n      return date ? moment(date).format('YYYY-MM-DD HH:mm:ss') : '-'\n    },\n\n    // 格式化状态\n    formatStatus(status) {\n      const statusMap = this.statusOptions.reduce((acc, curr) => {\n        acc[curr.value] = curr.label\n        return acc\n      }, {})\n      return statusMap[status] || '未知'\n    },\n\n    // 获取状态标签类型\n    getStatusType(status) {\n      const typeMap = {\n        0: 'info',\n        1: 'warning',\n        2: 'primary',\n        3: 'success',\n        4: 'success'\n      }\n      return typeMap[status] || 'info'\n    },\n\n    // 生成日历数据\n    generateCalendarData() {\n      this.calendarPlans = this.tableData.filter(item => item.status !== 3).map(item => {\n        const startDate = new Date(item.startDate)\n        const endDate = new Date(item.endDate)\n        const days = []\n        \n        let currentDate = new Date(startDate)\n        while (currentDate <= endDate) {\n          days.push(new Date(currentDate))\n          currentDate.setDate(currentDate.getDate() + 1)\n        }\n        \n        return {\n          id: item.id,\n          planNo: item.planNo,\n          productName: item.productName,\n          planQuantity: item.planQuantity,\n          days: days,\n          status: item.status,\n          startTime: '09:00',\n          endTime: '18:00'\n        }\n      })\n    },\n    // 生成周视图数据\n    generateWeekDays() {\n      const today = new Date()\n      const weekStart = new Date(today)\n      const dayOfWeek = today.getDay() || 7\n      weekStart.setDate(today.getDate() - dayOfWeek + 1)\n      \n      this.weekDays = []\n      for (let i = 0; i < 7; i++) {\n        const date = new Date(weekStart)\n        date.setDate(weekStart.getDate() + i)\n        \n        this.weekDays.push({\n          date: this.formatDate(date, 'MM-dd'),\n          dayName: ['周一', '周二', '周三', '周四', '周五', '周六', '周日'][i],\n          fullDate: this.formatDate(date, 'yyyy-MM-dd'),\n          plans: []\n        })\n      }\n      \n      // 填充周视图计划数据\n      if (this.calendarPlans.length > 0) {\n        this.calendarPlans.forEach(plan => {\n          plan.days.forEach(day => {\n            const dayStr = this.formatDate(day, 'yyyy-MM-dd')\n            const weekDay = this.weekDays.find(d => d.fullDate === dayStr)\n            if (weekDay) {\n              weekDay.plans.push({\n                id: plan.id,\n                productName: plan.productName,\n                planQuantity: plan.planQuantity,\n                status: plan.status,\n                startTime: plan.startTime,\n                endTime: plan.endTime\n              })\n            }\n          })\n        })\n      }\n    },\n    // 获取指定日期的计划\n    getCalendarPlans(date) {\n      const dateStr = this.formatDate(date, 'yyyy-MM-dd')\n      return this.calendarPlans.filter(plan => {\n        return plan.days.some(day => this.formatDate(day, 'yyyy-MM-dd') === dateStr)\n      })\n    },\n    // 格式化日期\n    formatDate(date, format) {\n      const year = date.getFullYear()\n      const month = String(date.getMonth() + 1).padStart(2, '0')\n      const day = String(date.getDate()).padStart(2, '0')\n      \n      if (format === 'yyyy-MM-dd') {\n        return `${year}-${month}-${day}`\n      } else if (format === 'MM-dd') {\n        return `${month}-${day}`\n      }\n      \n      return `${year}-${month}-${day}`\n    },\n    // 计算完成百分比\n    calculateProgress(row) {\n      if (row.planQuantity === 0) return 0\n      return Math.round((row.actualQuantity / row.planQuantity) * 100)\n    },\n    // 百分比格式化\n    percentFormat(percent) {\n      return percent + '%'\n    },\n    // 获取状态名称\n    getStatusName(status) {\n      const nameMap = {\n        0: '待生产',\n        1: '生产中',\n        2: '已完成',\n        3: '已取消'\n      }\n      return nameMap[status] || '未知'\n    },\n    // 查询\n    handleFilter() {\n      this.filterForm.pageNum = 1\n      this.getList()\n    },\n    // 重置筛选条件\n    resetFilter() {\n      this.filterForm = {\n        planNo: '',\n        orderNo: '',\n        status: '',\n        startDate: '',\n        endDate: '',\n        pageNum: 1,\n        pageSize: 10\n      }\n      this.dateRange = []\n      this.getList()\n    },\n    // 查看详情\n    handleDetail(row) {\n      this.$router.push({\n        name: 'ProductionPlanDetail',\n        params: { id: row.id }\n      })\n    },\n    // 开始生产\n    handleStart(row) {\n      this.$confirm('确认开始生产该计划?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        // 模拟请求\n        const index = this.tableData.findIndex(item => item.id === row.id)\n        if (index !== -1) {\n          this.tableData[index].status = 1\n          this.$message.success('已开始生产')\n          \n          // 更新日历数据\n          this.generateCalendarData()\n          if (this.calendarView === 'week') {\n            this.generateWeekDays()\n          }\n        }\n      }).catch(() => {})\n    },\n    // 完成生产\n    handleComplete(row) {\n      this.$confirm('确认完成该生产计划?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        // 模拟请求\n        const index = this.tableData.findIndex(item => item.id === row.id)\n        if (index !== -1) {\n          this.tableData[index].status = 2\n          this.tableData[index].actualQuantity = this.tableData[index].planQuantity\n          this.$message.success('生产计划已完成')\n          \n          // 更新日历数据\n          this.generateCalendarData()\n          if (this.calendarView === 'week') {\n            this.generateWeekDays()\n          }\n        }\n      }).catch(() => {})\n    },\n    // 取消计划\n    handleCancel(row) {\n      this.$confirm('确认取消该生产计划?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        // 模拟请求\n        const index = this.tableData.findIndex(item => item.id === row.id)\n        if (index !== -1) {\n          this.tableData[index].status = 3\n          this.$message.success('生产计划已取消')\n          \n          // 更新日历数据\n          this.generateCalendarData()\n          if (this.calendarView === 'week') {\n            this.generateWeekDays()\n          }\n        }\n      }).catch(() => {})\n    },\n    // 创建排产计划\n    handleCreatePlan() {\n      this.dialogTitle = '创建排产计划'\n      this.planForm = {\n        id: null,\n        orderId: '',\n        productId: '',\n        planQuantity: 1,\n        dateRange: [],\n        priority: 1,\n        remark: ''\n      }\n      this.dialogVisible = true\n      this.$nextTick(() => {\n        this.$refs.planForm && this.$refs.planForm.clearValidate()\n      })\n    },\n    // 提交排产计划\n    submitPlan() {\n      this.$refs.planForm.validate(valid => {\n        if (!valid) return\n        \n        this.submitLoading = true\n        \n        // 模拟提交请求\n        setTimeout(() => {\n          if (this.planForm.id) {\n            // 更新\n            const index = this.tableData.findIndex(item => item.id === this.planForm.id)\n            if (index !== -1) {\n              const orderInfo = this.orderOptions.find(o => o.value === this.planForm.orderId)\n              const productInfo = this.productOptions.find(p => p.value === this.planForm.productId)\n              \n              this.tableData[index] = {\n                ...this.tableData[index],\n                orderNo: orderInfo ? orderInfo.orderNo : '',\n                productName: productInfo ? productInfo.label : '',\n                planQuantity: this.planForm.planQuantity,\n                startDate: this.planForm.dateRange[0],\n                endDate: this.planForm.dateRange[1],\n                priority: this.planForm.priority,\n                remark: this.planForm.remark\n              }\n            }\n            this.$message.success('排产计划更新成功')\n          } else {\n            // 创建\n            const orderInfo = this.orderOptions.find(o => o.value === this.planForm.orderId)\n            const productInfo = this.productOptions.find(p => p.value === this.planForm.productId)\n            \n            const newPlan = {\n              id: Date.now(),\n              planNo: 'PP' + new Date().getTime().toString().substring(3),\n              orderNo: orderInfo ? orderInfo.orderNo : '',\n              productName: productInfo ? productInfo.label : '',\n              planQuantity: this.planForm.planQuantity,\n              actualQuantity: 0,\n              startDate: this.planForm.dateRange[0],\n              endDate: this.planForm.dateRange[1],\n              status: 0,\n              priority: this.planForm.priority,\n              remark: this.planForm.remark\n            }\n            \n            this.tableData.unshift(newPlan)\n            this.total += 1\n            this.$message.success('排产计划创建成功')\n          }\n          \n          this.dialogVisible = false\n          this.submitLoading = false\n          \n          // 更新日历数据\n          this.generateCalendarData()\n          if (this.calendarView === 'week') {\n            this.generateWeekDays()\n          }\n        }, 1000)\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n.filter-container {\n  margin-bottom: 20px;\n}\n.filter-item-container {\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n}\n.filter-item {\n  margin-right: 15px;\n  margin-bottom: 10px;\n  display: flex;\n  align-items: center;\n}\n.filter-item .label {\n  margin-right: 5px;\n}\n.pagination-container {\n  margin-top: 20px;\n  text-align: right;\n}\n.calendar-day {\n  height: 100%;\n  padding: 2px;\n  overflow: hidden;\n}\n.day-number {\n  font-size: 14px;\n  margin-bottom: 5px;\n}\n.calendar-event {\n  font-size: 12px;\n  padding: 2px 4px;\n  margin-bottom: 2px;\n  border-radius: 2px;\n  color: #fff;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.status-0 {\n  background-color: #409EFF;\n}\n.status-1 {\n  background-color: #67C23A;\n}\n.status-2 {\n  background-color: #E6A23C;\n}\n.status-3 {\n  background-color: #F56C6C;\n}\n.week-view {\n  border: 1px solid #EBEEF5;\n  border-radius: 4px;\n}\n.week-header {\n  display: flex;\n  background-color: #f5f7fa;\n  border-bottom: 1px solid #EBEEF5;\n}\n.week-day {\n  flex: 1;\n  text-align: center;\n  padding: 10px;\n  border-right: 1px solid #EBEEF5;\n}\n.week-day:last-child {\n  border-right: none;\n}\n.day-name {\n  font-weight: bold;\n  margin-bottom: 5px;\n}\n.week-body {\n  display: flex;\n  height: 400px;\n}\n.week-day-content {\n  flex: 1;\n  padding: 10px;\n  border-right: 1px solid #EBEEF5;\n  overflow-y: auto;\n}\n.week-day-content:last-child {\n  border-right: none;\n}\n.week-event {\n  padding: 10px;\n  margin-bottom: 10px;\n  border-radius: 4px;\n  color: #fff;\n}\n.event-time {\n  font-size: 12px;\n  margin-bottom: 5px;\n}\n.event-title {\n  font-weight: bold;\n  margin-bottom: 5px;\n}\n.event-quantity {\n  font-size: 12px;\n}\n</style> "]}]}