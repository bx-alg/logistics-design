{"remainingRequest":"/Users/bx/logistics-design/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/bx/logistics-design/frontend/src/views/layout/Layout.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/bx/logistics-design/frontend/src/views/layout/Layout.vue","mtime":1748593966804},{"path":"/Users/bx/logistics-design/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1747185535160},{"path":"/Users/bx/logistics-design/frontend/node_modules/vue-loader/lib/index.js","mtime":1747185534034}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTGF5b3V0JywKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2hvd0RlYnVnOiBmYWxzZSAvLyDlhbPpl63osIPor5Xkv6Hmga8KICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICByb3V0ZXMoKSB7CiAgICAgIHJldHVybiB0aGlzLiRyb3V0ZXIub3B0aW9ucy5yb3V0ZXMuZmlsdGVyKGl0ZW0gPT4gIWl0ZW0uaGlkZGVuKQogICAgfSwKICAgIGFjdGl2ZU1lbnUoKSB7CiAgICAgIGNvbnN0IHJvdXRlID0gdGhpcy4kcm91dGUKICAgICAgcmV0dXJuIChyb3V0ZS5tYXRjaGVkICYmIHJvdXRlLm1hdGNoZWQubGVuZ3RoID4gMSAmJiByb3V0ZS5tYXRjaGVkWzFdLnBhdGgpIHx8IHJvdXRlLnBhdGgKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHJlc29sdmVQYXRoKGJhc2VQYXRoLCByb3V0ZVBhdGgpIHsKICAgICAgLy8g56Gu5L+d6Lev5b6E5qC85byP5q2j56GuCiAgICAgIGlmIChiYXNlUGF0aC5lbmRzV2l0aCgnLycpICYmIHJvdXRlUGF0aC5zdGFydHNXaXRoKCcvJykpIHsKICAgICAgICByZXR1cm4gYmFzZVBhdGggKyByb3V0ZVBhdGguc3Vic3RyaW5nKDEpCiAgICAgIH0gZWxzZSBpZiAoIWJhc2VQYXRoLmVuZHNXaXRoKCcvJykgJiYgIXJvdXRlUGF0aC5zdGFydHNXaXRoKCcvJykpIHsKICAgICAgICByZXR1cm4gYmFzZVBhdGggKyAnLycgKyByb3V0ZVBhdGgKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gYmFzZVBhdGggKyByb3V0ZVBhdGgKICAgICAgfQogICAgfSwKICAgIGdldE1lbnVJY29uKGl0ZW0pIHsKICAgICAgaWYgKGl0ZW0uY2hpbGRyZW4gJiYgaXRlbS5jaGlsZHJlblswXSAmJiBpdGVtLmNoaWxkcmVuWzBdLm1ldGEgJiYgaXRlbS5jaGlsZHJlblswXS5tZXRhLmljb24pIHsKICAgICAgICByZXR1cm4gaXRlbS5jaGlsZHJlblswXS5tZXRhLmljb24KICAgICAgfQogICAgICByZXR1cm4gaXRlbS5tZXRhICYmIGl0ZW0ubWV0YS5pY29uID8gaXRlbS5tZXRhLmljb24gOiAnJwogICAgfSwKICAgIGdldE1lbnVUaXRsZShpdGVtKSB7CiAgICAgIGlmIChpdGVtLmNoaWxkcmVuICYmIGl0ZW0uY2hpbGRyZW5bMF0gJiYgaXRlbS5jaGlsZHJlblswXS5tZXRhICYmIGl0ZW0uY2hpbGRyZW5bMF0ubWV0YS50aXRsZSkgewogICAgICAgIHJldHVybiBpdGVtLmNoaWxkcmVuWzBdLm1ldGEudGl0bGUKICAgICAgfQogICAgICByZXR1cm4gaXRlbS5tZXRhICYmIGl0ZW0ubWV0YS50aXRsZSA/IGl0ZW0ubWV0YS50aXRsZSA6ICcnCiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgY29uc29sZS5sb2coJ0xheW91dCBjcmVhdGVkLCByb3V0ZXM6JywgdGhpcy5yb3V0ZXMpCiAgfSwKICBtb3VudGVkKCkgewogICAgY29uc29sZS5sb2coJ0xheW91dCBtb3VudGVkLCBjdXJyZW50IHJvdXRlOicsIHRoaXMuJHJvdXRlLnBhdGgpCiAgfQp9Cg=="},{"version":3,"sources":["Layout.vue"],"names":[],"mappings":";AAoEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Layout.vue","sourceRoot":"src/views/layout","sourcesContent":["<template>\n  <div class=\"app-wrapper\">\n    <div class=\"sidebar-container\">\n      <div class=\"logo\">\n        <h1>智慧物流平台</h1>\n      </div>\n      <el-menu\n        :default-active=\"activeMenu\"\n        class=\"sidebar-menu\"\n        background-color=\"#304156\"\n        text-color=\"#bfcbd9\"\n        active-text-color=\"#409EFF\"\n        router\n      >\n        <!-- 添加数据总览菜单 -->\n        <el-menu-item index=\"/data-overview\">\n          <i class=\"el-icon-s-data\"></i>\n          <span slot=\"title\">数据总览</span>\n        </el-menu-item>\n        \n        <!-- 其他菜单项 -->\n        <template v-for=\"item in routes.filter(route => route.path !== '/')\">\n          <el-submenu v-if=\"item.children && item.children.length > 1\" :key=\"item.path\" :index=\"item.path\">\n            <template slot=\"title\">\n              <i v-if=\"item.meta && item.meta.icon\" :class=\"item.meta.icon\"></i>\n              <span>{{ item.meta ? item.meta.title : '' }}</span>\n            </template>\n            <el-menu-item \n              v-for=\"child in item.children.filter(c => !c.hidden && !(c.meta && c.meta.hidden))\" \n              :key=\"child.path\" \n              :index=\"resolvePath(item.path, child.path)\"\n            >\n              {{ child.meta ? child.meta.title : '' }}\n            </el-menu-item>\n          </el-submenu>\n          <el-menu-item v-else-if=\"!item.hidden\" :key=\"item.path + '-menu'\" :index=\"item.path\">\n            <i v-if=\"getMenuIcon(item)\" :class=\"getMenuIcon(item)\"></i>\n            <span slot=\"title\">{{ getMenuTitle(item) }}</span>\n          </el-menu-item>\n        </template>\n      </el-menu>\n    </div>\n    <div class=\"main-container\">\n      <div class=\"header\">\n        <div class=\"right-menu\">\n          <el-dropdown trigger=\"click\">\n            <span class=\"user-info\">\n              管理员 <i class=\"el-icon-caret-bottom\"></i>\n            </span>\n            <el-dropdown-menu slot=\"dropdown\">\n              <el-dropdown-item>个人中心</el-dropdown-item>\n              <el-dropdown-item divided>退出登录</el-dropdown-item>\n            </el-dropdown-menu>\n          </el-dropdown>\n        </div>\n      </div>\n      <div class=\"app-main\">\n        <div class=\"debug-info\" v-if=\"showDebug\">\n          <p>当前路由: {{ $route.path }}</p>\n          <p>可用路由: {{ JSON.stringify(routes, null, 2) }}</p>\n        </div>\n        <router-view />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Layout',\n  data() {\n    return {\n      showDebug: false // 关闭调试信息\n    }\n  },\n  computed: {\n    routes() {\n      return this.$router.options.routes.filter(item => !item.hidden)\n    },\n    activeMenu() {\n      const route = this.$route\n      return (route.matched && route.matched.length > 1 && route.matched[1].path) || route.path\n    }\n  },\n  methods: {\n    resolvePath(basePath, routePath) {\n      // 确保路径格式正确\n      if (basePath.endsWith('/') && routePath.startsWith('/')) {\n        return basePath + routePath.substring(1)\n      } else if (!basePath.endsWith('/') && !routePath.startsWith('/')) {\n        return basePath + '/' + routePath\n      } else {\n        return basePath + routePath\n      }\n    },\n    getMenuIcon(item) {\n      if (item.children && item.children[0] && item.children[0].meta && item.children[0].meta.icon) {\n        return item.children[0].meta.icon\n      }\n      return item.meta && item.meta.icon ? item.meta.icon : ''\n    },\n    getMenuTitle(item) {\n      if (item.children && item.children[0] && item.children[0].meta && item.children[0].meta.title) {\n        return item.children[0].meta.title\n      }\n      return item.meta && item.meta.title ? item.meta.title : ''\n    }\n  },\n  created() {\n    console.log('Layout created, routes:', this.routes)\n  },\n  mounted() {\n    console.log('Layout mounted, current route:', this.$route.path)\n  }\n}\n</script>\n\n<style scoped>\n.app-wrapper {\n  position: relative;\n  height: 100vh;\n  width: 100%;\n  display: flex;\n  overflow: hidden;\n}\n\n.sidebar-container {\n  width: 220px;\n  height: 100vh;\n  background: #304156;\n  position: fixed;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  overflow-y: auto;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);\n}\n\n.logo {\n  height: 60px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: #2b3b4e;\n}\n\n.logo h1 {\n  color: #fff;\n  margin: 0;\n  font-size: 18px;\n  font-weight: 700;\n  letter-spacing: 1px;\n}\n\n.sidebar-menu {\n  border-right: none;\n  height: calc(100% - 60px);\n}\n\n.main-container {\n  flex: 1;\n  margin-left: 220px;\n  display: flex;\n  flex-direction: column;\n  min-height: 100vh;\n  position: relative;\n  background-color: #f5f7fa;\n  z-index: 1;\n}\n\n.header {\n  height: 60px;\n  background: #fff;\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.07);\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  padding: 0 20px;\n  position: fixed;\n  top: 0;\n  right: 0;\n  left: 220px;\n  z-index: 1000;\n}\n\n.user-info {\n  cursor: pointer;\n  color: #303133;\n  font-size: 14px;\n  display: flex;\n  align-items: center;\n}\n\n.user-info i {\n  margin-left: 5px;\n  font-size: 12px;\n}\n\n.app-main {\n  flex: 1;\n  padding: 20px;\n  margin-top: 60px;\n  overflow-y: auto;\n  box-sizing: border-box;\n}\n\n.debug-info {\n  margin-bottom: 20px;\n  padding: 10px;\n  background: #f0f9eb;\n  border: 1px solid #e1f3d8;\n  border-radius: 4px;\n}\n</style>"]}]}