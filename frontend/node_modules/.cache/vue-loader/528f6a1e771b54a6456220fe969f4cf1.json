{"remainingRequest":"/Users/bx/logistics-design/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/bx/logistics-design/frontend/src/views/production/productionPlanDetail.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/bx/logistics-design/frontend/src/views/production/productionPlanDetail.vue","mtime":1747197580347},{"path":"/Users/bx/logistics-design/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1747185535160},{"path":"/Users/bx/logistics-design/frontend/node_modules/vue-loader/lib/index.js","mtime":1747185534034}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnUHJvZHVjdGlvblBsYW5EZXRhaWwnLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwbGFuSWQ6IG51bGwsCiAgICAgIHBsYW5EZXRhaWw6IHsKICAgICAgICBpZDogbnVsbCwKICAgICAgICBwbGFuTm86ICcnLAogICAgICAgIG9yZGVyTm86ICcnLAogICAgICAgIHByb2R1Y3ROYW1lOiAnJywKICAgICAgICBwbGFuUXVhbnRpdHk6IDAsCiAgICAgICAgYWN0dWFsUXVhbnRpdHk6IDAsCiAgICAgICAgc3RhcnREYXRlOiAnJywKICAgICAgICBlbmREYXRlOiAnJywKICAgICAgICBzdGF0dXM6IDAsCiAgICAgICAgcHJpb3JpdHk6IDEsCiAgICAgICAgcmVtYXJrOiAnJywKICAgICAgICBjcmVhdGVUaW1lOiAnMjAyMy0xMC0wMSAwOTowMDowMCcsCiAgICAgICAgc3RhcnRUaW1lOiAnMjAyMy0xMC0wNSAxMDowMDowMCcsCiAgICAgICAgY29tcGxldGVUaW1lOiAnJywKICAgICAgICBzdG9yYWdlVGltZTogJycKICAgICAgfSwKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIHByb2dyZXNzRm9ybTogewogICAgICAgIGN1cnJlbnRQcm9ncmVzczogMCwKICAgICAgICBuZXdQcm9ncmVzczogMCwKICAgICAgICBhY3R1YWxRdWFudGl0eTogMCwKICAgICAgICByZW1hcms6ICcnCiAgICAgIH0sCiAgICAgIHByb2dyZXNzUnVsZXM6IHsKICAgICAgICBuZXdQcm9ncmVzczogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+iuvue9ruaWsOeahOi/m+W6puWAvCcsIHRyaWdnZXI6ICdjaGFuZ2UnIH0KICAgICAgICBdLAogICAgICAgIGFjdHVhbFF1YW50aXR5OiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl5a6e6ZmF55Sf5Lqn5pWw6YePJywgdHJpZ2dlcjogJ2JsdXInIH0KICAgICAgICBdCiAgICAgIH0sCiAgICAgIHN1Ym1pdExvYWRpbmc6IGZhbHNlLAogICAgICBtYXRlcmlhbHNMaXN0OiBbCiAgICAgICAgeyBuYW1lOiAn6ZOd5ZCI6YeRJywgc3BlY2lmaWNhdGlvbjogJ0FMNjA2MScsIHVuaXQ6ICdrZycsIHBsYW5RdWFudGl0eTogMTAwLCBhY3R1YWxRdWFudGl0eTogOTcuNSwgd2FyZWhvdXNlTmFtZTogJ+WOn+aWmeS7ky1B5Yy6JyB9LAogICAgICAgIHsgbmFtZTogJ+mSouWMlueOu+eSgycsIHNwZWNpZmljYXRpb246ICcwLjVtbScsIHVuaXQ6ICflvKAnLCBwbGFuUXVhbnRpdHk6IDU1MCwgYWN0dWFsUXVhbnRpdHk6IDU1MCwgd2FyZWhvdXNlTmFtZTogJ+WOn+aWmeS7ky1C5Yy6JyB9LAogICAgICAgIHsgbmFtZTogJ+S4u+advycsIHNwZWNpZmljYXRpb246ICdYMi0xMDIwJywgdW5pdDogJ+WdlycsIHBsYW5RdWFudGl0eTogNTAwLCBhY3R1YWxRdWFudGl0eTogNTAwLCB3YXJlaG91c2VOYW1lOiAn55S15a2Q5YWD5Lu25LuTJyB9LAogICAgICAgIHsgbmFtZTogJ+eUteaxoCcsIHNwZWNpZmljYXRpb246ICc0MDAwbUFoJywgdW5pdDogJ+S4qicsIHBsYW5RdWFudGl0eTogNTIwLCBhY3R1YWxRdWFudGl0eTogNTEwLCB3YXJlaG91c2VOYW1lOiAn55S15a2Q5YWD5Lu25LuTJyB9LAogICAgICAgIHsgbmFtZTogJ+WMheijheadkOaWmScsIHNwZWNpZmljYXRpb246ICfmoIflh4YnLCB1bml0OiAn5aWXJywgcGxhblF1YW50aXR5OiA1MzAsIGFjdHVhbFF1YW50aXR5OiA1MDAsIHdhcmVob3VzZU5hbWU6ICfljIXmnZDku5MnIH0KICAgICAgXSwKICAgICAgcHJvY2Vzc0xpc3Q6IFsKICAgICAgICB7IHNlcU5vOiAxLCBwcm9jZXNzTmFtZTogJ+WOn+adkOaWmeWHhuWkhycsIGRlc2NyaXB0aW9uOiAn5YeG5aSH55Sf5Lqn5omA6ZyA55qE5omA5pyJ5Y6f5p2Q5paZ5ZKM6Zu26YOo5Lu2JywgZXF1aXBtZW50TmFtZTogJy0nLCBwbGFuVGltZTogJzLlsI/ml7YnLCBhY3R1YWxUaW1lOiAnMS415bCP5pe2Jywgc3RhdHVzOiAyIH0sCiAgICAgICAgeyBzZXFObzogMiwgcHJvY2Vzc05hbWU6ICfnu4Too4XkuLvmnb8nLCBkZXNjcmlwdGlvbjogJ+e7hOijheS4u+adv+WSjOeUteWtkOWFg+S7ticsIGVxdWlwbWVudE5hbWU6ICfoh6rliqjotLTniYfmnLpBJywgcGxhblRpbWU6ICc05bCP5pe2JywgYWN0dWFsVGltZTogJzTlsI/ml7YnLCBzdGF0dXM6IDIgfSwKICAgICAgICB7IHNlcU5vOiAzLCBwcm9jZXNzTmFtZTogJ+Wxj+W5lee7hOijhScsIGRlc2NyaXB0aW9uOiAn5bGP5bmV5ZKM6Kem5o6n6Z2i5p2/57uE6KOFJywgZXF1aXBtZW50TmFtZTogJ+eyvuWvhue7hOijheWPsEInLCBwbGFuVGltZTogJzPlsI/ml7YnLCBhY3R1YWxUaW1lOiAnMy415bCP5pe2Jywgc3RhdHVzOiAyIH0sCiAgICAgICAgeyBzZXFObzogNCwgcHJvY2Vzc05hbWU6ICfmlbTmnLrnu4Too4UnLCBkZXNjcmlwdGlvbjogJ+WwhuaJgOaciee7hOS7tue7hOijheaIkOWujOaVtOS6p+WTgScsIGVxdWlwbWVudE5hbWU6ICfoo4XphY3mtYHmsLTnur9DJywgcGxhblRpbWU6ICc15bCP5pe2JywgYWN0dWFsVGltZTogJzQuOOWwj+aXticsIHN0YXR1czogMiB9LAogICAgICAgIHsgc2VxTm86IDUsIHByb2Nlc3NOYW1lOiAn6LSo6YeP5qOA5rWLJywgZGVzY3JpcHRpb246ICflr7nkuqflk4Hov5vooYzlhajpnaLotKjph4/mo4DmtYsnLCBlcXVpcG1lbnROYW1lOiAn6Ieq5Yqo5qOA5rWL6K6+5aSHRCcsIHBsYW5UaW1lOiAnMuWwj+aXticsIGFjdHVhbFRpbWU6ICcy5bCP5pe2Jywgc3RhdHVzOiAxIH0sCiAgICAgICAgeyBzZXFObzogNiwgcHJvY2Vzc05hbWU6ICfljIXoo4UnLCBkZXNjcmlwdGlvbjogJ+S6p+WTgeWMheijheWSjOi0tOaghycsIGVxdWlwbWVudE5hbWU6ICfljIXoo4XmtYHmsLTnur9FJywgcGxhblRpbWU6ICcxLjXlsI/ml7YnLCBhY3R1YWxUaW1lOiAnLScsIHN0YXR1czogMCB9CiAgICAgIF0sCiAgICAgIHByb2dyZXNzUmVjb3JkczogWwogICAgICAgIHsgdXBkYXRlVGltZTogJzIwMjMtMTAtMDUgMTA6MDA6MDAnLCBwcm9ncmVzczogMCwgb3BlcmF0b3I6ICflvKDlt6UnLCByZW1hcms6ICflvIDlp4vnlJ/kuqcnIH0sCiAgICAgICAgeyB1cGRhdGVUaW1lOiAnMjAyMy0xMC0wNSAxNjozMDowMCcsIHByb2dyZXNzOiAxNSwgb3BlcmF0b3I6ICflvKDlt6UnLCByZW1hcms6ICflrozmiJDljp/mnZDmlpnlh4blpIflkozpg6jliIbnu4Too4UnIH0sCiAgICAgICAgeyB1cGRhdGVUaW1lOiAnMjAyMy0xMC0wNiAxMToyMDowMCcsIHByb2dyZXNzOiAzMCwgb3BlcmF0b3I6ICfmnY7lt6UnLCByZW1hcms6ICflrozmiJDkuLvmnb/nu4Too4UnIH0sCiAgICAgICAgeyB1cGRhdGVUaW1lOiAnMjAyMy0xMC0wNyAwOTo0NTowMCcsIHByb2dyZXNzOiA1MCwgb3BlcmF0b3I6ICfnjovlt6UnLCByZW1hcms6ICflrozmiJDlsY/luZXnu4Too4UnIH0sCiAgICAgICAgeyB1cGRhdGVUaW1lOiAnMjAyMy0xMC0wOCAxNDozMDowMCcsIHByb2dyZXNzOiA3MCwgb3BlcmF0b3I6ICflvKDlt6UnLCByZW1hcms6ICflrozmiJDmlbTmnLrnu4Too4XvvIzlvIDlp4votKjph4/mo4DmtYsnIH0KICAgICAgXQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGNhbGN1bGF0ZVByb2dyZXNzKCkgewogICAgICBpZiAoIXRoaXMucGxhbkRldGFpbC5wbGFuUXVhbnRpdHkpIHJldHVybiAwCiAgICAgIHJldHVybiBNYXRoLnJvdW5kKCh0aGlzLnBsYW5EZXRhaWwuYWN0dWFsUXVhbnRpdHkgLyB0aGlzLnBsYW5EZXRhaWwucGxhblF1YW50aXR5KSAqIDEwMCkKICAgIH0sCiAgICBnZXRQcm9ncmVzc1N0YXR1cygpIHsKICAgICAgaWYgKHRoaXMuY2FsY3VsYXRlUHJvZ3Jlc3MgPT09IDEwMCkgewogICAgICAgIHJldHVybiAnc3VjY2VzcycKICAgICAgfSBlbHNlIGlmICh0aGlzLmNhbGN1bGF0ZVByb2dyZXNzID49IDgwKSB7CiAgICAgICAgcmV0dXJuICd3YXJuaW5nJwogICAgICB9CiAgICAgIHJldHVybiAnJwogICAgfSwKICAgIGFjdGl2ZVN0ZXAoKSB7CiAgICAgIGlmICh0aGlzLnBsYW5EZXRhaWwuc3RhdHVzID09PSAwKSByZXR1cm4gMQogICAgICBpZiAodGhpcy5wbGFuRGV0YWlsLnN0YXR1cyA9PT0gMSkgewogICAgICAgIHJldHVybiB0aGlzLmNhbGN1bGF0ZVByb2dyZXNzIDwgNTAgPyAyIDogMwogICAgICB9CiAgICAgIGlmICh0aGlzLnBsYW5EZXRhaWwuc3RhdHVzID09PSAyKSByZXR1cm4gNAogICAgICBpZiAodGhpcy5wbGFuRGV0YWlsLnN0b3JhZ2VUaW1lKSByZXR1cm4gNQogICAgICByZXR1cm4gMQogICAgfSwKICAgIGdldFByb2dyZXNzU3RlcERlc2MoKSB7CiAgICAgIGlmICh0aGlzLnBsYW5EZXRhaWwuc3RhdHVzID09PSAxKSB7CiAgICAgICAgcmV0dXJuIGDov5vluqY6ICR7dGhpcy5jYWxjdWxhdGVQcm9ncmVzc30lYAogICAgICB9CiAgICAgIHJldHVybiAnLScKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICBjb25zdCBpZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5pZAogICAgaWYgKGlkICYmICFpc05hTihwYXJzZUludChpZCkpKSB7CiAgICAgIHRoaXMucGxhbklkID0gcGFyc2VJbnQoaWQpCiAgICAgIHRoaXMuZ2V0UGxhbkRldGFpbCgpCiAgICB9IGVsc2UgewogICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfml6DmlYjnmoTorqHliJJJRCcpCiAgICAgIHRoaXMuZ29CYWNrKCkKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGdldFBsYW5EZXRhaWwoKSB7CiAgICAgIC8vIOaooeaLn+ivt+axguWQjuerr0FQSeiOt+WPluiuoeWIkuivpuaDhQogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAvLyDmqKHmi5/mlbDmja4KICAgICAgICB0aGlzLnBsYW5EZXRhaWwgPSB7CiAgICAgICAgICBpZDogdGhpcy5wbGFuSWQsCiAgICAgICAgICBwbGFuTm86ICdQUDIwMjMxMDAxMDAxJywKICAgICAgICAgIG9yZGVyTm86ICdERDIwMjMxMDAxMDAxJywKICAgICAgICAgIHByb2R1Y3ROYW1lOiAn5pm66IO95omL5py6QScsCiAgICAgICAgICBwbGFuUXVhbnRpdHk6IDUwMCwKICAgICAgICAgIGFjdHVhbFF1YW50aXR5OiAzNTAsCiAgICAgICAgICBzdGFydERhdGU6ICcyMDIzLTEwLTA1JywKICAgICAgICAgIGVuZERhdGU6ICcyMDIzLTEwLTE1JywKICAgICAgICAgIHN0YXR1czogMSwKICAgICAgICAgIHByaW9yaXR5OiAyLAogICAgICAgICAgcmVtYXJrOiAn6auY5LyY5YWI57qn6K6i5Y2V77yM6ZyA5LyY5YWI5a6J5o6S55Sf5LqnJywKICAgICAgICAgIGNyZWF0ZVRpbWU6ICcyMDIzLTEwLTAxIDA5OjAwOjAwJywKICAgICAgICAgIHN0YXJ0VGltZTogJzIwMjMtMTAtMDUgMTA6MDA6MDAnLAogICAgICAgICAgY29tcGxldGVUaW1lOiAnJywKICAgICAgICAgIHN0b3JhZ2VUaW1lOiAnJwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyDliJ3lp4vljJbov5vluqbooajljZUKICAgICAgICB0aGlzLnByb2dyZXNzRm9ybS5jdXJyZW50UHJvZ3Jlc3MgPSB0aGlzLmNhbGN1bGF0ZVByb2dyZXNzCiAgICAgICAgdGhpcy5wcm9ncmVzc0Zvcm0ubmV3UHJvZ3Jlc3MgPSB0aGlzLmNhbGN1bGF0ZVByb2dyZXNzCiAgICAgICAgdGhpcy5wcm9ncmVzc0Zvcm0uYWN0dWFsUXVhbnRpdHkgPSB0aGlzLnBsYW5EZXRhaWwuYWN0dWFsUXVhbnRpdHkKICAgICAgfSwgNTAwKQogICAgfSwKICAgIGdvQmFjaygpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAnUHJvZHVjdGlvblBsYW4nIH0pCiAgICB9LAogICAgdmlld09yZGVyRGV0YWlsKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IAogICAgICAgIG5hbWU6ICdPcmRlckRldGFpbCcsIAogICAgICAgIHBhcmFtczogeyBpZDogMSB9ICAvLyDov5nph4zlupTor6XmoLnmja5vcmRlck5v5p+l6K+i5Yiw5a+55bqU55qEb3JkZXJJZAogICAgICB9KQogICAgfSwKICAgIC8vIOiOt+WPlueKtuaAgeexu+WeiwogICAgZ2V0U3RhdHVzVHlwZShzdGF0dXMpIHsKICAgICAgY29uc3QgdHlwZU1hcCA9IHsKICAgICAgICAwOiAncHJpbWFyeScsCiAgICAgICAgMTogJ3N1Y2Nlc3MnLAogICAgICAgIDI6ICd3YXJuaW5nJywKICAgICAgICAzOiAnZGFuZ2VyJwogICAgICB9CiAgICAgIHJldHVybiB0eXBlTWFwW3N0YXR1c10gfHwgJ2luZm8nCiAgICB9LAogICAgLy8g6I635Y+W54q25oCB5ZCN56ewCiAgICBnZXRTdGF0dXNOYW1lKHN0YXR1cykgewogICAgICBjb25zdCBuYW1lTWFwID0gewogICAgICAgIDA6ICflvoXnlJ/kuqcnLAogICAgICAgIDE6ICfnlJ/kuqfkuK0nLAogICAgICAgIDI6ICflt7LlrozmiJAnLAogICAgICAgIDM6ICflt7Llj5bmtognCiAgICAgIH0KICAgICAgcmV0dXJuIG5hbWVNYXBbc3RhdHVzXSB8fCAn5pyq55+lJwogICAgfSwKICAgIC8vIOiOt+WPluS8mOWFiOe6p+exu+WeiwogICAgZ2V0UHJpb3JpdHlUeXBlKHByaW9yaXR5KSB7CiAgICAgIGNvbnN0IHR5cGVNYXAgPSB7CiAgICAgICAgMDogJ2luZm8nLAogICAgICAgIDE6ICcnLAogICAgICAgIDI6ICd3YXJuaW5nJywKICAgICAgICAzOiAnZGFuZ2VyJwogICAgICB9CiAgICAgIHJldHVybiB0eXBlTWFwW3ByaW9yaXR5XSB8fCAnJwogICAgfSwKICAgIC8vIOiOt+WPluS8mOWFiOe6p+WQjeensAogICAgZ2V0UHJpb3JpdHlOYW1lKHByaW9yaXR5KSB7CiAgICAgIGNvbnN0IG5hbWVNYXAgPSB7CiAgICAgICAgMDogJ+S9jicsCiAgICAgICAgMTogJ+S4rScsCiAgICAgICAgMjogJ+mrmCcsCiAgICAgICAgMzogJ+e0p+aApScKICAgICAgfQogICAgICByZXR1cm4gbmFtZU1hcFtwcmlvcml0eV0gfHwgJ+acquefpScKICAgIH0sCiAgICAvLyDojrflj5blt6Xluo/nirbmgIHnsbvlnosKICAgIGdldFByb2Nlc3NTdGF0dXNUeXBlKHN0YXR1cykgewogICAgICBjb25zdCB0eXBlTWFwID0gewogICAgICAgIDA6ICdpbmZvJywKICAgICAgICAxOiAncHJpbWFyeScsCiAgICAgICAgMjogJ3N1Y2Nlc3MnCiAgICAgIH0KICAgICAgcmV0dXJuIHR5cGVNYXBbc3RhdHVzXSB8fCAnaW5mbycKICAgIH0sCiAgICAvLyDojrflj5blt6Xluo/nirbmgIHlkI3np7AKICAgIGdldFByb2Nlc3NTdGF0dXNOYW1lKHN0YXR1cykgewogICAgICBjb25zdCBuYW1lTWFwID0gewogICAgICAgIDA6ICflvoXlvIDlp4snLAogICAgICAgIDE6ICfov5vooYzkuK0nLAogICAgICAgIDI6ICflt7LlrozmiJAnCiAgICAgIH0KICAgICAgcmV0dXJuIG5hbWVNYXBbc3RhdHVzXSB8fCAn5pyq55+lJwogICAgfSwKICAgIC8vIOW8gOWni+eUn+S6pwogICAgaGFuZGxlU3RhcnQoKSB7CiAgICAgIHRoaXMuJGNvbmZpcm0oJ+ehruiupOW8gOWni+eUn+S6p+ivpeiuoeWIkj8nLCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgLy8g5qih5ouf6K+35rGCCiAgICAgICAgdGhpcy5wbGFuRGV0YWlsLnN0YXR1cyA9IDEKICAgICAgICB0aGlzLnBsYW5EZXRhaWwuc3RhcnRUaW1lID0gbmV3IERhdGUoKS50b0xvY2FsZVN0cmluZygpCiAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCflt7LlvIDlp4vnlJ/kuqcnKQogICAgICB9KS5jYXRjaCgoKSA9PiB7fSkKICAgIH0sCiAgICAvLyDlrozmiJDnlJ/kuqcKICAgIGhhbmRsZUNvbXBsZXRlKCkgewogICAgICB0aGlzLiRjb25maXJtKCfnoa7orqTlrozmiJDor6XnlJ/kuqforqHliJI/JywgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgIC8vIOaooeaLn+ivt+axggogICAgICAgIHRoaXMucGxhbkRldGFpbC5zdGF0dXMgPSAyCiAgICAgICAgdGhpcy5wbGFuRGV0YWlsLmFjdHVhbFF1YW50aXR5ID0gdGhpcy5wbGFuRGV0YWlsLnBsYW5RdWFudGl0eQogICAgICAgIHRoaXMucGxhbkRldGFpbC5jb21wbGV0ZVRpbWUgPSBuZXcgRGF0ZSgpLnRvTG9jYWxlU3RyaW5nKCkKICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+eUn+S6p+iuoeWIkuW3suWujOaIkCcpCiAgICAgIH0pLmNhdGNoKCgpID0+IHt9KQogICAgfSwKICAgIC8vIOe8lui+keiuoeWIkgogICAgaGFuZGxlRWRpdCgpIHsKICAgICAgdGhpcy4kbWVzc2FnZS5pbmZvKCfnvJbovpHlip/og73lvoXlrp7njrAnKQogICAgfSwKICAgIC8vIOWPlua2iOiuoeWIkgogICAgaGFuZGxlQ2FuY2VsKCkgewogICAgICB0aGlzLiRjb25maXJtKCfnoa7orqTlj5bmtojor6XnlJ/kuqforqHliJI/JywgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgIC8vIOaooeaLn+ivt+axggogICAgICAgIHRoaXMucGxhbkRldGFpbC5zdGF0dXMgPSAzCiAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfnlJ/kuqforqHliJLlt7Llj5bmtognKQogICAgICB9KS5jYXRjaCgoKSA9PiB7fSkKICAgIH0sCiAgICAvLyDmj5DkuqTov5vluqbmm7TmlrAKICAgIHN1Ym1pdFByb2dyZXNzKCkgewogICAgICB0aGlzLiRyZWZzLnByb2dyZXNzRm9ybS52YWxpZGF0ZSh2YWxpZCA9PiB7CiAgICAgICAgaWYgKCF2YWxpZCkgcmV0dXJuCiAgICAgICAgCiAgICAgICAgdGhpcy5zdWJtaXRMb2FkaW5nID0gdHJ1ZQogICAgICAgIAogICAgICAgIC8vIOaooeaLn+aPkOS6pOivt+axggogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgLy8g5pu05paw6K6h5YiS6K+m5oOFCiAgICAgICAgICB0aGlzLnBsYW5EZXRhaWwuYWN0dWFsUXVhbnRpdHkgPSB0aGlzLnByb2dyZXNzRm9ybS5hY3R1YWxRdWFudGl0eQogICAgICAgICAgCiAgICAgICAgICAvLyDmt7vliqDov5vluqborrDlvZUKICAgICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9Mb2NhbGVTdHJpbmcoKQogICAgICAgICAgdGhpcy5wcm9ncmVzc1JlY29yZHMudW5zaGlmdCh7CiAgICAgICAgICAgIHVwZGF0ZVRpbWU6IG5vdywKICAgICAgICAgICAgcHJvZ3Jlc3M6IHRoaXMucHJvZ3Jlc3NGb3JtLm5ld1Byb2dyZXNzLAogICAgICAgICAgICBvcGVyYXRvcjogJ+W9k+WJjeeUqOaItycsCiAgICAgICAgICAgIHJlbWFyazogdGhpcy5wcm9ncmVzc0Zvcm0ucmVtYXJrIHx8ICfluLjop4Tov5vluqbmm7TmlrAnCiAgICAgICAgICB9KQogICAgICAgICAgCiAgICAgICAgICAvLyDlpoLmnpzov5vluqbovr7liLAxMDAl77yM6Ieq5Yqo5a6M5oiQCiAgICAgICAgICBpZiAodGhpcy5wcm9ncmVzc0Zvcm0ubmV3UHJvZ3Jlc3MgPT09IDEwMCkgewogICAgICAgICAgICB0aGlzLnBsYW5EZXRhaWwuc3RhdHVzID0gMgogICAgICAgICAgICB0aGlzLnBsYW5EZXRhaWwuY29tcGxldGVUaW1lID0gbm93CiAgICAgICAgICB9CiAgICAgICAgICAKICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn6L+b5bqm5pu05paw5oiQ5YqfJykKICAgICAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgICB0aGlzLnN1Ym1pdExvYWRpbmcgPSBmYWxzZQogICAgICAgIH0sIDEwMDApCiAgICAgIH0pCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["productionPlanDetail.vue"],"names":[],"mappings":";AA+MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"productionPlanDetail.vue","sourceRoot":"src/views/production","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <div class=\"page-header\">\n      <div class=\"header-title\">\n        <el-page-header @back=\"goBack\" :content=\"'计划详情: ' + planDetail.planNo\" />\n      </div>\n      <div class=\"header-actions\">\n        <el-button v-if=\"planDetail.status === 0\" type=\"primary\" size=\"small\" @click=\"handleStart\">开始生产</el-button>\n        <el-button v-if=\"planDetail.status === 1\" type=\"success\" size=\"small\" @click=\"handleComplete\">完成生产</el-button>\n        <el-button v-if=\"planDetail.status === 0\" type=\"warning\" size=\"small\" @click=\"handleEdit\">编辑计划</el-button>\n        <el-button v-if=\"planDetail.status === 0\" type=\"danger\" size=\"small\" @click=\"handleCancel\">取消计划</el-button>\n      </div>\n    </div>\n\n    <el-card class=\"plan-info-card\">\n      <div slot=\"header\" class=\"clearfix\">\n        <span>基本信息</span>\n        <span style=\"float: right\" class=\"status-tag\">\n          <el-tag :type=\"getStatusType(planDetail.status)\">{{ getStatusName(planDetail.status) }}</el-tag>\n        </span>\n      </div>\n      <el-row :gutter=\"20\">\n        <el-col :span=\"8\">\n          <div class=\"info-item\">\n            <div class=\"info-label\">计划编号</div>\n            <div class=\"info-value\">{{ planDetail.planNo }}</div>\n          </div>\n        </el-col>\n        <el-col :span=\"8\">\n          <div class=\"info-item\">\n            <div class=\"info-label\">关联订单</div>\n            <div class=\"info-value\">\n              <el-link type=\"primary\" :underline=\"false\" @click=\"viewOrderDetail\">{{ planDetail.orderNo }}</el-link>\n            </div>\n          </div>\n        </el-col>\n        <el-col :span=\"8\">\n          <div class=\"info-item\">\n            <div class=\"info-label\">产品名称</div>\n            <div class=\"info-value\">{{ planDetail.productName }}</div>\n          </div>\n        </el-col>\n        <el-col :span=\"8\">\n          <div class=\"info-item\">\n            <div class=\"info-label\">计划数量</div>\n            <div class=\"info-value\">{{ planDetail.planQuantity }}</div>\n          </div>\n        </el-col>\n        <el-col :span=\"8\">\n          <div class=\"info-item\">\n            <div class=\"info-label\">实际数量</div>\n            <div class=\"info-value\">{{ planDetail.actualQuantity }}</div>\n          </div>\n        </el-col>\n        <el-col :span=\"8\">\n          <div class=\"info-item\">\n            <div class=\"info-label\">完成率</div>\n            <div class=\"info-value\">\n              <el-progress :percentage=\"calculateProgress\" :status=\"getProgressStatus\"></el-progress>\n            </div>\n          </div>\n        </el-col>\n        <el-col :span=\"8\">\n          <div class=\"info-item\">\n            <div class=\"info-label\">开始日期</div>\n            <div class=\"info-value\">{{ planDetail.startDate }}</div>\n          </div>\n        </el-col>\n        <el-col :span=\"8\">\n          <div class=\"info-item\">\n            <div class=\"info-label\">结束日期</div>\n            <div class=\"info-value\">{{ planDetail.endDate }}</div>\n          </div>\n        </el-col>\n        <el-col :span=\"8\">\n          <div class=\"info-item\">\n            <div class=\"info-label\">优先级</div>\n            <div class=\"info-value\">\n              <el-tag size=\"medium\" :type=\"getPriorityType(planDetail.priority)\">{{ getPriorityName(planDetail.priority) }}</el-tag>\n            </div>\n          </div>\n        </el-col>\n        <el-col :span=\"24\">\n          <div class=\"info-item\">\n            <div class=\"info-label\">计划备注</div>\n            <div class=\"info-value\">{{ planDetail.remark || '无' }}</div>\n          </div>\n        </el-col>\n      </el-row>\n    </el-card>\n\n    <el-card style=\"margin-top: 20px;\">\n      <div slot=\"header\" class=\"clearfix\">\n        <span>生产进度跟踪</span>\n        <el-button \n          v-if=\"planDetail.status === 1\" \n          style=\"float: right; padding: 3px 0\" \n          type=\"text\"\n          @click=\"dialogVisible = true\"\n        >\n          更新进度\n        </el-button>\n      </div>\n      <div class=\"progress-timeline\">\n        <el-steps :active=\"activeStep\" finish-status=\"success\" align-center>\n          <el-step title=\"计划制定\" :description=\"planDetail.createTime || '-'\" />\n          <el-step title=\"开始生产\" :description=\"planDetail.startTime || '-'\" />\n          <el-step title=\"生产中\" :description=\"getProgressStepDesc\" />\n          <el-step title=\"生产完成\" :description=\"planDetail.completeTime || '-'\" />\n          <el-step title=\"产品入库\" :description=\"planDetail.storageTime || '-'\" />\n        </el-steps>\n      </div>\n\n      <div v-if=\"progressRecords.length > 0\" style=\"margin-top: 30px;\">\n        <div class=\"section-title\">进度更新记录</div>\n        <el-timeline>\n          <el-timeline-item\n            v-for=\"(record, index) in progressRecords\"\n            :key=\"index\"\n            :timestamp=\"record.updateTime\"\n            :type=\"index === 0 ? 'primary' : ''\"\n          >\n            <p>更新进度至 <strong>{{ record.progress }}%</strong></p>\n            <p v-if=\"record.operator\">操作人：{{ record.operator }}</p>\n            <p v-if=\"record.remark\">说明：{{ record.remark }}</p>\n          </el-timeline-item>\n        </el-timeline>\n      </div>\n    </el-card>\n\n    <el-card style=\"margin-top: 20px;\">\n      <div slot=\"header\" class=\"clearfix\">\n        <span>原材料消耗</span>\n      </div>\n      <el-table\n        :data=\"materialsList\"\n        border\n        style=\"width: 100%\"\n      >\n        <el-table-column prop=\"name\" label=\"材料名称\" />\n        <el-table-column prop=\"specification\" label=\"规格\" />\n        <el-table-column prop=\"unit\" label=\"单位\" width=\"100\" />\n        <el-table-column prop=\"planQuantity\" label=\"计划用量\" width=\"120\" />\n        <el-table-column prop=\"actualQuantity\" label=\"实际用量\" width=\"120\" />\n        <el-table-column prop=\"warehouseName\" label=\"出库仓库\" width=\"150\" />\n      </el-table>\n    </el-card>\n\n    <el-card style=\"margin-top: 20px;\">\n      <div slot=\"header\" class=\"clearfix\">\n        <span>生产工序</span>\n      </div>\n      <el-table\n        :data=\"processList\"\n        border\n        style=\"width: 100%\"\n      >\n        <el-table-column prop=\"seqNo\" label=\"序号\" width=\"80\" />\n        <el-table-column prop=\"processName\" label=\"工序名称\" />\n        <el-table-column prop=\"description\" label=\"工序描述\" show-overflow-tooltip />\n        <el-table-column prop=\"equipmentName\" label=\"设备名称\" width=\"150\" />\n        <el-table-column prop=\"planTime\" label=\"计划时长\" width=\"100\" />\n        <el-table-column prop=\"actualTime\" label=\"实际时长\" width=\"100\" />\n        <el-table-column label=\"状态\" width=\"120\">\n          <template slot-scope=\"scope\">\n            <el-tag :type=\"getProcessStatusType(scope.row.status)\">{{ getProcessStatusName(scope.row.status) }}</el-tag>\n          </template>\n        </el-table-column>\n      </el-table>\n    </el-card>\n\n    <!-- 更新进度对话框 -->\n    <el-dialog title=\"更新生产进度\" :visible.sync=\"dialogVisible\" width=\"500px\">\n      <el-form :model=\"progressForm\" :rules=\"progressRules\" ref=\"progressForm\" label-width=\"100px\">\n        <el-form-item label=\"当前进度\" prop=\"currentProgress\">\n          <el-progress :percentage=\"calculateProgress\" :status=\"getProgressStatus\"></el-progress>\n        </el-form-item>\n        <el-form-item label=\"新进度值\" prop=\"newProgress\">\n          <el-slider\n            v-model=\"progressForm.newProgress\"\n            :min=\"calculateProgress\"\n            :max=\"100\"\n            :step=\"5\"\n            show-input\n          />\n        </el-form-item>\n        <el-form-item label=\"实际生产数\" prop=\"actualQuantity\">\n          <el-input-number \n            v-model=\"progressForm.actualQuantity\" \n            :min=\"planDetail.actualQuantity || 0\" \n            :max=\"planDetail.planQuantity\" \n            :step=\"5\"\n          />\n        </el-form-item>\n        <el-form-item label=\"备注说明\" prop=\"remark\">\n          <el-input type=\"textarea\" v-model=\"progressForm.remark\" rows=\"3\"></el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"submitProgress\" :loading=\"submitLoading\">确 定</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'ProductionPlanDetail',\n  data() {\n    return {\n      planId: null,\n      planDetail: {\n        id: null,\n        planNo: '',\n        orderNo: '',\n        productName: '',\n        planQuantity: 0,\n        actualQuantity: 0,\n        startDate: '',\n        endDate: '',\n        status: 0,\n        priority: 1,\n        remark: '',\n        createTime: '2023-10-01 09:00:00',\n        startTime: '2023-10-05 10:00:00',\n        completeTime: '',\n        storageTime: ''\n      },\n      dialogVisible: false,\n      progressForm: {\n        currentProgress: 0,\n        newProgress: 0,\n        actualQuantity: 0,\n        remark: ''\n      },\n      progressRules: {\n        newProgress: [\n          { required: true, message: '请设置新的进度值', trigger: 'change' }\n        ],\n        actualQuantity: [\n          { required: true, message: '请输入实际生产数量', trigger: 'blur' }\n        ]\n      },\n      submitLoading: false,\n      materialsList: [\n        { name: '铝合金', specification: 'AL6061', unit: 'kg', planQuantity: 100, actualQuantity: 97.5, warehouseName: '原料仓-A区' },\n        { name: '钢化玻璃', specification: '0.5mm', unit: '张', planQuantity: 550, actualQuantity: 550, warehouseName: '原料仓-B区' },\n        { name: '主板', specification: 'X2-1020', unit: '块', planQuantity: 500, actualQuantity: 500, warehouseName: '电子元件仓' },\n        { name: '电池', specification: '4000mAh', unit: '个', planQuantity: 520, actualQuantity: 510, warehouseName: '电子元件仓' },\n        { name: '包装材料', specification: '标准', unit: '套', planQuantity: 530, actualQuantity: 500, warehouseName: '包材仓' }\n      ],\n      processList: [\n        { seqNo: 1, processName: '原材料准备', description: '准备生产所需的所有原材料和零部件', equipmentName: '-', planTime: '2小时', actualTime: '1.5小时', status: 2 },\n        { seqNo: 2, processName: '组装主板', description: '组装主板和电子元件', equipmentName: '自动贴片机A', planTime: '4小时', actualTime: '4小时', status: 2 },\n        { seqNo: 3, processName: '屏幕组装', description: '屏幕和触控面板组装', equipmentName: '精密组装台B', planTime: '3小时', actualTime: '3.5小时', status: 2 },\n        { seqNo: 4, processName: '整机组装', description: '将所有组件组装成完整产品', equipmentName: '装配流水线C', planTime: '5小时', actualTime: '4.8小时', status: 2 },\n        { seqNo: 5, processName: '质量检测', description: '对产品进行全面质量检测', equipmentName: '自动检测设备D', planTime: '2小时', actualTime: '2小时', status: 1 },\n        { seqNo: 6, processName: '包装', description: '产品包装和贴标', equipmentName: '包装流水线E', planTime: '1.5小时', actualTime: '-', status: 0 }\n      ],\n      progressRecords: [\n        { updateTime: '2023-10-05 10:00:00', progress: 0, operator: '张工', remark: '开始生产' },\n        { updateTime: '2023-10-05 16:30:00', progress: 15, operator: '张工', remark: '完成原材料准备和部分组装' },\n        { updateTime: '2023-10-06 11:20:00', progress: 30, operator: '李工', remark: '完成主板组装' },\n        { updateTime: '2023-10-07 09:45:00', progress: 50, operator: '王工', remark: '完成屏幕组装' },\n        { updateTime: '2023-10-08 14:30:00', progress: 70, operator: '张工', remark: '完成整机组装，开始质量检测' }\n      ]\n    }\n  },\n  computed: {\n    calculateProgress() {\n      if (!this.planDetail.planQuantity) return 0\n      return Math.round((this.planDetail.actualQuantity / this.planDetail.planQuantity) * 100)\n    },\n    getProgressStatus() {\n      if (this.calculateProgress === 100) {\n        return 'success'\n      } else if (this.calculateProgress >= 80) {\n        return 'warning'\n      }\n      return ''\n    },\n    activeStep() {\n      if (this.planDetail.status === 0) return 1\n      if (this.planDetail.status === 1) {\n        return this.calculateProgress < 50 ? 2 : 3\n      }\n      if (this.planDetail.status === 2) return 4\n      if (this.planDetail.storageTime) return 5\n      return 1\n    },\n    getProgressStepDesc() {\n      if (this.planDetail.status === 1) {\n        return `进度: ${this.calculateProgress}%`\n      }\n      return '-'\n    }\n  },\n  created() {\n    const id = this.$route.params.id\n    if (id && !isNaN(parseInt(id))) {\n      this.planId = parseInt(id)\n      this.getPlanDetail()\n    } else {\n      this.$message.error('无效的计划ID')\n      this.goBack()\n    }\n  },\n  methods: {\n    getPlanDetail() {\n      // 模拟请求后端API获取计划详情\n      setTimeout(() => {\n        // 模拟数据\n        this.planDetail = {\n          id: this.planId,\n          planNo: 'PP20231001001',\n          orderNo: 'DD20231001001',\n          productName: '智能手机A',\n          planQuantity: 500,\n          actualQuantity: 350,\n          startDate: '2023-10-05',\n          endDate: '2023-10-15',\n          status: 1,\n          priority: 2,\n          remark: '高优先级订单，需优先安排生产',\n          createTime: '2023-10-01 09:00:00',\n          startTime: '2023-10-05 10:00:00',\n          completeTime: '',\n          storageTime: ''\n        }\n        \n        // 初始化进度表单\n        this.progressForm.currentProgress = this.calculateProgress\n        this.progressForm.newProgress = this.calculateProgress\n        this.progressForm.actualQuantity = this.planDetail.actualQuantity\n      }, 500)\n    },\n    goBack() {\n      this.$router.push({ name: 'ProductionPlan' })\n    },\n    viewOrderDetail() {\n      this.$router.push({ \n        name: 'OrderDetail', \n        params: { id: 1 }  // 这里应该根据orderNo查询到对应的orderId\n      })\n    },\n    // 获取状态类型\n    getStatusType(status) {\n      const typeMap = {\n        0: 'primary',\n        1: 'success',\n        2: 'warning',\n        3: 'danger'\n      }\n      return typeMap[status] || 'info'\n    },\n    // 获取状态名称\n    getStatusName(status) {\n      const nameMap = {\n        0: '待生产',\n        1: '生产中',\n        2: '已完成',\n        3: '已取消'\n      }\n      return nameMap[status] || '未知'\n    },\n    // 获取优先级类型\n    getPriorityType(priority) {\n      const typeMap = {\n        0: 'info',\n        1: '',\n        2: 'warning',\n        3: 'danger'\n      }\n      return typeMap[priority] || ''\n    },\n    // 获取优先级名称\n    getPriorityName(priority) {\n      const nameMap = {\n        0: '低',\n        1: '中',\n        2: '高',\n        3: '紧急'\n      }\n      return nameMap[priority] || '未知'\n    },\n    // 获取工序状态类型\n    getProcessStatusType(status) {\n      const typeMap = {\n        0: 'info',\n        1: 'primary',\n        2: 'success'\n      }\n      return typeMap[status] || 'info'\n    },\n    // 获取工序状态名称\n    getProcessStatusName(status) {\n      const nameMap = {\n        0: '待开始',\n        1: '进行中',\n        2: '已完成'\n      }\n      return nameMap[status] || '未知'\n    },\n    // 开始生产\n    handleStart() {\n      this.$confirm('确认开始生产该计划?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        // 模拟请求\n        this.planDetail.status = 1\n        this.planDetail.startTime = new Date().toLocaleString()\n        this.$message.success('已开始生产')\n      }).catch(() => {})\n    },\n    // 完成生产\n    handleComplete() {\n      this.$confirm('确认完成该生产计划?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        // 模拟请求\n        this.planDetail.status = 2\n        this.planDetail.actualQuantity = this.planDetail.planQuantity\n        this.planDetail.completeTime = new Date().toLocaleString()\n        this.$message.success('生产计划已完成')\n      }).catch(() => {})\n    },\n    // 编辑计划\n    handleEdit() {\n      this.$message.info('编辑功能待实现')\n    },\n    // 取消计划\n    handleCancel() {\n      this.$confirm('确认取消该生产计划?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        // 模拟请求\n        this.planDetail.status = 3\n        this.$message.success('生产计划已取消')\n      }).catch(() => {})\n    },\n    // 提交进度更新\n    submitProgress() {\n      this.$refs.progressForm.validate(valid => {\n        if (!valid) return\n        \n        this.submitLoading = true\n        \n        // 模拟提交请求\n        setTimeout(() => {\n          // 更新计划详情\n          this.planDetail.actualQuantity = this.progressForm.actualQuantity\n          \n          // 添加进度记录\n          const now = new Date().toLocaleString()\n          this.progressRecords.unshift({\n            updateTime: now,\n            progress: this.progressForm.newProgress,\n            operator: '当前用户',\n            remark: this.progressForm.remark || '常规进度更新'\n          })\n          \n          // 如果进度达到100%，自动完成\n          if (this.progressForm.newProgress === 100) {\n            this.planDetail.status = 2\n            this.planDetail.completeTime = now\n          }\n          \n          this.$message.success('进度更新成功')\n          this.dialogVisible = false\n          this.submitLoading = false\n        }, 1000)\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n.page-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n  background-color: #fff;\n  padding: 15px 20px;\n  border-radius: 4px;\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n}\n.header-title {\n  display: flex;\n  align-items: center;\n}\n.header-actions {\n  display: flex;\n  gap: 10px;\n}\n.plan-info-card {\n  margin-bottom: 20px;\n}\n.info-item {\n  margin-bottom: 15px;\n}\n.info-label {\n  font-size: 14px;\n  color: #909399;\n  margin-bottom: 5px;\n}\n.info-value {\n  font-size: 14px;\n  color: #303133;\n}\n.section-title {\n  font-size: 16px;\n  font-weight: bold;\n  margin-bottom: 15px;\n  color: #303133;\n}\n.progress-timeline {\n  padding: 20px;\n}\n</style> "]}]}